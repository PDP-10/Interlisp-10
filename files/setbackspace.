(FILECREATED "27-NOV-74 12:48:03" SETBACKSPACE.;6 2752   


     changes to:  SETBACKSPACE

     previous date: "31-OCT-74 12:14:21" <LISP>SETBACKSPACE.;5)


  (LISPXPRINT (QUOTE SETBACKSPACECOMS)
	      T T)
  [RPAQQ SETBACKSPACECOMS ((FNS SETBACKSPACE)
	  (ADDVARS (BACKSPACESTATUS))
	  (DECLARE: DONTEVAL@LOAD DOEVAL@COMPILE DONTCOPY COMPILERVARS
		    (ADDVARS (NLAMA)
			     (NLAML SETBACKSPACE]
(DEFINEQ

(SETBACKSPACE
  [NLAMBDA (FLG)
    (SELECTQ FLG
	     (CDC (ECHOCONTROL 8 (QUOTE REAL))
		  (DELETECONTROL (QUOTE NOECHO))
		  (DELETECONTROL (QUOTE 1STCHDEL)
				 " ")
		  (DELETECONTROL (QUOTE NTHCHDEL)
				 " ")
		  (DELETECONTROL (QUOTE POSTCHDEL)
				 "")
		  (DELETECONTROL (QUOTE EMPTYCHDEL)
				 ""))
	     (DM (ECHOCONTROL 8 (QUOTE REAL))
		 (DELETECONTROL (QUOTE NOECHO))
		 (DELETECONTROL (QUOTE 1STCHDEL)
				"")
		 (DELETECONTROL (QUOTE NTHCHDEL)
				"")
		 (DELETECONTROL (QUOTE POSTCHDEL)
				"")
		 (DELETECONTROL (QUOTE EMPTYCHDEL)
				""))
	     ((NIL TI)
	       (ECHOCONTROL 8 (QUOTE UPARROW))
	       (DELETECONTROL (QUOTE ECHO))
	       (DELETECONTROL (QUOTE 1STCHDEL)
			      "\")
	       (DELETECONTROL (QUOTE NTHCHDEL)
			      "")
	       (DELETECONTROL (QUOTE POSTCHDEL)
			      "\")
	       (DELETECONTROL (QUOTE EMPTYCHDEL)
			      "##
"))
	     ((OLD OLDTI)
	       (ECHOCONTROL 8 (QUOTE UPARROW))
	       (DELETECONTROL (QUOTE ECHO))
	       (DELETECONTROL (QUOTE 1STCHDEL)
			      "\")
	       (DELETECONTROL (QUOTE NTHCHDEL)
			      "\")
	       (DELETECONTROL (QUOTE POSTCHDEL)
			      "")
	       (DELETECONTROL (QUOTE EMPTYCHDEL)
			      "##
"))
	     (ERROR FLG "INVALID ARG TO SETBACKSPACE"))
    [SELECTQ FLG
	     (DM (SETSYNTAX 127 (QUOTE CHARDELETE))
		 (INTERRUPTCHAR 0 (QUOTE RUBOUT))
                                                (* DISABLE RUBOUT AS AN 
                                                INTERRUPT AND ENABLE 
                                                BREAK)
		 (ECHOCONTROL 1 (QUOTE UPARROW)))
	     (PROGN (SETSYNTAX 1 (QUOTE CHARDELETE))
		    (INTERRUPTCHAR 28 (QUOTE RUBOUT))
                                                (* REENABLE RUBOUT AS 
                                                CLEAR INPUT BUFFER)
		    (ECHOCONTROL 1 (QUOTE IGNORE]
    (SELECTQ FLG
	     ((TI OLDTI DM)
	       (RAISE NIL))
	     (RAISE 0))
    (AND (EQ (CAR (QUOTE BACKSPACESTATUS))
	     (QUOTE NOBIND))
	 (SETQ BACKSPACESTATUS))
    (PROG1 BACKSPACESTATUS (/RPLACA (QUOTE BACKSPACESTATUS)
				    FLG])
)
  (ADDTOVAR BACKSPACESTATUS)
[DECLARE: DONTEVAL@LOAD DOEVAL@COMPILE DONTCOPY COMPILERVARS 
  (ADDTOVAR NLAMA)
  (ADDTOVAR NLAML SETBACKSPACE)
]
(DECLARE: DONTCOPY
  (FILEMAP (NIL (417 2579 (SETBACKSPACE 429 . 2576)))))
STOP
