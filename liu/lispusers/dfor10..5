(FILECREATED "24-JAN-83 23:37:12" <LISPUSERS>DFOR10.;5 1827   

      changes to:  (VARS DFOR10COMS)
		   (FNS STREAMP)

      previous date: " 8-JAN-83 06:26:01" <LISPUSERS>DFOR10.;4)


(* Copyright (c) 1982, 1983 by Xerox Corporation)

(PRETTYCOMPRINT DFOR10COMS)

(RPAQQ DFOR10COMS [(FNS GETSTREAM BIN BOUT OPENSTREAM STREAMP)
		   (PROP 10MACRO \BIN \BOUT KNOWNSMALLP)
		   (DECLARE: EVAL@COMPILE DONTCOPY (P (FILESLOAD (FROM LISPUSERS)
								 CJSYS])
(DEFINEQ

(GETSTREAM
  [LAMBDA (FILE ACCESS)            (* lmm "17-SEP-82 17:19")
                                   (* DCODEFOR10 VERSION)
    (COND
      ((SMALLP FILE)
	FILE)
      (T (OPNJFN (OR FILE (SELECTQ ACCESS
				   (OUTPUT (OUTPUT))
				   (INPUT)))
		 ACCESS])

(BIN
  [LAMBDA (STREAM)                 (* lmm "17-SEP-82 17:21")
    (\BIN (GETSTREAM STREAM (QUOTE INPUT])

(BOUT
  [LAMBDA (STREAM BYTE)            (* lmm "17-SEP-82 17:20")
    (\BOUT (GETSTREAM STREAM (QUOTE OUTPUT))
	   BYTE])

(OPENSTREAM
  [LAMBDA (FILE ACCESS RECOG BYTESIZE MACHINE.DEPENDENT.PARAMETERS)
                                   (* lmm "17-SEP-82 17:22")
    (OPNJFN (OPENFILE FILE ACCESS RECOG BYTESIZE MACHINE.DEPENDENT.PARAMETERS)
	    ACCESS])

(STREAMP
  [LAMBDA (X)                      (* lmm "24-JAN-83 23:34")
    (SMALLP X])
)

(PUTPROPS \BIN 10MACRO ((JFN)
			(JS BIN (KNOWNSMALLP JFN)
			    NIL NIL 2)))

(PUTPROPS \BOUT 10MACRO ((JFN BYTE)
			 (JS BOUT (KNOWNSMALLP JFN)
			     (KNOWNSMALLP BYTE)
			     NIL 2)))

(PUTPROPS KNOWNSMALLP 10MACRO ((X)
			       X))
(DECLARE: EVAL@COMPILE DONTCOPY 
(FILESLOAD (FROM LISPUSERS)
	   CJSYS)
)
(PUTPROPS DFOR10 COPYRIGHT ("Xerox Corporation" 1982 1983))
(DECLARE: DONTCOPY
  (FILEMAP (NIL (484 1398 (GETSTREAM 496 . 780) (BIN 784 . 906) (BOUT 910 . 1047) (OPENSTREAM 1051 . 
1296) (STREAMP 1300 . 1395)))))
STOP
