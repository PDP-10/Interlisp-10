(DEFINE-FILE-INFO PACKAGE "INTERLISP" READTABLE "XCL" BASE 10)(filecreated "29-Oct-87 11:59:24" {erinyes}<lispusers>lyric>cl-ttyedit.\;1 2097         |changes| |to:|  (vars cl-ttyeditcoms)      |previous| |date:| "10-Oct-87 16:44:25" |{IE:PARC:XEROX}<LISP>LYRIC>LISPUSERS>CL-TTYEDIT.;1|); Copyright (c) 1987 by Xerox Corporation.  All rights reserved.(prettycomprint cl-ttyeditcoms)(rpaqq cl-ttyeditcoms ((vars (**comment**flg ";..") (editrdtbl nil) (dummy nil)) (variables edit-atoms) (functions subpat) (p (unadvise editfpat \\editblock/editcoma \\editblock/editcoml) (* "This is because EDITCOMA atempts to rebind RDTBL to EDITRDTBL on PP -- a useless thing, but PP will error if *READTABLE* is NIL") (changename (quote \\editblock/editcoma) (quote *readtable*) (quote dummy))) (advise editfpat \\editblock/editcoma \\editblock/editcoml)))(rpaq **comment**flg ";..")(rpaqq editrdtbl nil)(rpaqq dummy nil)(cl:defparameter edit-atoms (quote (("--" . --) ("&" . &) ("*ANY*" . *any*) ("---" . |..|) ("==" . ==))))(cl:defun subpat (x) (|if| (litatom x) |then| (|for| p |in| edit-atoms |when| (strequal (car p) x) |do| (return (cdr p)) |finally| (return x)) |else| x))(unadvise editfpat \\editblock/editcoma \\editblock/editcoml)(* "This is because EDITCOMA atempts to rebind RDTBL to EDITRDTBL on PP -- a useless thing, but PP will error if *READTABLE* is NIL")(changename (quote \\editblock/editcoma) (quote *readtable*) (quote dummy))(xcl:reinstall-advice (quote editfpat) :before (quote ((:last (setq pat (subpat pat))) (:last (setq pat (subpat pat))))))(xcl:reinstall-advice (quote \\editblock/editcoma) :before (quote ((:last (setq c (mkatom (u-case (mkstring c))))))))(xcl:reinstall-advice (quote \\editblock/editcoml) :before (quote ((:last (and (litatom (car c)) (rplaca c (mkatom (u-case (mkstring (car c))))))) (:last (and (litatom (car c)) (rplaca c (mkatom (u-case (mkstring (car c))))))))))(readvise editfpat \\editblock/editcoma \\editblock/editcoml)(putprops cl-ttyedit copyright ("Xerox Corporation" 1987))(declare\: dontcopy  (filemap (nil)))stop