(DEFINE-FILE-INFO §READTABLE "INTERLISP" §PACKAGE "INTERLISP")(FILECREATED " 4-Nov-86 15:49:02" {ERIS}<LISPUSERS>LISPCORE>LISPXCONVERT.;1 2071         changes to%:  (VARS LISPXCONVERTCOMS)                    (FNS LISPXCONVERT))(* "Copyright (c) 1986 by Xerox Corporation.  All rights reserved.")(PRETTYCOMPRINT LISPXCONVERTCOMS)(RPAQQ LISPXCONVERTCOMS ((FNS LISPXCONVERT)))(DEFINEQ(LISPXCONVERT  [LAMBDA (MACRONAMES EDITFLG)                               (* bvm%: " 4-Nov-86 15:46")                                                  (* ;; "Convert old style lispxmacros to new style defcommands.  If EDITFLG is true, you get a chance to edit the DEFCOMMAND forms before they get eval'ed.")    (for NAME inside MACRONAMES       collect [LET (TYPE BOD)                    (if (SETQ BOD (CDR (ASSOC NAME LISPXHISTORYMACROS)))                        then                                 (* ; "history macro")                             (SETQ TYPE :INPUT)                      elseif (SETQ BOD (CDR (ASSOC NAME LISPXMACROS)))                        then                                 (* ; "eval type")                             (SETQ TYPE :EVAL)                      else (CL:CERROR "Ignore ~S" "Lispxmacro for ~S not found" NAME))                    (AND TYPE (COPY `(DEFCOMMAND ((\, NAME) ,TYPE                                                            ,@(if (NULL (CAR BOD))                                                                  then                                                       (* ; "like SHH, don't record on history list")                                                                       (pop BOD)                                                                       '(:QUIET))) (&REST LISPXLINE)                                        ,@BOD)] finally (if EDITFLG              then (EDITE $$VAL))        (RETURN (MAPCAR $$VAL (FUNCTION EVAL]))(PUTPROPS LISPXCONVERT COPYRIGHT ("Xerox Corporation" 1986))(DECLARE%: DONTCOPY  (FILEMAP (NIL (397 1987 (LISPXCONVERT 407 . 1985)))))STOP