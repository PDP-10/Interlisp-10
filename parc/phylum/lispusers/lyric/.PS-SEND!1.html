<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <title>File [phylum]&lt;LISPUSERS>Lyric>PS-SEND!1</title>
  </head>
  <body>
    <pre>
(DEFINE-FILE-INFO PACKAGE "INTERLISP" READTABLE "INTERLISP")(FILECREATED "20-Jan-88 10:22:33" {DSK}&lt;LISPFILES&gt;PS&gt;PS-SEND.;1 3372         changes to%:  (VARS PS-SENDCOMS)                    (PROPS (PS-SEND MAKEFILE-ENVIRONMENT)))(* "Copyright (c) 1988 by Beckman Instruments, Inc.  All rights reserved.")(PRETTYCOMPRINT PS-SENDCOMS)(RPAQQ PS-SENDCOMS ((FNS POSTSCRIPT.SEND)                    (PROP (FILETYPE MAKEFILE-ENVIRONMENT)                          PS-SEND)))(DEFINEQ(POSTSCRIPT.SEND  [LAMBDA (HOST FILE PRINTOPTIONS)     (* ;                                        "Edited 19-Jan-88 13:26 by Matt Heffron")                (* ;; "Since I don't have a printer on another host on the network, I cannot test this routine.  Someone who does should test it and let me know how to fix it.  -Matt Heffron.")    [OR HOST (SETQ HOST (CAR (MKLIST DEFAULTPRINTINGHOST]    (if (LISTP HOST)        then (SETQ HOST (CADR HOST)))    (LET* ([INFILE (OPENSTREAM FILE 'INPUT NIL '((TYPE TEXT)                                                 (SEQUENTIAL T]           (SPOOLDIRECTORY (GETPROP HOST 'SPOOLDIRECTORY))           (SPOOLFILE (GETPROP HOST 'SPOOLFILE))           [OUTFILE (if SPOOLFILE                        then [OPENSTREAM SPOOLFILE 'OUTPUT NIL                                    '((TYPE TEXT)                                      (SEQUENTIAL T]                      elseif SPOOLDIRECTORY                        then [OPENSTREAM (CONCAT SPOOLDIRECTORY (GENSYM                                                                        USERNAME                                                                       )                                                ".PS")                                    'OUTPUT NIL '((TYPE TEXT)                                                  (SEQUENTIAL T]                      else (TCP.OPEN HOST 35 NIL 'ACTIVE 'OUTPUT]           (PRETTYDEST (if (OR SPOOLFILE SPOOLDIRECTORY)                           then (CONCAT (FULLNAME OUTFILE)                                       " (" HOST ")")                         else HOST)))          (if OUTFILE              then (printout PROMPTWINDOW "[Sending " FILE " to " PRETTYDEST                           "...]" T)                   (LET [(POSTSCRIPTSTRING (LISTGET PRINTOPTIONS '                                                  POSTSCRIPT.CONTROL.STRING]                        (if POSTSCRIPTSTRING                            then (PRIN1 (CL:READ-LINE INFILE)                                        OUTFILE)                                 (TERPRI OUTFILE)                                 (PRIN1 POSTSCRIPTSTRING OUTFILE)))                   (COPYBYTES INFILE OUTFILE)                   (CLOSEF OUTFILE)                   (CLOSEF INFILE)                   (printout PROMPTWINDOW "[Finished sending " FILE " to "                           PRETTYDEST ".]" T)            else (printout PROMPTWINDOW "[Unable to send " FILE " to "                         PRETTYDEST ".]" T]))(PUTPROPS PS-SEND FILETYPE :TCOMPL)(PUTPROPS PS-SEND MAKEFILE-ENVIRONMENT (:PACKAGE "INTERLISP" :READTABLE                                               "INTERLISP"))(PUTPROPS PS-SEND COPYRIGHT ("Beckman Instruments, Inc" 1988))(DECLARE%: DONTCOPY  (FILEMAP (NIL (493 3107 (POSTSCRIPT.SEND 503 . 3105)))))STOP</pre>
  </body>
</html>
