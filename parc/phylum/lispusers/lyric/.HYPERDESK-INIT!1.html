<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <title>File [phylum]&lt;LISPUSERS>Lyric>HYPERDESK-INIT!1</title>
  </head>
  <body>
    <pre>
(DEFINE-FILE-INFO PACKAGE "XCL-USER" READTABLE "XCL" BASE 10)(il:filecreated " 3-May-88 17:59:10" il:|{EG:PARC:XEROX}&lt;RAO&gt;HYPERDESK&gt;HYPERDESK-INIT.;37| 12268        il:|changes| il:|to:|  (il:vars il:hyperdesk-initcoms)      il:|previous| il:|date:| "26-Apr-88 13:51:58" il:|{EG:PARC:XEROX}&lt;RAO&gt;HYPERDESK&gt;HYPERDESK-INIT.;36|); Copyright (c) 1988 by Xerox Corporation.  All rights reserved.(il:prettycomprint il:hyperdesk-initcoms)(il:rpaqq il:hyperdesk-initcoms ((il:* il:|;;| "HYPERDESK INIT") (il:* il:|;;| "Stuff needed even when just source is loaded") (il:functions remove-junk-rooms (il:* il:|;;| "Duplicated.  Make sure Make-HyperDesk is also loaded before editting these functions.") il:make-hyperdesk-bug-report il:log-hyperdesk-user) (il:alists (il:fontdefs il:hyperdesk)) (il:* il:|;;| "Only Evalled at load of Compile") (il:declare\: il:donteval@load il:donteval@compile (il:* il:|;;;| "----- Init File Stuff") (il:coms (il:vars (*hyperdesk-sysout-p* (il:strpos "HyperDesk" il:heraldstring)) (*superdesk-sysout-p* (il:strpos "SuperDesk" il:heraldstring)) (*hyperdesk-init-p* t) (il:hyperusersdirectories (quote (il:{eg\:}&lt;rao&gt;lisp&gt;users&gt; il:{eg\:}&lt;lanning&gt;lisp&gt;users&gt;)))) (il:initvars (il:usersdirectories il:hyperusersdirectories) (il:* il:|;;| "So I know whether these have been loaded (or attempted) before.") (il:*generic-init-loaded* nil) (il:*hyperdesk-init-loaded* nil) (*hyperdesk-init-logged*) (il:\\cc-hyperdesk-msg t))) (il:* il:|;;;| "----- BASICS Goodies") (il:addvars (il:greetdates ("27-JAN" . "Happy Mozart's birthday") (" 1-APR" . "Hello fool") (" 5-MAY" . "Happy Cinco de Mayo") (" 6-AUG" . "Hiroshima day") (" 9-AUG" . "Nagasaki day") ("11-NOV" . "Remember the 11th hour of the 11th day of the 11th month"))) (il:* il:|;;;| "----- Set up PRE Generic Init variables that you want initialized before generic init gets loaded") (il:initvars (il:*hyperdesk-full-init-p* (il:memb (il:askuser 7 (quote il:y) "Do a full initialization? ") (quote (il:y t))))) (il:appendvars (il:|*AddressBookFiles*| il:{indigo}&lt;registrar&gt;parcphonelist.txt)) (il:initvars (il:*hyperdesk-base-modules*) (il:*hyperdesk-modules* (quote ("Load-PCL" "Rooms" "Common-Lens" "Clens-Rooms" "Random-Window-Types" "Notecards-Window-Types" "Lafite-Window-Types"))) (il:*hyperdesk-extra-modules*)) (il:initvars (il:*load-utility-options* (if il:*hyperdesk-full-init-p* (append il:*hyperdesk-base-modules* il:*hyperdesk-modules* il:*hyperdesk-extra-modules*) (if *hyperdesk-sysout-p* (quote ("Rooms"))))) (il:\\use-lens? t) (il:\\turn-on-mailer nil) (il:*load-silent* t)) (il:initvars (il:\\font-profile-name (quote il:hyperdesk))) (il:* il:|;;;| "----- Now LOAD Generic Init") (il:* il:|;;| "Controls to Generic-INIT") (il:p (unless (and (il:* il:|;;| "Load it even if it's been loaded for now.") nil il:*generic-init-loaded*) (il:filesload (il:from il:hyperusers) "Generic-Init") (il:filesload (il:sysload il:from il:hyperusers) "RRExec"))) (il:* il:|;;;| "----- Set up POST Generic Init Variables.") (il:vars (il:enforce.icon.regions (list (il:createregion 0 (* 1/6 il:screenheight) il:screenwidth (* 5/6 il:screenheight)))) (il:lafitehardcopybatchflg) (il:lafitebrowserregion (il:createregion (floor (* il:screenwidth 2/5)) (floor (* il:screenheight 2/11)) (floor (* il:screenwidth 3/5)) (floor (* il:screenheight 1/5)))) (il:lafitedisplayregion (il:createregion (floor (* il:screenwidth 2/5)) (floor (* il:screenheight 25/64)) (floor (* il:screenwidth 3/5)) (floor (* il:screenheight 7/12))))) (il:* il:|;;;| "----- SETUP HyperDesk Suite ------") (il:initvars (il:*hyperdesk-suites-p* t) (il:*hyperdesk-ax-original-p* t) (il:*hyperdesk-ax-pockets-p* t) (il:*hyperfloor-suite-p* t) (il:*hyperdesk-suite-p* t) (il:*hyperdesk-user-suites* nil)) (il:p (when (and il:*hyperdesk-full-init-p* il:*hyperdesk-suites-p*) (when il:*hyperfloor-suite-p* (il:filesload (il:from lispusers) "HyperFloor.Suite") (when il:*hyperdesk-suite-p* (il:filesload (il:from lispusers) "HyperDesk.Suite"))) (dolist (suite il:*hyperdesk-user-suites*) (load suite)) (remove-junk-rooms il:*hyperdesk-ax-original-p* il:*hyperdesk-ax-pockets-p*)) (when (not (and il:*hyperdesk-full-init-p* il:*hyperdesk-suites-p* il:*hyperfloor-suite-p*)) (il:|AddLoadMenuItem| "Rooms" (quote ((il:from il:users) "HyperFloor.Suite")))) (when (not (and il:*hyperdesk-full-init-p* il:*hyperdesk-suites-p* il:*hyperfloor-suite-p* il:*hyperdesk-suite-p*)) (il:|AddLoadMenuItem| "Rooms" (quote ((il:from il:users) "HyperDesk.Suite"))))) (il:* il:|;;;| "----- HYPERDESK LOADED -----") (il:p (il:log-hyperdesk-user) (pushnew (quote ("HyperDesk Report" (quote il:make-hyperdesk-bug-report) "Report a bug in HyperDesk")) il:lafitespecialforms :test (quote equal) :key (quote car)) (setq il:lafiteformsmenu nil)) (il:vars (il:*hyperdesk-init-loaded* t))) (il:* il:|;;| "") (il:declare\: il:dontcopy (il:props (il:hyperdesk-init il:makefile-environment) (il:hyperdesk-init il:filetype)))))(il:* il:|;;| "HYPERDESK INIT")(il:* il:|;;| "Stuff needed even when just source is loaded")(defun remove-junk-rooms (ax-original-p ax-pockets-p) (macrolet ((rooms-funcall (fn . args) (il:bquote (funcall (intern (symbol-name (il:\\\, fn)) "ROOMS") (il:\\\,@ args)))) (rooms-intern (name) (il:bquote (eval (intern (il:\\\, name) "ROOMS"))))) (let ((original (gethash "Original" (rooms-intern "*ROOMS*"))) (pockets (gethash "Pockets" (rooms-intern "*ROOMS*")))) (when (and ax-original-p original) (when (equal (rooms-funcall (quote room-name) (rooms-intern "*CURRENT-ROOM*")) "Original") (rooms-funcall (quote add-placement) (rooms-funcall (quote make-placement) (il:wfromds t)) (rooms-intern "*OVERVIEW-ROOM*")) (rooms-funcall (quote go-to-overview))) (rooms-funcall (quote delete-room) original)) (when (and ax-pockets-p pockets) (rooms-funcall (quote delete-room) pockets)))))(defun il:make-hyperdesk-bug-report nil (il:makexxxsupportform "HyperDesk" "Rao.pa" il:heraldstring))(defun il:log-hyperdesk-user nil "If another person uses Generic-Init, let me know." (unless *hyperdesk-init-logged* (ignore-errors (let ((user (il:if il:\\cc-hyperdesk-msg il:then (il:username) il:else "")) (maintainer "Rao")) (unless (string-equal (il:username) maintainer) (il:lafite.sendmessage (format nil "Subject: ~A~%To: ~A~%Cc: ~A~@{~%~%~A~}" (format nil "I use HyperDesk: ~a, ~a" (if *hyperdesk-sysout-p* "Hyper" (if *superdesk-sysout-p* "Super" "Guess")) *hyperdesk-init-p*) maintainer user "If you hate seeing this message,set IL:\\CC-HYPERDESK-MSG to NIL in your Init file or ask rr to." "Call x4716 for instant help" "Thanks for making the HyperDesk available.")))) (setq *hyperdesk-init-logged* t))))(il:addtovar il:fontdefs (il:hyperdesk (il:fontchangeflg . il:all) (il:filelinelength . 102) (il:commentlinelength 80 . 102) (il:lambdafontlinelength . 95) (il:firstcol . 60) (il:prettylcom . 25) (il:listfilestr . "") (il:|ObjectDontPPFlag| . t) (il:sysprettyflg . t) (il:**comment**flg) (il:fontprofile (il:defaultfont 1 (il:gacha 10) (il:gacha 8) (il:terminal 8)) (il:boldfont 2 (il:helvetica 10 il:brr) (il:helvetica 8 il:brr) (il:modern 8 il:brr)) (il:littlefont 3 (il:helvetica 8) (il:helvetica 6 il:mir) (il:modern 6 il:mir)) (il:bigfont 4 (il:helvetica 12 il:brr) (il:helvetica 10 il:brr) (il:modern 10 il:brr)) (il:userfont il:boldfont) (il:commentfont il:littlefont) (il:lambdafont il:bigfont) (il:systemfont) (il:clispfont il:boldfont) (il:changefont) (il:prettycomfont il:boldfont) (il:tinyfont il:littlefont) (il:font1 il:defaultfont) (il:font2 il:boldfont) (il:font3 il:littlefont) (il:font4 il:bigfont) (il:font5 5 (il:helvetica 10 il:bir) (il:helvetica 8 il:bir) (il:modern 8 il:bir)) (il:font6 6 (il:helvetica 10 il:brr) (il:helvetica 8 il:brr) (il:modern 8 il:brr)) (il:font7 7 (il:gacha 12) (il:gacha 12) (il:terminal 12)) (il:font8 8 (il:cream 10) (il:cream 10) (il:modern 10 il:mir)) (il:font9 9 (il:cream 10 il:brr) (il:cream 10 il:brr) (il:modern 10 il:bir)) (il:font10 10 (il:cream 12) (il:cream 12) (il:modern 12 il:mir)) (il:font11 11 (il:timesroman 10) (il:timesroman 10) (il:classic 10)) (il:font12 12 (il:timesroman 12) (il:timesroman 12) (il:classic 12)) (il:|\\WindowTitleFont| il:bigfont) (il:lafitetitlefont il:|\\WindowTitleFont|) (il:chat.font il:font7) (il:lafitehardcopyfont il:font12))))(il:* il:|;;| "Only Evalled at load of Compile")(il:declare\: il:donteval@load il:donteval@compile (il:rpaq *hyperdesk-sysout-p* (il:strpos "HyperDesk" il:heraldstring))(il:rpaq *superdesk-sysout-p* (il:strpos "SuperDesk" il:heraldstring))(il:rpaqq *hyperdesk-init-p* t)(il:rpaqq il:hyperusersdirectories (il:{eg\:}&lt;rao&gt;lisp&gt;users&gt; il:{eg\:}&lt;lanning&gt;lisp&gt;users&gt;))(il:rpaq? il:usersdirectories il:hyperusersdirectories)(il:rpaq? il:*generic-init-loaded* nil)(il:rpaq? il:*hyperdesk-init-loaded* nil)(il:rpaq? *hyperdesk-init-logged*)(il:rpaq? il:\\cc-hyperdesk-msg t)(il:addtovar il:greetdates ("27-JAN" . "Happy Mozart's birthday") (" 1-APR" . "Hello fool") (" 5-MAY" . "Happy Cinco de Mayo") (" 6-AUG" . "Hiroshima day") (" 9-AUG" . "Nagasaki day") ("11-NOV" . "Remember the 11th hour of the 11th day of the 11th month"))(il:rpaq? il:*hyperdesk-full-init-p* (il:memb (il:askuser 7 (quote il:y) "Do a full initialization? ") (quote (il:y t))))(il:appendtovar il:|*AddressBookFiles*| il:{indigo}&lt;registrar&gt;parcphonelist.txt)(il:rpaq? il:*hyperdesk-base-modules*)(il:rpaq? il:*hyperdesk-modules* (quote ("Load-PCL" "Rooms" "Common-Lens" "Clens-Rooms" "Random-Window-Types" "Notecards-Window-Types" "Lafite-Window-Types")))(il:rpaq? il:*hyperdesk-extra-modules*)(il:rpaq? il:*load-utility-options* (if il:*hyperdesk-full-init-p* (append il:*hyperdesk-base-modules* il:*hyperdesk-modules* il:*hyperdesk-extra-modules*) (if *hyperdesk-sysout-p* (quote ("Rooms")))))(il:rpaq? il:\\use-lens? t)(il:rpaq? il:\\turn-on-mailer nil)(il:rpaq? il:*load-silent* t)(il:rpaq? il:\\font-profile-name (quote il:hyperdesk))(unless (and (il:* il:|;;| "Load it even if it's been loaded for now.") nil il:*generic-init-loaded*) (il:filesload (il:from il:hyperusers) "Generic-Init") (il:filesload (il:sysload il:from il:hyperusers) "RRExec"))(il:rpaq il:enforce.icon.regions (list (il:createregion 0 (* 1/6 il:screenheight) il:screenwidth (* 5/6 il:screenheight))))(il:rpaqq il:lafitehardcopybatchflg nil)(il:rpaq il:lafitebrowserregion (il:createregion (floor (* il:screenwidth 2/5)) (floor (* il:screenheight 2/11)) (floor (* il:screenwidth 3/5)) (floor (* il:screenheight 1/5))))(il:rpaq il:lafitedisplayregion (il:createregion (floor (* il:screenwidth 2/5)) (floor (* il:screenheight 25/64)) (floor (* il:screenwidth 3/5)) (floor (* il:screenheight 7/12))))(il:rpaq? il:*hyperdesk-suites-p* t)(il:rpaq? il:*hyperdesk-ax-original-p* t)(il:rpaq? il:*hyperdesk-ax-pockets-p* t)(il:rpaq? il:*hyperfloor-suite-p* t)(il:rpaq? il:*hyperdesk-suite-p* t)(il:rpaq? il:*hyperdesk-user-suites* nil)(when (and il:*hyperdesk-full-init-p* il:*hyperdesk-suites-p*) (when il:*hyperfloor-suite-p* (il:filesload (il:from lispusers) "HyperFloor.Suite") (when il:*hyperdesk-suite-p* (il:filesload (il:from lispusers) "HyperDesk.Suite"))) (dolist (suite il:*hyperdesk-user-suites*) (load suite)) (remove-junk-rooms il:*hyperdesk-ax-original-p* il:*hyperdesk-ax-pockets-p*))(when (not (and il:*hyperdesk-full-init-p* il:*hyperdesk-suites-p* il:*hyperfloor-suite-p*)) (il:|AddLoadMenuItem| "Rooms" (quote ((il:from il:users) "HyperFloor.Suite"))))(when (not (and il:*hyperdesk-full-init-p* il:*hyperdesk-suites-p* il:*hyperfloor-suite-p* il:*hyperdesk-suite-p*)) (il:|AddLoadMenuItem| "Rooms" (quote ((il:from il:users) "HyperDesk.Suite"))))(il:log-hyperdesk-user)(pushnew (quote ("HyperDesk Report" (quote il:make-hyperdesk-bug-report) "Report a bug in HyperDesk")) il:lafitespecialforms :test (quote equal) :key (quote car))(setq il:lafiteformsmenu nil)(il:rpaqq il:*hyperdesk-init-loaded* t))(il:* il:|;;| "")(il:declare\: il:dontcopy (il:putprops il:hyperdesk-init il:makefile-environment (:package "XCL-USER" :readtable "XCL" :base 10))(il:putprops il:hyperdesk-init il:filetype :compile-file))(il:putprops il:hyperdesk-init il:copyright ("Xerox Corporation" 1988))(il:declare\: il:dontcopy  (il:filemap (nil)))il:stop</pre>
  </body>
</html>
