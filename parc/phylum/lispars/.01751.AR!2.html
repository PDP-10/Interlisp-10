<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <title>File [phylum]&lt;LispARs>01751.AR!2</title>
  </head>
  <body>
    <pre>
Number: 1751Date:  2-Aug-84 12':51':19Submitter: JonL.paSource: JonL.paSubject: Filepkg type synonym facility needs to be documentedLisp Version: 30-Jul-84 21':47':55Description: I believe all that should be necessary to make FOO a filepkgtype synonym for BAR is to  do (FILEPKGTYPE ''FOO ''TYPE ''BAR)''-----'''Date': 24 Jul 84 15':43 PDT'From': Sannella.pa'Subject': "HASDEF problem" -- GLOBALRESOURCES filepkgcom still not quite right'To': LispCore&uarr;.pa'cc': Sannella.pa''The problem that Jonl reported, that (HASDEF NIL ''?) breaks with "no defined way to dump or obtain the definition of (VARS)", is a non-problem.  It turns out that noone calls HASEF with these args.''The reason Jonl reported this problem was that he had determined (incorrectly) that this was the function call within DEDIT that was causing DEdit to fail when one asked to edit an object with no in-core definition.''The REAL problem':  In the current loadup, recursively calling DEdit to load and edit an object that does not have an in-core definition gives an error "(RESOURCES definition not found)".  Jonl and I tracked this down to the fact that FILEPKGTYPES contains the name GLOBALRESOURCES, along with (GLOBALRESOURCES . RESOURCES).  Essentially, it looks like the problem of "how to define GLOBALRESOURCES as a synonym of RESOURCES" has not yet been solved.''Quick fix, for those who want to get some work done':''(DREMOVE ''GLOBALRESOURCES FILEPKGTYPES)''-----''From': masinter.pa'Date': 24-Jul-84 20':16':08 PDT'Subject': Re': "HASDEF problem" -- GLOBALRESOURCES filepkgcom still not quite right'In-reply-to': Sannella''s message of 24 Jul 84 15':43 PDT'To': Sannella'cc': LispCore&uarr;''It was solved and got unsolved, apparently. GLOBALRESOURCES should not be a member of FILEPKGTYPES. There *should* be an entry of the form (GLOBALRESOURCES . RESOURCES) on FILEPKGTYPES.''Loading FILEPKG and remaking it in an older sysout can cause this problem; there is an obscure bug in the definition of GETDEF and PUTDEF of FILEPKGCOMS that if you have FOO defined as a FILEPKGCOM, load a package which redefines FOO, the "new" definition is merged in with the old rather than replaced.''(This behavior is true also of other "merged" file package times such as MACROs -- if you have a file which defines a DMACRO and load it into a sysout with a MACRO and then make the file again, it will pick up the MACRO. )''Sometimes innocuous and sometimes (as in this case) it is not.''I dunno how to fix it.''Workaround: Test Case: Edit-By: Sannella.PAEdit-Date: 13-Aug-84 11':53':32Attn: Kaplan,JonLAssigned To: In/By: Disposition: System: Programming EnvironmentSubsystem: File PackageMachine: 1132Disk: Microcode Version: 5124Memory Size: 4096File Server: Server Software Version: Difficulty: EasyFrequency: EverytimeImpact: MinorPriority: PerhapsStatus: OpenProblem Type: DocumentationSource Files: </pre>
  </body>
</html>
