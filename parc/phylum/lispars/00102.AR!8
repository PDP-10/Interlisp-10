Number: 102Date: 17-Mar-84  0':15':16Submitter: Sannella.paSource: masinter.pa,TW@SU-AI (Terry Winograd), Dieterrich, Kaplan, HalvorsenSubject: Tedit should allow LF, CR-LF EOL conventionAssigned To: Attn: SybalskyStatus: OpenIn/By: Problem Type: Design - UIImpact: SeriousDifficulty: ModerateFrequency: EverytimePriority: HopefullySystem: TextSubsystem: TEditMachine: Disk: Lisp Version: 1-Mar-84Source Files: Microcode Version: Memory Size: File Server: OtherServer Software Version: TOPS-20Disposition: '["Masinter" " 2-Sep-84 17':20':09" Source': Impact':(Annoying->Moderate) Priority':(Perhaps->Hopefully) Description':]'["Masinter" " 2-Sep-84 17':21':56" Source': Impact':(Annoying->Moderate) Priority':(Perhaps->Hopefully) File% Server':(->Other) Server% Software% Version': Disposition': Description': Edit-By': Edit-Date':]'["Masinter" " 6-Sep-84 12':19':38" Source': Subject': Impact':(Moderate->Serious) Description':]Description: 'Date': 14 Mar 84 19':26 PST'From': masinter.pa'Subject': AR#62'To': LispSupport'...'Second AR, TEdit should allow one to edit files which have EOL convention CR-LF as well as CR.''Date': 14 Mar 84 14':02 PST'From': Dietterich.pa'Subject': Lafite': Browsing folders on MAXC'To': LafiteSupport.pa'cc': Dietterich.pa'Lafite-System-Date': 28-Feb-84 13':10':33'Lisp-System-Date':  1-Mar-84 14':24':22'Machine-Type': Dorado''I''m not sure whether I''m doing things right, but when I open a folder on MAXC2 and GET MAIL, the message is slightly garbled, I guess because it contains line feeds.  These display as black rectangles, and lafite doesn''t parse the header fields very well.  When I move such a message to a mail file residing on IVY, the line feeds remain.''This is certainly not a pressing problem....''--Tom'-----'Date': 14 Mar 84 19':26 PST'From': masinter.pa'Subject': AR#62'To': LispSupport''This is a BUG not a WISH. Maybe Tom wishes it were fixed, but it is really a bug. ''The "black boxes" are line-feeds. This turns into two other ARs': LineFeed  should have separate graphic in Tedit and fonts (e.g., a tiny <lf>).''Second AR, TEdit should allow one to edit files which have EOL convention CR-LF as well as CR.''If this isn''t the case, then Lafite should open its mail folder in Binary, rather than Text.''Date': 29 Aug 84 17':21 PDT'From': Terry Winograd <TW@SU-AI.ARPA>'To': lispsupport.PA''I am trying to begin using TEDIT for real work, but having problems.'When I do a GET from a remote (DEC20) server, the file comes in'with a line-feed following every carriage return.  A copyfile'on the same file seems to do the right thing instead.  Also,'when I try to copyfile from SCORE (a standard DEC-20) I get'the message that it doesn':t respond to the leaf server.  Isn''t'there a copyfile that uses one of the simpler protocols?'Thanks --t'''Date': 30 Aug 84 11':16 PDT'Sender': Sannella.pa'Subject': Re': Tedit/copyfile and DEC20 server'In-reply-to': Terry Winograd <TW@SU-AI.ARPA>''s message of 29 Aug 84 17':21 PDT'To': TW@SU-AI'cc': lispsupport.PA'From': LispSupport.pa'Reply-To': LispSupport.pa''Interlisp tries to do the right conversions for servers with different EOL conventions (CR, LF, CRLF), but all of the cases have not been taken care of yet.''Tedit currently ONLY supports the single-CR EOL-convention.  Interlisp can automatically convert files with different EOL conventions, but watch out with formatted TEDIT files': the formatting info at the end of the file contains absolute pointers, which can be invalidated if all CRs are converted to CRLF.  If you do a COPYFILE (which changes CRLF->CR) of the unformatted text, and then you use Tedit, you should be alright.'Date':  5 Sep 84 11':16 PDT'From': halvorsen.pa'Subject': TEdit': CR info "lost" when putting on the VAX'To': TEditSupport.pa'cc': halvorsen.pa''TEdit System Date': 21-Aug-84 12':56':14'Lisp System Date': 23-Aug-84 18':52':49'Machine': Dandelion (204#13#)'Microcode version': 24,4'Memory size': 5777'Frequency': Always'Impact': Very annoying''CRs are replaced with octal 15.''Yes, I know I can recover my CR''s,  but ought this not be a little simpler? '''In general,  I would like to voice a very strong request for  a TEDIT mode which can be used in the preparation of ASCII files for use with a text formatter,  This mode should have the following features':''--Auto fill with CRs.   You should be able to ragged right justify a paragraph and have the CRs show up in the output file''--No font info included in the output file ever.'''Currently there is no reasonable way to use INTERLISP-D to prepare input for a text formatter such as Tex, which you need if you require high quality output.'''As long as Tedit does not provide a full substitute for a text formatter like Tex, and especially since it isn''t the intention for Tedit to ever become such a substitute, I think it is very important to adjust to the reality of a non-integrated world in document preparation.'''Per-Kristian'Date':  5 Sep 84 16':08 PDT'From': halvorsen.pa'Subject': Re': TEdit': CR info "lost" when putting on the VAX'In-reply-to': Sybalsky.pa''s message of 5 Sep 84 11':59 PDT'To': Sybalsky.pa'cc': halvorsen.pa, TEditSupport.pa''Jon,'Regarding the octal 015 issue':  You ask whether the file is being written as type binary with 8 bit bytes.  the way I got into this problem was by moving a message (where I wanted the CRs preserved) to a mail file on the VAX.  What kind of put a Lafite move does I don''t know for sure. However,  when I do the same thing to Phylum everything is ok.  Indeed, the way I solved this problem was to move the message to Phylum and then pupftping it to the Vax.''Regarding TEDIT and TEX file prepartation':  Yes, the problem is that Tex doesn''t like lines that are longer than 512 characters long.  The "foreign-format outgoing conversion" which you mention would be an excellent answer to my problem,  I was however thinking that there might be a quicker and simpler solution having to do with maintaining CR''s on writing the output file,  but I guess that is not the case.  I dig DIG, but in the meantime things aren''t so great.''Another thing which would be a must for the ideal Tex preparation system  is machting of $ and { }.  This is basically what EMACS Tex mode does now (it also gives you "relative indent" which is good for lining up different lines of code.''Per-Kristian'Date': 30 Aug 84 13':27 PDT'From': Kaplan.pa'Subject': EOL Convention in Tedit'To': Teditsupport, Lispsupport''I was under the impression that Tedit had been fixed to do the right kind of coercions for files whose EOL convention is not CR.''This appears not to be the case.  I TEDITed a file on Maxc, and got the ugly black-boxes for all the linefeeds.''Can this be fixed by Harmony?  Remember, that most of the rest of the world depends on file servers (e.g. Vaxes, 20''s) whose native eol convention is not CR.''--Ron''Workaround: Test Case: Edit-By: MasinterEdit-Date:  6-Sep-84 12':19':47