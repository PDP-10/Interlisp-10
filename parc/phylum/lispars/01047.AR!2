Number: 1047Date:  9-May-84 12':37':09Submitter: Masinter.PASource: Subject: want VidTex implementation to allow access to CompuServe etc.Assigned To: Attn: Status: WishIn/By: Problem Type: Design - UIImpact: MinorDifficulty: ModerateFrequency: Priority: UnlikelySystem: CommunicationsSubsystem: OtherMachine: Disk: Lisp Version: Source Files: Microcode Version: Memory Size: File Server: Server Software Version: Disposition: [lmm 11 Jul': I want this, but don''t want to do it. Attn': NIL]Description: 'This is a project that I''d like to see done sometime -- implement an Interlisp front end to the VidTex protocol to get access to graphics from compuserve.'''       ESCAPE Sequences'  VIDTEX responds to certain ESCAPE sequences  when  received from  a 'host  computer.   These sequences  cannot  be  performed locally;   they'must be received from a host.'   Keyboard Lock and Unlock'  When an <ESC><b> sequence is received, VIDTEX will  lock  the keyboard' and  not  transmit any more characters  entered.   This condition   is ' reset  when  an <ESC><c> is received.'  These sequences can be used by a host program that does  not want  to 'be  interrupted during critical processing.'   Video Enable and Disable'  When an <ESC><e> sequence is received, the video is  disabled and 'subsequent  characters  are not  displayed.   The  video  is enabled 'again  when an <ESC><f> sequence is received.'    ESCAPE Sequence Summary'^J  The following table  summarizes   the   function   of ESCAPE 'sequences  recognized by VIDTEX.  '^J  (Note': The number and types of ESCAPE sequences vary  depending on 'the  VIDTEX  program you are running.   Consult  your  VIDTEX user''s    'guide     for    more information.)'^J  <ESC>A  Cursor up'  <ESC>B  Cursor down'  <ESC>C  Cursor right'  <ESC>D  Cursor left'  <ESC>G4 Semi-graphics 4 mode'  <ESC>GN Text mode'  <ESC>H  Home cursor'  <ESC>J  Clear to end of page'  <ESC>K  Clear to end of line'  <ESC><Y><line><col>'        Position cursor'  <ESC>b  Lock keyboard'  <ESC>c  Unlock keyboard'  <ESC>e  Disable display'  <ESC>f  Enable display'  <ESC>j  Clear page-ASCII FF'  <ESC>k<colors>'   Set fore/background colors'  <ESC><ESC>O'   Open RAM buffer'  <ESC><ESC>C'   Close RAM buffer'  <ESC><ESC>Z'   Zero RAM buffer'  <ESC><ESC>V'   Transmit RAM buffer'  <ESC><ESC>Y<pmt>'   Transmit RAM buffer with'   prompt''VIDTEX Information   Page VID-92''Screen Control Sequences'^J  VIDTEX allows the host  computer   to   perform   screen control'functions through ESCAPE sequences.   These  are   remote functions   'and    cannot    be performed from the keyboard.'  The following table summarizes the screen control sequences and the  'functions   they  perform. Note  the   difference   between lower and'upper case.'  <ESC>A moves cursor up one  line.'  <ESC>B moves cursor down one line.'  <ESC>C moves cursor right one space.'  <ESC>D moves cursor left one space.'  <ESC>H homes cursor to the top left corner.'  <ESC>K clears from cursor to end of line.'  <ESC>J clears from cursor to end of screen.'  <ESC>j clears page; same as an ASCII Form Feed.''VIDTEX Information   Page VID-95''^J     Cursor Positioning'^J  Some VIDTEX programs support remote    cursor     positioning'sequences that allow the host to position text  anywhere  on  the'screen.  Remember that this is a remote function  and  cannot  be'performed from the keyboard.'  The sequence to do this is': <ESC><Y><line code><column code>'^Jwhere "line  code"  and  "column code"  are  from  the  following table':'  (Note that this table is based on a Commodore 64 computer.)'^J  --Line Code--'  Line   Char.'^J   1     Space'   2       !'   3       "'   4       #'   5       $'   6       %'   7       &'   8       '''   9       ('  10       )'  11       *'  12       +'  13       ,'  14       -'  15       .'  16       /'  17       0'  18       1'  19       2'  20       3'  21       4'  22       5'  23       6'  24       7'  25       8'^J--Column Code-- Column   Char.'   1     Space'   2       !'   3       "'   4       #'   5       $'   6       %'   7       &'   8       '''   9       ('  10       )'  11       *'  12       +'  13       ,'  14       -'  15       .'  16       /'  17       0'  18       1'  19       2'  20       3'  21       4'  22       5'  23       6'  24       7'  25       8'  26       9'  27       ':'  28       ;'  29       <'  30       ='  31       >'  32       ?'  33       @'  34       A'  35       B'  36       C'  37       D'  38       E'  39       F'  40       G'^J  If a line or column code falls outside the valid  value  range, the 'invalid code is replaced by the  valid   code   of   nearest magnitude.'  Consult your VIDTEX user''s  guide for the table specific  to your'computer.''VIDTEX Information  Page VID-104''^J     Screen Color Control'^J  Some VIDTEX programs provide screen  color  control   through ESCAPE'sequences.  This function works as follows.'  An <ESC>k<colors> sets the foreground/background colors for the 'current  screen.  The value for  colors  specifies  the  new screen   'colors.     The   most significant  nybble  (bits  7-4) select   the 'foreground  color. The  least  significant   nybble (bits 3-0) select'the background color.'  The colors are indicated as follows':'^J  +-+-+-+-+-+-+-+-+'  !7 6 5 4!3 2 1 0!'  +-+-+-+-+-+-+-+-+'^J  0000 - Green'  0001 - Yellow'  0010 - Blue'  0011 - Buff or White'  0101 - Cyan'  0110 - Magenta'  0111 - Orange'  1000 - Black'^J  (Note': This information  applies  specifically   to   the Commodore  '64  VIDTEX  program. See the VIDTEX user''s guide  for your     computer '  for    more information.)''''Last page. Key M for menu'!M''VIDTEX Information   Page VID-90''       ESCAPE Sequences''1 Function and Summary'2 Screen Control Sequences'3 Cursor Positioning'4 Color Control''Last menu page. Key digit'or M for previous menu.'!M''VIDTEX Information    Page VID-1''--------------------------------''1 What is VIDTEX?'2 How to Order VIDTEX'3 Questions & Answers'4 Downloading VIDTEX'5 VIDTEX Functions'6 Graphics'7 File Transfer'8 ESCAPE Sequences'9 CONTROL Key Summary''Last menu page. Key digit'or M for previous menu.'!S 7''VIDTEX Information   Page VID-16''     What is File Transfer?'^J  If you had to type manually everything that you wish to send to'CompuServe, you would expend alot of time and effort. Fortunately,'VIDTEX provides two major ways you can transmit and receive whole files'of data without typing.'  The first method, which often is called "data capture", is'accomplished using such VIDTEX RAM buffer controls as':'^J  META O - open RAM buffer'  META C - close buffer'  META Y - transmit buffer'  META L - load buffer'  META U - save buffer'^J  Data capture is an excellent way to save or transmit anything that is'displayed on your screen.'  A second way to transfer large quanities of information is VIDTEX''s'"B" Protocol file transfer.  Since this method bypasses your screen, it'generally is faster and more accurate than data capture.  For more'information on using "B" Protocol, see choices 2, 3 and 4 on the File'Transfer menu.''VIDTEX Information   Page VID-19''     What is "B" Protocol?'^J  Protocol is a set of rules and conventions for handling communications'between a sender and receiver.  Protocols can range from simple to'complex.'  CompuServe has developed a sophisticated protocol, named "B" Protocol,'to regulate the transfer of files between your computer and CompuServe. '"B" Protocol ensures the accuracy of the transmitted file by comparing'each transmitted line of data with the original.  Any errors are'detected and corrected.  Thus your important files are protected against'possible damage from telephone line noise and other types of'interference.'  Before explaining "B" Protocol file transfer, a few terms must be'defined':'^J  DOWNLOAD means to transfer a file from CompuServe to your computer.'^JUPLOAD means to transfer a file from your computer to CompuServe.'^J  HOST refers to CompuServe''s computers.'^J  REMOTE refers to your computer.'^J  Three types of "B" Protocol file transfers are available depending on'the type of file you wish to transfer':'^J  TEXT'  MACHINE SPECIFIC'  BINARY'^J  The extension of the file on CompuServe determines the type of'transfer.  The valid extensions are':'^J  .TXT     Text transfer'  .IMG     Machine specific transfer'  .BIN     Binary transfer'^J  If you do not specify one of these extensions, VIDTEX performs a text'transfer.'  TEXT transfer is used to transfer any type of text file, such as a'letter or an untokenized BASIC program.  When uploading a text file,'VIDTEX translates from the remote computer''s character representation to'standard ASCII.  This usually includes adding line feeds to carriage'returns.  When a text file is downloaded, VIDTEX translates the text'from standard ASCII to the microcomputer''s character set.'  MACHINE SPECIFIC transfer is used to transfer machine dependent files.' You should use machine specific transfer for uploading and downloading'programs for your computer.'  During a machine specific transfer, VIDTEX inserts all of the'information it needs to recreate the file exactly as it originally'existed.  If you try to download a machine specific file to a'microcomputer different from the type that uploaded it, VIDTEX will'issue a warning message because the file will not be usable.'  BINARY transfer is used to transfer eight bit files such as tokenized'BASIC programs and machine language programs.  This also can be used to'transfer most microcomputer''s BASIC data files.  VIDTEX does not alter'any data during a binary file transfer.  Machine specific information is'not included in a binary transfer.'  To initiate a "B" Protocol transfer, follow these steps':'^J  1.  Load and run VIDTEX.'^J  2.  Log onto CompuServe.'^J  3.  Access the area where you wish to perform the file transfer (e.g.,'Special Interest Group Reference Library, Public ACCESS or your'CompuServe personal file area).'^J  The procedure for initiating a "B" Protocol file transfer varies on'the service.  "B" Protocol is automated in the following services':'^J  MICROQUOTE (TM) is a series of programs for retrieving and storing'current and historical stock data.  Over 40,000 issues are represented'in the historical database which contains quotes back to January 1,'1974.'^J  The MicroQuote program, MQDATA, automatically stores stock information'into a file which you can download using "B" Protocol.'^J  SOFTEX is an online software shopping service.  You can purchase'reasonably priced programs and download them directly to your computer'for immediate use.  "B" protocol ensures the reliability of your'purchase.''VIDTEX Information   Page VID-73''  Personal File Area Transfers'^J  To upload and download files from your CompuServe disk space, access'the Personal File Area by entering the following at any "!"  prompt':'^J  PER'^J  A menu similar to the following will be displayed':'^J     FILE MANAGEMENT'^J  1 Brief catalog of files'  2 Detailed directory of files'  3 Create & edit files via FILGE'  4 Type a file''s contents'  5 Delete a file'  6 Rename a file'  7 Copy a file'  8 Change a file''s protection'  9 Upload or download a file' 10 Print a file ($)' 11 Enter command mode'^J Last Menu page.  Key digit' or M for previous menu!'^J  Select choice 9 (Upload or download a file).  The CompuServe system'will prompt as follows if you have not set your terminal type to VIDTEX'compatible (see system page CIS-9)':'^J  Are you running a VIDTEX'  executive?'^J  To which you can repond "YES". CompuServe''s file transfer program,'FILTRN, then will be executed.  It will prompt you for the following'information':'^J  Select direction-'  D if to your computer'  U if to CompuServe'  ':'^J  Enter a U to upload or D to download.'^J  Enter the CompuServe file name':'^J  For this prompt enter an appropriate file name and extension. 'Remember that the file extension determines the type of transfer.  You'then are prompted':'^J  Enter a file name for your'  computer':'^J  You can specify any file following the naming rules of your system. 'The file name might include a drive designation, a file name extension,'punctuation or password.  Since the format for file names is different'for every microcomputer, no syntax checking is performed on the remote'file name.  The remote file name does not affect the type of transfer'performed.'  VIDTEX will not overwrite an existing file on a download; you must'first delete the file yourself.'  As the transfer proceeds, a series of digits are displayed on your'screen.  Plus signs (+) appear between the digits.  When the transfer is'completed, the message':'^J  *** File Transfer Completed! ***'^J  appears and you are returned to the Personal File Area menu.'  To abort a file transfer, hold META A until the next digit appears on'the screen.''VIDTEX Information   Page VID-82''SIG and Public ACCESS Transfers'^J  You can upload and download from the Reference Library of any'CompuServe Special Interest Group/Forum (SIG) or the Public ACCESS'database using "B" Protocol file transfer.'  Since the file transfer procedures for both services are essentially'the same, only SIG file transfer will be described.'  To upload a file, access the SIG''s Reference Library by entering "XA"'at the SIG Function Menu.  After you have specified a section of the'library, a menu similar to the following will be displayed':'^J   SIG Database Access'   Use ? for Help'^J   XA 0 - Section Name ':'^J   1 BRO Browse thru files'   2 UPL Upload a new file'   3 EXI Exit to the Literary SIG'   4 HEL Help'   5 XA  Change database'^J   Key digit':'^J^J  As you can see, the UPLoad command is choice 2 on the menu. Using this'command you can submit files to the Reference Library.'Workaround: Test Case: Edit-By: Masinter.paEdit-Date: 11-Jul-84 16':13':14