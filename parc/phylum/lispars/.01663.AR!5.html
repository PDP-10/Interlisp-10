<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <title>File [phylum]&lt;LispARs>01663.AR!5</title>
  </head>
  <body>
    <pre>
Number: 1663Date: 18-Jul-84  8':19':36Submitter: le.pasaSource:  Raim.pasa (GM, U Mich)Subject: MKDIR warning too alarmingAssigned To: Stansbury.paAttn: Release, StansburyStatus: FixedIn/By: Problem Type: DocumentationImpact: ModerateDifficulty: Frequency: EverytimePriority: PerhapsSystem: Operating SystemSubsystem: DLion DiskMachine: 1108Disk: Lisp Version: Carol (June 22)Source Files: Microcode Version: Memory Size: File Server: Server Software Version: Disposition: 9-5-84.  Fixed':  If the coredevice does not contain any files, MKDIR will not balk, but will quietly replace the coredevice with the hard disk device.  If the coredevice has got files on it, will complain (with some words of explanation) and ask for confirmation before continuing to smash the coredevice and create the hard disk device.  As noted, renaming a coredevice with files on it would be inordinately difficult and so is not a reasonable solution.  -- Tayloe.'["stansbury" " 5-Sep-84 18':35':30" Assigned% To': Attn': Status':(Open-&gt;Fixed) Disposition':]'["masinter" " 7-Sep-84 16':04':48" Source': Attn': Description':]Description: ''When running (MKDIR ''DSK), the user is told that he will "smash the DSK core device" if he proceeds.  I feel this message is hard to understand and deters the user from going ahead and initializing his DSK directory.   On two separate occasions, I watched a novice user (at GM)  and an experienced user (U of Mich) hesitate to proceed for fear they were going to "smash" something really essential to the welfare of Interlisp-D.  Had I not been present, both users would have been unnecessarily traumatized and had their nascent faith in the DLion file system undermined.  "Core device" is not a well-known Lisp concept and is, in fact, a misnomer.  "Virtual memory device" would be more appropriate. And the verb "smash", though tame to those of us in the know, connotes wider destruction than is really meant.  I suggest the following kind of message': ''"{DSK} files are currently stored in Lisp virtual memory; MKDIR will redefine {DSK} as a directory on logical volume DSK; all files now stored under {DSK} in virtual memory will be lost."' '-----''Date': 18 Jul 84 12':34 PDT'From': Sheil.pa'Subject': Re': AR 1663': MKDIR warning too alarming'In-reply-to': Sannella.pa''s message of 18 Jul 84 11':58 PDT'To': stansbury'cc': Sannella''Rather than adopt Marty''s verbose paragraph of running text about smashing core dsk, I suggest that MKDIR''a) decide if there is any stuff on that device (and if not, say nothing)''b) if there is, just rename the core DSK device to "PSUEDO-DSK" (or whatever) and print a msg to that effect (allowing the user to copy out whatever files he wants).''Beau''-----''Date': 18 Jul 84 12':42 PDT'From': Stansbury.pa'Subject': Re': AR 1663': MKDIR warning too alarming'In-reply-to': Sheil.pa''s message of 18 Jul 84 12':34 PDT'To': Sheil.pa'cc': stansbury.pa, Sannella.pa''(a)  Good suggestion; mkdir should shut up if (fildir ''dsk) is nil.''(b)  Doesn''t work': you can''t conveniently rename a coredevice, because the directory remembers the name of the device.  I already tried that.''-- T.''Date':  6 Sep 84 15':36 PDT'From': stansbury.pa'Subject': Re': AR # 1663':  MKDIR warning too alarming'In-reply-to': Masinter.pa''s message of 6 Sep 84 11':30 PDT'To': Masinter.pa'cc': stansbury.pa, Kaplan.pa, LispSupport.pa''About renaming coredevices':''There is one obvious way to rename a coredevice; namely, to copy the files from the old device to some new device.  What I was searching for was a way to do this faster, say by changing the devicename field and doing a new \definedevice.  The problem with this is that coredevices store the device name as part of the filename of each file.  Ron has given me his blessing to make coredevices store names without device names, should I desire to make the appropriate edits.''What do you suggest I do -- 'a)  leave things as they are (ie, provide a warning and allow you to stop the mkdir);'b)  rename by copying files; or'c)  rework the coredevice code so that I can do a fast rename?''-- Tayloe.''Workaround: Test Case: Edit-By: masinterEdit-Date:  7-Sep-84 16':04':50</pre>
  </body>
</html>
