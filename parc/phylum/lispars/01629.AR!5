Number: 1629Date: 11-Jul-84 16':05':02Submitter: Le.pasaSource: Erlbaum  at CSLI (Dering.pasa)Subject: EMACS insertion bug in CHAT to DEC20 [duplicate ar]Lisp Version: ':Fugue6Description: ' Return-Path': <MARK@SU-CSLI.ARPA>'Received': from SU-CSLI.ARPA by Xerox.ARPA ; 11 JUL 84 10':03':08 PDT'Date': Wed, 11 Jul 84 09':57':38 PDT'From': Mark Erlbaum <MARK@SU-CSLI.ARPA>'Subject': EMACS on Dandelions'To': 1100Support.PA'cc': mark@SU-CSLI.ARPA, kiparsky@SU-CSLI.ARPA''Most of our users at CSLI are familiar with EMACS on the DEC20s.  If they CHAT to our 20 and tell it they are on a DM2500,  most things work right but EMACS screws up.  It handles the display incorrectly (sounds like a terminal emulation problem), doing things like erasing the preceding char.'during insertion ON THE SCREEN but NOT IN THE BUFFER.  EMACS is therefore unusable.  Any suggestions for fix of this problem.  How about getting the backarrow key to do a destructive backspace in CHAT by mapping it to something more conventional than ^A like DEL or ^H ?'-----''Date': 13 Jul 84 09':26 PDT'From': Dering.pasa'Subject': AR #1629'To': Le.pasa'cc': Dering.pasa''Thu''Would you please edit AR 1629 and add the following.''Mark Erlbaum provided the following additional information.''Looking at the compiled code for CHAT, we think we''ve located the bug.   Refer to CHAT.HANDLECHARACTER at instruction #262 of the compiled listing in INSPECTCODE.  This calls CHAT.ADDCHAR which moves text over one char. width in INSERT-DELETE mode, but doesn''t print the character.  Either CHAT.ADDCHAR should print the character or the RETURN in line #265 of CHAT.HANDLECHARACTER should be removed.''What is happening in Emacs is that Emacs sends the character'to go into Insert/delete mode, sends a blank, exits I/D mode,'sends a backspace, and finally the character that was'supposed to be inserted.  CHAT was never spacing over for'the blank character because it was never printing it.''Could you send us a patch for this due to the importance of'this editor for our faculty & staff?   How about an additional'patch mapping the BACKARROW key to a DEL during CHAT mode?''Judy''-------'Date': 17 Jul 84 12':23 PDT'From': vanMelle.pa'Subject': Re': AR#1629': EMACS in CHAT to DEC20'To': Dering.pasa'cc': vanMelle.pa, Le.pasa, LispSupport''The insertion bug was fixed ages ago, but users won''t see it til Harmony.  It was a relatively simple bug, so I placed a patch for it on {Eris}<Lisp>Fugue.6>Patches>CHATPATCH.DCOM.''Remapping the keys during Chat will be supported in Harmony.  I have no quick patch for that, but it seems substantially less important.''Workaround: Test Case: Edit-By: Le.pasaEdit-Date: 18-Jul-84 16':28':41Attn: ReleaseAssigned To: vanMelleIn/By: Disposition: System: CommunicationsSubsystem: PUP ProtocolsMachine: Disk: Microcode Version: Memory Size: File Server: Server Software Version: Difficulty: ModerateFrequency: Impact: SeriousPriority: HopefullyStatus: FixedProblem Type: DocumentationSource Files: 