<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <title>File [phylum]&lt;LispARs>02036.AR!2</title>
  </head>
  <body>
    <pre>
Number: 2036Date:  1-Sep-84 16':13':45Submitter: MasinterSource: MasinterSubject: want new forms list to supplant AFTERSYSOUT/MAKESYS FORMSAssigned To: Attn: Masinter, Lisp, KaplanStatus: OpenIn/By: Problem Type: Design - UIImpact: ModerateDifficulty: ModerateFrequency: EverytimePriority: PerhapsSystem: Programming EnvironmentSubsystem: HistoryMachine: 1132Disk: Lisp Version: 31-Aug-84 16':17':57Source Files: Microcode Version: 5124Memory Size: 4096File Server: Server Software Version: Disposition: '["Sannella.PA" "10-Sep-84 14':32':22" Description':]Description: Date': 31 Aug 84 18':37 PDT'From': JonL.pa'Subject': RESTOREFILES'To': KAPLAN'cc': LISPSUPPORT''This function from MACHINEINDEPENDENT is probably just "excess bagage" for Interlisp-D.  Two problems I recently encountered': (1) It isn''t being called anyway, due to a soon-to-be-reported bug in AFTERSYSOUTFORMS, and (2) the global variable it depends upon, RESTOREFILELST, is unbound in a sysout implying that the initialization didn''t get called, so the subsequen call form AFTERSYSOUTFORMS wouldn''t do anything anyway.''Your initials, dating from 1979.  Care to comment?''-- JonL --''-----''Date': 31 Aug 84 19':20 PDT'From': JonL.pa'Subject': Poll on AFTERSYSOUTFORMS'To': LispCore&uarr;'Reply-to': JonL.pa''Glaaag, I''ve finally tracked down an inscrutable bug whereby MAKESYS produces a sysout that, when sysin''d and started up, *doesn''t* run the AFTERSYSOUTFORMS. ''Since the IRM, Page 14.4 describes MAKESYS as "... almost the same as SYSOUT, except that it does some cleaning-up operations (such as clearing the screen).", then I propose not adding yet another set of variables for MAKESYS -- e.g., BEFOREMAKESYSFORMS and AFTERMAKESYSFORMS -- but simply have MAKESYS do the same "forms" that SYSOUT would do.''Can anyone ever think of a situation wherein he would *not* want the AFTERSYSOUTFORMS run when starting up from a sysout that had been dumped via MAKESYS?''-- JonL --'''-----''Date': 31 Aug 84 21':29 PDT'From': Kaplan.pa'Subject': Re': Poll on AFTERSYSOUTFORMS'In-reply-to': JonL.pa''s message of 31 Aug 84 19':20 PDT'To': JonL.pa'cc': Lispcore&uarr;''I think that MAKESYS automatically does greeting when the sysout starts up, whereas SYSOUT fixes it so that its behavior is conditioned on the value of SYSOUTGAG (e.g. prints a warning if you''re not the same user, but never re-greets automatically).''I would imagine that lots of carefully tuned loadup procedures would behave differently if SYSOUT and MAKESYS were merged.''My belief is that MAKESYS is NOT SUPPOSED TO run AFTERSYSOUTFORMS.''--Ron''-----''From': MASINTER.pa'Date': 31-Aug-84 23':04':35 PDT'Subject': Re': Poll on AFTERSYSOUTFORMS'In-reply-to': Kaplan''s message of 31 Aug 84 21':29 PDT'To': Kaplan'cc': JonL, LispSupport''The problem is that a lot of separate things got confounded in AFTERSYSOUTFORMS that belonged more as user-specified things to happen in the same frame as the device-event functions. There''s the''forms-to-be-run-when-you-might-be-on-a-new-machine''forms-to-be-run-if-it-might-be-days-later''forms-to-be-run-if-some-files-got-closed-underneath-me''and a few others.''There is some random cruft on AFTERLOGOUT forms too.''Users use these ''cause they aint got no better.''Oh, there is also PREGREETFORMS and POSTGREETFORMS.''Sorting this out means looking at all of the various form-lists and gathering what the real semantics are, and making a definite proposal.''There *is* a difference we''ve made between MAKESYS and SYSOUT which is exactly that one runs GREET and the other AFTERSYSOUTFORMs.''I think the solution  is to take anything that you want on *both* and put it somewhere else.''Date': 31 Aug 84 23':30 PDT'From': JonL.pa'Subject': Re': Poll on AFTERSYSOUTFORMS'In-reply-to': MASINTER.pa''s message of 31-Aug-84 23':04':35 PDT'To': MASINTER.pa'cc': Kaplan.pa, JonL.pa, LispSupport.pa''PREGREETFORMS and POSTGREETFORMS aren''t documented.  Anyway, the problem, as I see it, is that the discrimination if *far far* too fine for most user needs (the system''s needs seem to be served by \DEVICEEVENT now).  I see a lot of &lt;LispUsers&gt; type code that puts the same forms on just about every AFTER&lt;anything&gt;FORMS.''I currently don''t see any documented way to do some thing at every "start up" time.''-- JonL --'From': MASINTER.pa'Date': 31-Aug-84 23':33':58 PDT'Subject': Re': Poll on AFTERSYSOUTFORMS'In-reply-to': JonL''s message of 31 Aug 84 23':30 PDT'To': JonL'cc': MASINTER, Kaplan, LispSupport''How bout this':''we add AFTERSTARTUPFORMS.''We make MAKESYS and SYSOUT and LOGOUT execute AFTERSTARTUPFORMS and urge maintainers of LispUsers packages to use AFTERSTARTUPFORMS if that is what they want to happen.''Date':  1 Sep 84 02':35 PDT'From': JonL.pa'Subject': Re': AFTERSTARTUPFORM'In-reply-to': JonL.pa''s message of 1 Sep 84 02':30 PDT'To': JonL.pa'cc': MASINTER.pa, Kaplan.pa, LispSupport.pa''Uh, there''s more.  AFTERSAVEM is a condition now recognized. should it be in AFTERSTARTUPFORMS too?''Worse yet, there may be a need for BEFORESHUTDOWNFORMS -- namely the similar union of BEFORELOGOUTFORMS, BEFORESYSOUTFORMS, and BEFOREMAKESYSFORMS (the latter doesn''t really exist).''-- JonL --''''Workaround: Test Case: Edit-By: Sannella.PAEdit-Date: 10-Sep-84 14':32':26</pre>
  </body>
</html>
