Number: 706Date: 13-Apr-84 15':17':21Submitter: Sannella.PASource: desRivieres.paSubject: Compiler won''t compile fn': "too many local variables"  --- used to work!Assigned To: Attn: Status: ClosedIn/By: Problem Type: BugImpact: SeriousDifficulty: Frequency: EverytimePriority: HopefullySystem: Language SupportSubsystem: Compiler, Code FormatMachine: Disk: Lisp Version: Source Files: Microcode Version: Memory Size: File Server: Server Software Version: Disposition: [31may84, LMM': conjecture is that OPENLAMBDA bug caused this problem. Jim reports it has gone away.]'["Sannella" "20-Aug-84 18':05':29" Status':(Fixed->Closed)]Description: 'Date': 13 Apr 84 03':52 PST'From': desRivieres.pa'Subject': Lisp': Compiler': too many local variables'To': LispSupport.pa'cc': desRivieres.pa''Lisp System Date': 12-Apr-84 23':22':26'Machine': Dorado (DewDrop)'Microcode version': 24,4'Memory size': 10000'Frequency': Always'Impact': Fatal''In the April 12th <LISPCORE>NEXT>FULL.SYSOUT!39 (not the one I''m currently running in), something about the compiler has changed': a large function that I used to be able to compile now gets rejected with "177 locals; 127 max.".  I have already had to pare back this (necessarily) monolithic function definition to fit under the 127 limit; it would not be an easy matter to cut it back futher.   The only workaround we have is to continue to use FULL.SYSOUT!38 (we have made a copy of it on Phylex just in case the Phylum version disappears before a fix comes along).'''---jim   ''-----''Date': 14 APR 84 10':23 PST'From': MASINTER.PA'Subject': Too many locals'To':   desRivieres'cc':   LispSupport''Jim,''as far as I know, nothing changed in the compiler to cause the number of locals to change.''Perhaps there is something different about the compilation environment (like a LOCALVARS change?).''In any case, maybe I can talk to you about this huge function.''[LispSupport, is the limitation on # of variables in the compiler documented?]''-----''Date': 15 May 84 11':14 PDT'Sender': Sannella.pa'Subject': Re': compiler problem found': OPENLAMBDAs were being treated like LAMBDAs'In-reply-to': Masinter.pa''s message of 14 May 84 13':00 PDT'To': Masinter.pa'cc': LispSupport.pa'From': LispSupport.pa'Reply-To': LispSupport.pa''Could this bug also be the cause of AR 706': Compiler won''t compile fn': "too many local variables"  --- used to work!''-----''Date': 15 May 84 13':52 PDT'From': Masinter.pa'Subject': Re': compiler problem found': OPENLAMBDAs were being treated like LAMBDAs'In-reply-to': LispSupport.pa''s message of 15 May 84 11':14 PDT'To': LispSupport.pa'cc': Masinter.pa''it indeed could... I will ask Jim to see if it solved the problem.''-----''Date': 15 May 84 13':55 PDT'From': Masinter.pa'Subject': compiler bug found'To': desRivieres'cc': LispSupport''Jim,''I found (and fixed in the latest <LispCore>Next>) a problem in the compiler that could cause the number of internally generated local variables to explode. This might be the source of the problem you were having.... would you care to check it out? ''Thanks much,''Larry''-----''Date': Sun, 20 May 84 12':14 PDT'From': desRivieres.PA'Subject': Re': compiler bug found'In-reply-to': "Masinter''s message of 15 May 84 13':55 PDT"'To': Masinter'cc': desRivieres, LispSupport''Larry,''Gumby and I hope to be able to check out your compiler fix re': number of internally generated local variables later this week once 3-lisp is out of drydock.'''Thank, Jim  ''Workaround: Test Case: Edit-By: SannellaEdit-Date: 20-Aug-84 18':05':29