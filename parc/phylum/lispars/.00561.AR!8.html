<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <title>File [phylum]&lt;LispARs>00561.AR!8</title>
  </head>
  <body>
    <pre>
Number: 561Date:  9-Apr-84 17':27':36Submitter: le.pasaSource:  Bill White (Teknowledge)-Raim.pasaSubject: COPYFILE should infer TYPE when source file has noneLisp Version: Fugue.6 (March 13)Description: ''[also see AR 628': FLOPPY should support file types]''                     When copying a text file from floppy to DEI/VAX, VMS sometimes assigns type attribute BINARY.  The next time the file is accessed from Lisp, it is seen in the wrong mode.  Note':  Makefile from 1108 to VAX seems to work OK.'(originally sended by Raim.pasa)''-------------''(Bill VanMelle''s clarification)''The Library files distributed by Floppy have no file type.   When you COPYFILE such a file to another place, such as their Vax or their 20, the file is written as type TEXT (the default), which is wrong for dcom files, and loses information in the case of writing the file on the 20.'--------' COPYFILE, when the source file has no TYPE, should infer the type.  This has been on my task list for a while now.'	Bill''-----''Date': Tue, 10 Apr 84 13':10 PST'From': Raim.pasa'Subject': Re': Ar #561'In-reply-to': "vanMelle.pa''s message of 9 Apr 84 16':56 PST"'To': vanMelle.pa, Sannella.PA,'cc': le, LispSupport.pa, 1100Support''Bill,''Thank you for your clarification.''Our testing indicates that Floppy code does not support  the TYPE attribute.  I.e., when we copy {dsk}foo.dcom to {floppy}foo.dcom, no type information is maintained.  When a customer attempts to take his distribution floppy and copy {floppy}foo.dcom to {fileserver}foo.dcom, type TEXT is the default.''The upshot seems to be that 1108 customers can''t routinely create &lt;lispusers&gt; and &lt;lisplibrary&gt; on their fileservers.  Is their a workaround?  I seem to recall an undocumented variable called DEFAULTFILETYPE.  Would setting it to BINARY for *.dcom and *.sysout files be a suitable workaround for customers to know about?''-----''Date': 10 Apr 84 14':23 PST'From': vanMelle.pa'Subject': Re': Ar #561'In-reply-to': Raim.pasa''s message of Tue, 10 Apr 84 13':10 PST'To': Raim.pasa'cc': vanMelle.pa, Sannella.PA, le.pasa, LispSupport.pa, 1100Support.pasa''Yes, setting DEFAULTFILETYPE to BINARY during COPYFILE of binary files is the workaround.  If DEFAULTFILETYPE isn''t documented, it should be.''	Bill''-----''Return-Path': SHULMAN@RUTGERS.ARPA'Received': from RUTGERS.ARPA by Xerox.ARPA ; 30 APR 84 17':01':20 PDT'Date': 30 Apr 84 19':59':55 EDT'From': Jeffrey Shulman &lt;SHULMAN@RUTGERS.ARPA&gt;'Subject': COPYFILE'To': LispSUpport.pa'cc': SHULMAN@RUTGERS.ARPA'''	Seems to be opening .DCOM files on our 20 for receiving (i.e. transfer'from D Machine to 20) as TYPE TEXT.  It has been doing this for some time'but I thought you might have fixed it.  It is not sending the BYTESIZE field.'Where is it deciding it is type TEXT?''							Jeff'-------'Workaround: Test Case: Edit-By: Sannella.PAEdit-Date: 17-Aug-84 10':11':06Attn: Assigned To: vanMelleIn/By: HarmonyDisposition: '[tl': 4/10/84 Reclarified problem''s report--Added on Bill''s'answer for the problem]'[mjs 4/10/84 changed subject, added more discussion]'[bvm fixed 5/28/84]System: Operating SystemSubsystem: Generic File OperationsMachine: 1108Disk: Q2040 (43MB)Microcode Version: Memory Size: File Server: Server Software Version: Difficulty: ModerateFrequency: IntermittentImpact: SeriousPriority: PerhapsStatus: ClosedProblem Type: BugSource Files: </pre>
  </body>
</html>
