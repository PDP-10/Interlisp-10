<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <title>File [phylum]&lt;LispARs>00037.AR!9</title>
  </head>
  <body>
    <pre>
Number: 37Date: 17-Mar-84  0':00':09Submitter: Sannella.paSource: Brand Hal@LLL-MFE.ARPASubject: slow FTP to RSX file serverLisp Version: Description: 'Received': from SUMEX-AIM.ARPA by PARC-MAXC.ARPA; 12 MAR 84 18':39':18 PST'Return-path': &lt;@SUMEX-AIM.ARPA':Brand Hal@LLL-MFE.ARPA&gt;'Redistributed': Xerox1100UsersGroup&uarr;.PA'Received': from LLL-MFE by SUMEX-AIM.ARPA with TCP; Mon 12 Mar 84 17':56':47-PST'Date': Mon, 12 Mar 84 17':23 PST'From': "Brand Hal"@LLL-MFE.ARPA'Subject': RSX file server'To': dolphin-users@sumex-aim.arpa''   We have a Dolphin and have finally got the 3Mbyte/sec Ethernet board'and software for our LSI-11/23 running RSX.   We are using FTP from the'Alto Exec, and are experiencing terrible file transfer rates from the'Dolphin to the RSX machine.   Imagine transfering a file of 1849344 bytes'and getting a transfer rate of 770 bits/sec!!!   We have monitored the RSX'system and it is IDLE most of the time during the transfer!   I know most'people use other machines as file servers, but we are too poor at present,'so, does anybody know why we are experiencing such poor transfer rates, and'better yet, does anybody know what (if anything) we can do to improve matters.'Is anyone beside us using a DEC PDP-11 running RSX as a file server???'					Thanks,'						Hal Brand'						BRAND@LLL-MFE.ARPA'-----'Received': from SUMEX-AIM.ARPA by PARC-MAXC.ARPA; 12 MAR 84 19':40':01 PST'Return-path': &lt;@SUMEX-AIM.ARPA':HEDRICK@RUTGERS.ARPA&gt;'Redistributed': Xerox1100UsersGroup&uarr;.PA'Received': from RUTGERS.ARPA by SUMEX-AIM.ARPA with TCP; Mon 12 Mar 84 19':00':31-PST'Date': 12 Mar 84 22':01':05 EST'From': Charles Hedrick &lt;HEDRICK@RUTGERS.ARPA&gt;'Subject': Re': RSX file server'To': "Brand Hal"@LLL-MFE.ARPA'cc': dolphin-users@SUMEX-AIM.ARPA'In-Reply-To': Message from ""Brand Hal"@LLL-MFE.ARPA" of 12 Mar 84 20':23':00 EST''We are using a PDP-11/60 running RSX as a front end to our DEC-20.'That is, the actual file server software is on the 20, but the'packets pass through the 11.  We get transfer rates up to 100Kbaud.'We had to play with the software a bit to get those rates.  The'throughput depends critically upon the strategies you use for'buffering, retransmitting, acknowlegements, etc.  I would look'carefully at the BSP implementation.'-------'Received': from SUMEX-AIM.ARPA by PARC-MAXC.ARPA; 13 MAR 84 08':38':44 PST'Return-path': &lt;@SUMEX-AIM.ARPA':MARANTZ@RUTGERS.ARPA&gt;'Redistributed': Xerox1100UsersGroup&uarr;.PA'Received': from RUTGERS.ARPA by SUMEX-AIM.ARPA with TCP; Tue 13 Mar 84 08':05':49-PST'Date': 13 Mar 84 09':33':36 EST'From': Roy &lt;MARANTZ@RUTGERS.ARPA&gt;'Subject': Re': RSX file server'To': "Brand Hal"@LLL-MFE.ARPA, dolphin-users@SUMEX-AIM.ARPA'In-Reply-To': Message from ""Brand Hal"@LLL-MFE.ARPA" of 12 Mar 84 20':23':00 EST''We''re using RSX, but alas not as a file server only as a packet transfer'interface "medium".  I''ve been hacking RSX for a while now and might be able'to help you speed things up.  You can speed up RSX by playing games with'F11ACP and such to make file access faster, but that in general would'depend on how you access files with the file server.  Anyway I''d be interested'in getting the files server code (although I don''t know if I''d use it).'Let me know if you want more detailed help. (If so why not send me privately'so as not to clutter up this list detailed info on you configuration'and sysgen)''Roy'-------'Date': 13 Mar 84 15':23 PST'From': vanMelle.pa'Subject': Re': AR 37': Bad FTP transfer rates'In-reply-to': lispar.Auto''s message of 13 Mar 84 10':24':34 PST (Tuesday)'To': LispSupport'cc': vanMelle.pa''This is likely a problem with their implementation of BSP.  Don''t know that we have anything to say about it.''p.s. Your Reply-To': field needs to say LispSupport.PA, since its registry is different from yours.  Otherwise, mail readers will attempt to reply to LispSupport.auto!'-----'Received': from SUMEX-AIM.ARPA by PARC-MAXC.ARPA; 15 MAR 84 10':32':31 PST'Return-path': &lt;@SUMEX-AIM.ARPA':Brand Hal@LLL-MFE.ARPA&gt;'Redistributed': Xerox1100UsersGroup&uarr;.PA'Received': from LLL-MFE by SUMEX-AIM.ARPA with TCP; Thu 15 Mar 84 09':48':23-PST'Date': Thu, 15 Mar 84 09':32 PST'From': "Brand Hal"@LLL-MFE.ARPA'Subject': RSX file server'To': dolphin-users@sumex-aim.arpa''   I am pleased to announce that we have increased the performance of our RSX'file server by about 1.2 orders of magnitude.   This was accomplished by'dis-assembling the RSX ethernet driver (yes, they only left us the .TSK files),'and then making improvements to the driver.   The major improvement was'greatly increasing the speed of the transfer of the ethernet packet from'the task buffer to the driver buffer (A driver buffer is necessary as the'Xerox hardware can only DMA to the low 64 Kbytes).   Now we are getting'transfers in both directions at 10.5 Kbits/sec. and the RSX system is nearly'always busy during the transfer.   Anyone who might profit from this is'invited to mail me, Hal Brand - BRAND@LLL-MFE.ARPA, and I will be glad to'provide any and all details.'   My thanks to all who responded about the problem.   The notion that'multiple packets we sent to the RSX machine gave me the confidence to spend'the time to dis-assemble the driver in an effort to increase its through-put'so as not to allow the 2nd packet to be missed.   I am no pretty sure that'the problem was that the RSX handler was so slow that the 2nd packet was'lost by RSX and then the dolphin had to wait 3 to 5 seconds to time-out the'response to the 2nd packet before re-transmitting it.'   Again, my thanks to all.'							Hal Brand'							BRAND@LLL-MFE.ARPA'-----'Received': from LLL-MFE.ARPA by PARC-MAXC.ARPA; 15 MAR 84 15':35':09 PST'Date': Thu, 15 Mar 84 15':04 PST'From': "Brand Hal"@LLL-MFE.ARPA'Subject': RSX file server'To': masinter.pa''   The driver, etc. came with Phil Young of Xerox (Pasadena I believe).'The Dolphin was leased (we had all kinds of problems with Lab lawyers on'contracts) with the provision that Xerox provide the software for using'our RSX machine as a file server.   We were told that this was no problem'as it had been done before.   However, when Phil came out, he was very kind,'but left us with the impression that that this was the last RSX file server'Xerox was ever going to do - Xerox had to make a special run just to produce'the 3Mbyte/sec. interface boards.   (We opted for the 3 Mbyte version cause'when we start negotiations, the 10 was very new and there was no RSX support'for the 10.)'   By the way, should we have gotten the sources???'					Hal Brand'Workaround: Test Case: Edit-By: Sannella.PAEdit-Date:  3-Apr-84 12':34':30Attn: Assigned To: vanMelle.paIn/By: Disposition: [mjs': keeping this interchange around for future reference]System: CommunicationsSubsystem: OtherMachine: Disk: Microcode Version: Memory Size: File Server: Server Software Version: Difficulty: Frequency: Impact: Priority: UnlikelyStatus: DeclinedProblem Type: PerformanceSource Files: </pre>
  </body>
</html>
