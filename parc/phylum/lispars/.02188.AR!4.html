<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <title>File [phylum]&lt;LispARs>02188.AR!4</title>
  </head>
  <body>
    <pre>
Number: 2188Date: 16-Sep-84 15':29':17Submitter: RoachSource: RoachSubject: Want to trap TCOMPL breaks with NLSETQAssigned To: Attn: MASINTERStatus: OpenIn/By: Problem Type: Design - UIImpact: ModerateDifficulty: Frequency: EverytimePriority: PerhapsSystem: Language SupportSubsystem: Compiler, Code FormatMachine: 1132Disk: Lisp Version: 15-Sep-84 03':48':38Source Files: Microcode Version: 5124Memory Size: 4096File Server: Server Software Version: Disposition: '["Sannella.PA" "18-Sep-84 12':38':32" Subject': Status':(New-&gt;Open) Priority':(-&gt;Perhaps)]'["Masinter.pa" "18-Sep-84 16':41':03" Description':]'["Sannella.PA" "19-Sep-84 18':49':20" Description':]Description: There doesn''t seem to be any good way of automatically detecting that a compilation broke and then going on.  It would be nice to be able to write a routine using TCOMPL &amp; NLSETQ such as'     (DEFINEQ (LETSGOHOME (LAMBDA ()'       (FOR FILE IN MYFILES'        WHEN (IGREATERP (GETFILEINFO FILE ''ICREATIONDATE)'                        (GETFILEINFO'                         (PACK* FILE ''.DCOM)'                         ''ICREATIONDATE))'        DO (NLSETQ (TCOMPL FILE)))'       (LOGOUT))))'I could use (LETSGOHOME) instead of (LOGOUT) at the end of my day.  But the NLSETQ which normally traps breaks, seems unable to trap TCOMPL''s breaks.''From': Masinter'Subject': AR#2188, TCOMPL error breaks'To': Roach'cc': LispSupport''Could you give more details about what kinds of breaks you get under TCOMPL? What the error message is, etc.''Should it delete the file? Continue with other functions?''-----''Date': 18 Sep 84 17':13 PDT'From': Roach.pa'Subject': Re': AR#2188, TCOMPL error breaks'In-reply-to': Masinter.pa''s message of 18 Sep 84 16':41 PDT'To': Masinter.pa'cc': Roach.pa, LispSupport.pa''    EOF from mismatched parentheses and inability to dwimify because of changed record declarations are two that come to mind.  The idea is to get TCOMPL do what it can in my absence and let me fix unexpected problems in the few files TCOMPL can''t handle on the morning of the next day.'    If TCOMPL fails inside (NLSETQ (TCOMPL FILE)), then you can treat that (almost) like a &uarr;D.  Page 12.11 of the IRM says "If the compilation of any file is aborted via an error or control-D, all files are properly closed, and the (partially complete) compiled file is deleted."  I was hoping this would happen and that my NLSETQ would return NIL.'                                Kelly'''Workaround: Test Case: Edit-By: Sannella.PAEdit-Date: 19-Sep-84 18':49':21</pre>
  </body>
</html>
