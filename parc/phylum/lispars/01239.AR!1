Number: 1239Date: 30-May-84 15':08':01Submitter: vanMelleSource: vanMelleSubject: Provide recovery from "Lafite is confused about start of message"Lisp Version: 21-May-84 01':21':39Description: 'Need to have Lafite behave better than give this break when it finds an inconsistency between toc and mailfile.''Date':  4 May 84 16':27 PDT'From': Kaplan.pa'Subject': Lafite': Lafite is confused about start of message'To': Vanmelle, LafiteSupport.pa''Lafite System Date':  8-Apr-84 17':20':45'Lisp System Date': 26-Apr-84 18':56':44''I tried to display some messages about 50 back from the end of my mail file.  I keep getting a HELP with the above error.''What went wrong?  How can it be fixed?''Help!''------'Date':  8 May 84 16':50 PDT'From': vanMelle.pa''It means that there is an inconsistency between Lafite''s table of contents and the actual content of the file.  This should never happen, of course.''Cure is to close the browser, specifying Don''t Update, then delete the xxx.mail-Lafite-toc file and rebrowse the file.  If the file is otherwise okay, it will now parse fine and you''re back in business.  Otherwise, you may have to scavenge the file (with Laurel''s scavenger).''I am suspicious that this can arise following the infamous bad state for bout during GetMail break, my earlier explanation notwithstanding.  Symptom is that when you rebrowse the file as above you find several unexamined messages that are duplicates of messages found later in the file.  I am thus upping the priority of fixing the bad state for bout problem.''By the way, if instead of deleting xxx.mail-Lafite-toc you rename to something else, I may be able to do a little postmortem on the problem (given the bad toc file plus the mail file it purported to describe).''------'Date':  8 May 84 17':56 PDT'From': Kaplan.pa''I deleted the TOC file, then tried again, and it failed to parse the mail file.  I ran the mailfilescavenger and it found that one of the lengths was bad, which it corrected.  After that, everything was OK.''So the question is':  how did the length get bad?  Don''t know.  Note, however, that I have had alot of bad states for bout recently, and that indeed, my message file has lots of duplicate messages.''--Ron''Workaround: Test Case: Edit-By: Edit-Date: 30-May-84 15':08':01Attn: vanMelleAssigned To: In/By: Disposition: System: TextSubsystem: LafiteMachine: Disk: Microcode Version: Memory Size: File Server: Server Software Version: Difficulty: HardFrequency: Impact: ModeratePriority: PerhapsStatus: OpenProblem Type: Design - UISource Files: 