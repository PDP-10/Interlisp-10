<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <title>File [phylum]&lt;LispARs>02173.AR!1</title>
  </head>
  <body>
    <pre>
Number: 2173Date: 13-Sep-84 09':53':29Submitter: Sannella.PASource: masinter.paSubject: DWIM treats macros as 2nd class citizensAssigned To: Attn: masinter.paStatus: OpenIn/By: Problem Type: BugImpact: AnnoyingDifficulty: Frequency: Priority: PerhapsSystem: Programming EnvironmentSubsystem: DWIMMachine: 1132Disk: Lisp Version: 12-Sep-84 12':41':26Source Files: Microcode Version: 5124Memory Size: 4096File Server: Server Software Version: Disposition: Description: 'From': masinter.pa'Date': 13-Sep-84  0':45':30 PDT'Subject': DWIM treats macros as 2nd class citizens'To': lispsupport''I went in to do this and it touched more than I want to change at this time, so I''d like an AR, please. There are a number of places inside DWIM and DWIMIFY that say "is this a valid CAR of form" by asking GETD. The complete predicate is more complex, and should include allowing macros.''I fixed this in some of the "major" places that used to only test for GETD (you can tell by the calls that are checking MACROPROPS), but there are apparently a number of places left.''One major offender is the special hack in FIXSPELL to deal with lower-&gt;upper-case conversion, which checks for GETD but doesn''t allow macros.''This should be Attn': Masinter, PE/Dwim, Impact': Annoying, Priority': Perhaps. (Previous fix to uppercase for vars still stands, although the BOUNDP check for ''valid variable'' might be more like a (NOT (CLISPNOTVARP --)) and it is likely that the right place for this special check is *outside* FIXSPELL and not in (Design/Impl, impact': Minor, but it is so minor it doesn''t deserve a separate AR).''Workaround: Test Case: Edit-By: Edit-Date: </pre>
  </body>
</html>
