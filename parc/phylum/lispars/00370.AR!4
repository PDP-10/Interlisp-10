Number: 370Date: 29-Mar-84 12':52':02Submitter: Sannella.paSource: ROACH.PASubject: Must include FLOPPY info in release packageLisp Version: Description: 'Date': 29 MAR 84 11':20 PST'From': ROACH.PA'Subject': FLOPPY': Streams Allocation Error'To':   LISPSUPPORT''Received': from CMU-CS-A.ARPA by PARC-MAXC.ARPA; 29 MAR 84 07':52':38 PST'Date': 29 Mar 84 05':55 EST (Thursday)'From': Donna.Auguste@CMU-CS-A.ARPA'To': 1100support.pasa'Subject': {floppy} errors'CC': roach.pa'Message-Id': <29Mar84.055519.DA81@CMU-CS-A>'''i have been using the new fugue.6 release on a stand-alone dandelion'for a couple of days now, and i have several observations and'questions.''(1) where is documentation for FLOPPY.MODE and the other floppy'functions?  we have "fugue.6 release notes draft-draft-draft",'"installing software of 1108", the little blue booklet titled "xerox'1108 users guide", the big manual, and the the spiral-bound fugue book.'i couldn''t find anything about FLOPPY.MODE.  note (2) will explain why i'was looking so hard.''(2) i used (SYSOUT ''{FLOPPY}filename) to save my SYSOUT on four floppy'disks.  that went very smoothly (i''m really glad we can save SYSOUTs'now!).  however, i found that the next time i went to use (MAKEFILE'''{FLOPPY}filename), i got a break window with the message':  "NIL -'NON-NUMERIC ARG"; when i tried to load from a floppy, i got a break'window with the message':  "ARG NOT LP':  NIL ERROR".  i reread my large,'friendly "don''t panic" letters several times, and, after some'experimenting with a spare disk, i found that the system was still'trying to write SYSOUTs, brute-force changing the name of the disk to'"Lisp Sysout #1", etc.  (FLOPPY.MODE) returned SYSOUT, and nothing i'could think of giving it as a MODE argument was acceptable.  eventually,'i went and found a free machine, and looked at FLOPPY.MODE there, reset'mine to be PILOT like the other machine had, and my problem'disappeared.  ''(3) later in that same session, i did my usual'SAVE.EVERYTHING-to-floppy , and got a break window with the message':'"Floppy':  Severe Error!  ':  Streams Allocation Error ERROR".  i tried'reformatting the floppy; didn''t make any difference that i could see.  i'gave up, did some other things (including RECLAIM, and erasing many'windows from the screen), and retried SAVE.EVERYTHING-to-floppy.  it'worked.  about 2 hours later, i received the same error message and'could not shake it.''(4) since i seriously depend on floppies as storage for all of my'interlisp work, i would like to better understand what is going on.  can'i see the high-level source code (do i already have access to it, but'am just unaware?), or even the source microcode?  can i get a list of'the error messages and what they mean?  any documentation?''thanks,'donna auguste'(AUGUSTE@CMU-CS-A)'' -----''Date': 29 MAR 84 11':22 PST'From': ROACH.PA'Subject': RE': {floppy} errors'To':   Donna.Auguste@CMU-CS-A'cc':   LISPSUPPORT, ROACH''Hi Donna,'     The answers to your questions':'     (1) {PHYLUM}<LISP>CURRENT>FLOPPY.TTY.  I''ve sent you a copy.'     (2) A known bug.  This can happen when you ^D during a sysout and'{FLOPPY}''s mode doesn''t get changed back to PILOT.  Work around': Do'(FLOPPY.MODE ''PILOT) when you encounter thise error.'     (3) Somehow, you''ve managed to get a {FLOPPY} STREAM whose PALLOC'allocation record is missing from {FLOPPY}''s cached directory.  I'don''t believe there should be anything wrong with your floppy, but'{FLOPPY}''s info in core is confused.  I''d appreciate more background'on this problem if you can repeat it.  Probable workaround is to just'open & close the floppy drive door, which will flush {FLOPPY}''s cached'directory structure.'     (4) It''s up to 1100SUPPORT what source files go out to which'customers.  You can get a good idea of what functions are used by'{FLOPPY} by doing (APROPOS ''FLOPPY).  I don''t have a comprehensive'error list, but the errors that should happen are generally the'standard file system errors (e.g. "FILE SYSTEM RESOURCES exceeded")'which are included in section 9.8 of the Interlisp Reference Manual.'				Kelly'''Workaround: Test Case: Edit-By: Sannella.PAEdit-Date: 19-Jun-84 18':47':29Attn: Assigned To: Raim.pasaIn/By: Disposition: [MR': Release notes have been updated 4/5/84]System: DocumentationSubsystem: 1108 Users GuideMachine: Disk: Microcode Version: Memory Size: File Server: Server Software Version: Difficulty: Frequency: EverytimeImpact: SeriousPriority: AbsolutelyStatus: ClosedProblem Type: BugSource Files: 