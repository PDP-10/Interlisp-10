Number: 587Date: 10-Apr-84 10':59':29Submitter: Sannella.PASource: MASINTER.PASubject: Race condition in permanent menus annoying': Boxes around menu itemsLisp Version: Description: 'Date': 10 Jan 84 12':31 PST'From': masinter.pa'Subject': Lisp': odd behavior with process status window menu'To': LispSupport.pa'cc': masinter.pa'Lisp-System-Date': 10-Jan-84 08':14':57'Machine-Type': Dandelion''I''ve observed some odd behavior with the menu in the process status window -- sometimes when I click in the menu, I get into a mode where there is a box around the menu items. Other times, I can''t get into that mode.''Perhaps there is some kind of race condition with menus that are permanently up?''RRB - The problem is that lots can happen between the time the menu  handler is called (when the button goes down) and the time it gets around to looking to see what item the cursor is in.  In particular in your case the button had come up already.  Since in general the cursor may have moved too (like into an item other than the one in which the button was let up over), it is unsafe to assume that the last cursor position is the correct item.  Rather than do this, the menu handler provides feedback with boxing and the user must click again.  I will supercede this bug by the request to queue mouse clicks. (AR# 778).''RRB - I thought about the problem more and decided that none of the many things that can happen between the window handler noticing the button down and the menu handler being called should call MOUSESTATE, thus LASTMOUSEvars have the state at the time of the original click.  Thus I changed MENU.HANDLER to check for this case.  Changed status to fixed.''''''Workaround: Test Case: Edit-By: Sannella.PAEdit-Date: 16-Aug-84 13':08':16Attn: Assigned To: In/By: HarmonyDisposition: requires 778 to fixSystem: Windows and GraphicsSubsystem: Window SystemMachine: Disk: Microcode Version: Memory Size: File Server: Server Software Version: Difficulty: Frequency: IntermittentImpact: AnnoyingPriority: PerhapsStatus: ClosedProblem Type: Design - UISource Files: 