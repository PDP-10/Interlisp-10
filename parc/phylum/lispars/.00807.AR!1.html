<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <title>File [phylum]&lt;LispARs>00807.AR!1</title>
  </head>
  <body>
    <pre>
Number: 807Date: 23-Apr-84 15':53':29Submitter: Sannella.PASource: MASINTER.PASubject: Want hash arrays with reclaimable hash keys (esp. CLISPARRAY)Lisp Version: Description: 'Date': 20 APR 84 22':16 PST'From': MASINTER.PA'Subject': ARs'To':   LispSupport''Well, I''m at home and can''t try out your new ARSubmit from Interlisp-D.''So': would you please submit an AR, entitled':''Want CLISPARRAY entries to GC''problem type': Performance'Impact': Serious'Frequency': Intermittent''(I guess this is Language/Storage)':''Description':''Interlisp-D currently doesn''t GC pointers if they are pointed to from hash arrays. This is OK for most arrays and the right thing, but occasionally it is wrong wrong wrong. CLISPARRAY is one array for which it is wrong.''The way around it is to distinguish between reclaimable hash arrays and non-reclaimable ones.''If we wanted to reclaim a reclaimable hash array, we could perform the first pass of the GC (stack scan), and then, any entry for which the reference count in the GC table was 1, remove it from the table.''The scan is probably slow, so we shouldn''t do this too often -- every 30 GCs or whenver CLISPARRAY is about to overflow sounds right.''Workaround: Test Case: Edit-By: Edit-Date: Attn: MasinterAssigned To: In/By: Disposition: System: Language SupportSubsystem: Storage Formats/MgtMachine: Disk: Microcode Version: Memory Size: File Server: Server Software Version: Difficulty: ModerateFrequency: IntermittentImpact: SeriousPriority: PerhapsStatus: OpenProblem Type: PerformanceSource Files: </pre>
  </body>
</html>
