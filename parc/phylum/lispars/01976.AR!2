Number: 1976Date: 28-Aug-84 11':52':20Submitter: Sannella.PASource: acuff.paSubject: BSPBOUT loops when connection is deadAssigned To: vanMelleAttn: ReleaseStatus: FixedIn/By: Problem Type: BugImpact: SeriousDifficulty: ModerateFrequency: Priority: PerhapsSystem: CommunicationsSubsystem: PUP ProtocolsMachine: 1132Disk: Lisp Version: 27-Aug-84 21':14':00Source Files: Microcode Version: 5124Memory Size: 4096File Server: Server Software Version: Disposition: '["vanMelle" "30-Aug-84 17':16':43" Assigned% To': Attn': Status':(Open->Fixed) Difficulty':(->Moderate)]Description: 'Date': 24 Aug 84 00':24 PST'From': acuff.pa'Subject': Lisp': BSPBOUT loops when connection is dead.'To': LispSupport.pa, vanMelle'cc': acuff.pa''Lisp System Date': 22-Aug-84 00':45':52'Machine': Dandelion (131#66#)'Microcode version': 24,4'Memory size': 5777'Frequency': Always'Impact': Serious (useually happens with interrupts off)''   If a BSP connection dies for some reason, and BSPBOUT is called (thru BOUT) after that happens it loops forever calling \BSP.PREPARE.OUTPUT which keeps returning BAD.STATE.FOR.BOUT.  Either the death of the connection should cause the stream to be closed (thereby making BOUT an error), or BSPBOUT should handle BAD.STATE.FOR.BOUT in a better way.  Don''t ask me what, but it shouldn''t be hard to improve on infinite looping.''   BTW, I think this is the cause of AR''s 1716 and 1735 as well as Ron''s msg of 21-Aug.''	-- Rich''Workaround: Test Case: Edit-By: vanMelleEdit-Date: 30-Aug-84 17':16':44