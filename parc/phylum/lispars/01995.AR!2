Number: 1995Date: 28-Aug-84 13':32':39Submitter: Sannella.PASource: IntellicorpSubject: COPYBYTES from DEI VMS VAX to DFS gives wrong lengthAssigned To: Attn: vanMelle, PYoung.pasaStatus: OpenIn/By: Problem Type: BugImpact: SeriousDifficulty: Frequency: Priority: HopefullySystem: CommunicationsSubsystem: VAX ServerMachine: 1132Disk: Lisp Version: 27-Aug-84 21':14':00Source Files: Microcode Version: 5124Memory Size: 4096File Server: Server Software Version: Disposition: '["Masinter" " 1-Sep-84 12':00':29" Attn':]Description: 'Date':  2 Aug 84 14':51 PDT'From': Burton.pa'Subject': Lisp': COPYBYTES from DEI VMS VAX to DFS gives wrong length'To': LispSupport.pa'cc': LispCore^.pa''System': Carol release''Frequency': Once'Impact': Moderate''Intellicorp tried to copy a sysout to the local Dlion disk with a COPYBYTES, eg. ''(COPYBYTES ''{0#1#}<NEWLISP>LISP.SYSOUT ''{DSK}LISP.SYSOUT).''  The copybytes appeared to complete successfully, returning {DSK}LISP.SYSOUT;1. However, the local disk file gave its legnth as 1052296 bytes (2056 pages) whereas the file server had a length of 2709808 bytes (5293 pages).  ''As a work around I suggested that they create the file on the local disk first, then try the copybytes.  I haven''t heard whether this worked or not.''richard''-----''Date':  7 AUG 84 00':03 PDT'From': MASINTER.PA'Subject': COPYBYTES bug report from Intellicorp'To':   burton'cc':   LispSupport''um, maybe they tried COPYFILE rather than COPYBYTES? COPYBYTES only works on open files.''Also, in interaction with Customers (even our friends at Intellicorp) you will do well to (a) include the name of the Customer (e.g., was it Yonke?) and (b) to cc 1100Support.pasa.''-----''Date':  9 Aug 84 17':12 PDT'From': Burton.pa'Subject': Re': COPYBYTES bug report from Intellicorp'In-reply-to': MASINTER.PA''s message of 7 AUG 84 00':03 PDT'To': MASINTER.PA'cc': lispsupport'''I was talking to Marty Yonke.  He had opened the files.  He used COPYBYTES in preference to COPYFILE because when moving a large file to the file server earlier, COPYFILE would always timeout but COPYBYTES completed.''richard''-----''Date': 13 Aug 84 16':08 PDT'From': Masinter.pa'Subject': Re': COPYBYTES bug report from Intellicorp'In-reply-to': Burton.pa''s message of 9 Aug 84 17':12 PDT'To': Burton.pa'cc': MASINTER.PA, lispsupport.pa''there may have been a problem with opening the file in the wrong "mode" -- COPYFILE tries to preserve the "binary" mode, while if you just OPENFILE, you may get text mode. It doesn''t matter on IFSes, but it does matter on VAXen.''Workaround: Test Case: Edit-By: MasinterEdit-Date:  1-Sep-84 12':00':29