Number: 1521Date: 27-Jun-84 14':45':06Submitter: Sannella.PASource: JonL.paSubject: INFILEP vs OPENFILE different names when directory as "."': Leaf & DLion DiskAssigned To: Attn: Stansbury, vanMelleStatus: OpenIn/By: Problem Type: BugImpact: ModerateDifficulty: ModerateFrequency: IntermittentPriority: HopefullySystem: Operating SystemSubsystem: Generic File OperationsMachine: Disk: Lisp Version: Source Files: Microcode Version: Memory Size: File Server: Server Software Version: Disposition: Description: '[lmm': I tracked this down to inconsistent responses from INFILEP and INFILE. I guess that the compiler shouldn''t rely on the INFILEP call but rather use the name that the file opened, but...]'Date': 25 Jun 84 01':00 PDT'From': JonL.pa'Subject': Compiler losing on directories with dots in their name'To': Sannella, Kaplan'cc': JonL, LispSupport''I can''t seem to compile a file on {Eris}<Lisp>Fugue.6>Sources> -- READ dies below \GETSTREAM, and I notice that the argument to \GETSTREAM is something like '      {ERIS}<LISP>FUGUE.6>SOURCES>RS232;39, 'whereas the entry on \OPENFILES is '      {ERIS}<LISP>FUGUE.6>SOURCES>RS232.;39'Looks like someone is parsing things wrong when there''s a dot in the name of the directory.  Probably should be an AR on this?''-- JonL --''P.S.': Mike, I put the hopefully-coordinated version of RS232 on <LISP>FUGUE6>SOURCES> tentatively.  This is the one that is promised for *today* to GTE Waltham.''-----''Date': 11 Jul 84 17':15 PDT'From': Masinter.pa'Subject': AR#1521 - problem with compiler and files with "." in their name'To': JonL, Burton, Stansbury, vanMelle'cc': LispSupport''I tracked this down to a problem that INFILEP and INFILE were inconsistent -- if you connected to {ERIS}<LISPCORE>FUGUE.6> and did an INFILEP of a file without an extension, it would return a symbol without a "." punctuation; however, if you did an INFILE and then asked about (INPUT) you would get a different name. This also happens on the DLion disk, which is the only other device around I can find where you can create a directory with a "." in the name (maybe Tops-20 leaf servers?)''While the compiler "shouldn''t" rely on canonical file names being returned by INFILEP, it does. I can fix the compiler.''I dunno exactly why it is that INFILEP leaves out the "." but INFILE puts it in.''I will try to fix COMPILE, but meanwhile have marked the AR attn vanMelle, Stansbury''[bvm fixed Leaf 7/12/84]'Workaround: Test Case: Edit-By: vanMelleEdit-Date: 25-Jul-84 14':46':40