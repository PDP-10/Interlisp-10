Number: 1157Date: 20-May-84 12':43':34Submitter: Sannella.PASource: ShragerSubject: fix HASH to allow it to contain bitmaps, etc.Lisp Version: Description: 'Date': 10 May 84 19':00 PDT'From': Shrager.pa'Subject': Lisp': PRINTBITMAP to EXPR?'To': LispSupport.pa'cc': Shrager.pa''...''I''d like to get the Expr that is printed by PRINTBITMAP so that I can mung it instead of having it go to a file.  Then, I''d like to pass it to READBITMAP instead of having that fn always read from standard input.  I could use these and send the expr to a temp file, then reread the contents of that file, but this would be silly since those functions must have internal functions that construct and interpret that expression.  ''1) Can you tell me how to do this.''2) Why are these functions like this?  If the user wants to put out the result on standard output, he or she can simply write it there after getting the expression back from CONSTRUCT.PRINTABLE.BITMAP (or whatever).  Is there some odd reason that these two functions can only smash results into files?'-----''Date': 11 MAY 84 22':24 PDT'From': MASINTER.PA'Subject': Re': Lisp': PRINTBITMAP to EXPR?'To':   Shrager, LispSupport'' In response to the message sent 10 MAY 1984 1900-PDT by Shrager.pa''its done that way because the S-expression is actually never constructed.''It CAN be constructed, but it isn''t.'An odd performance optimization that might not really make any difference, but....''-----''Date': 12 May 84 00':18 PST'From': Shrager.pa'Subject': PRINTBITMAP'To': Masinter'cc': lispsupport''I understand the efficiency issue.  Perhaps you can tell me whether this is unreasonable, then, as a way around it.  I''m opening a {NODIRCORE} file and setting output to that file; using PRINTBITMAP, the resetting the fileptr to 0, and using READBITMAP to get the data back.  ''Why, you might ask, am I going to all this trouble?  I want to write the bitmaps into a hashfile.  I suppose the right way is to use the printarea of the hashfile and simulate the EXPR hash file by hashing names to printarea addresses in the hash area.''Comments desired.''Thanks,'	Jeff''-----''From': masinter.pa'Date': 12-May-84 10':04':18 PDT'Subject': Re': PRINTBITMAP'In-reply-to': Shrager''s message of 12 May 84 00':18 PST'To': Shrager'cc': Masinter, lispsupport''I think the ''right'' fix is to change HASH to use (HPRINT datum file T) i.e., use the HPRINT, uncircular option, to print out the data and (HREAD file) to read it in. ''That will allow you to store bitmaps and other datatypes directly on the file. Unfortunately, this may mean that old hash files are no longer valid (might be, though, unless they contained any symbols a { in them.''Larry''-----''Date': 30 Jun 84 00':23 PST'From': masinter.pa'AR#196, Subject': AR#1157, fix HASH to allow BITMAPS'To': shrager, lispsupport''This originally read something about debugging DDyers hash, which I had no intention of doing. However, the discussion contained in the AR did contain a reasonable ''wish'', namely that HASH allow the user to save bitmaps and data structures.''Jeff, do you want to take this one on? I have no interest in doing it. The AR is currently marked Unlikely, although I think it is Easy.''Workaround: Test Case: Edit-By: Sannella.PAEdit-Date:  2-Jul-84  9':12':49Attn: LispAssigned To: In/By: Disposition: System: Other SoftwareSubsystem: OtherMachine: Disk: Microcode Version: Memory Size: File Server: Server Software Version: Difficulty: EasyFrequency: EverytimeImpact: ModeratePriority: UnlikelyStatus: WishProblem Type: BugSource Files: 