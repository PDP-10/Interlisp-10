Number: 217Date: 22-Mar-84  2':35':14Submitter: le.pasaSource: Raim.pasaSubject: Bad error msg ARG NOT LP': NILLisp Version: Fugue 6 3-13-84Description: 'Date': Tue, 20 Mar 84 16':14 PST'From': Raim.pasa'Subject': FUGUE.6 FLOPPY PROBLEM'To': Le'cc': 1100Support, Roach.PA''System': Fugue.6'Machine': 1108''Our beta site at ADL reports the following':''(READFILE ''{FLOPPY}FOO) works ok.  Then a substantial amount of software is loaded (KEE and NOTEPAD) and (SYSOUT ''{FLOPPY}) produces a new sysout on floppies.  When this sysout is installed, (READFILE ''{FLOPPY}FOO) breaks':'''ARG not LP''BREAK1'ERROR'ERRORSET'OPENSTREAM'OPENFILE'ERRORSET'....''Also, an attempt to (OUTFILE ''{FLOPPYFIE}) results in''Non-numeric arg from OPENSTREAM.'--------------------------------------------'''Date': 20 MAR 84 17':07 PST'From': ROACH.PA'Subject': Re': FUGUE.6 FLOPPY PROBLEM'To':   Raim.pasa, Le'cc':   1100Support, Roach''In response to the message sent  Tue, 20 Mar 84 16':14 PST from Raim.pasa''     It looks like the user was in floppy mode SYSOUT when he tried'to READFILE off his PILOT floppy after creating SYSOUT floppies.'Possibly he Ctrl-Ded during the sysout.  In any case, I should probably'be checking to see that file "lisp.sysout" exists rather and erroring'in a more appropriate way than "ARG NOT LP" if not.  The user can'work around the situation by doing '	(FLOPPY.MODE ''PILOT)'which will take the user out of floppy mode SYSOUT to floppy mode PILOT.'The user then will be able to successfully READFILE once more.'				Kelly'---------------------------------------'Date': 20 MAR 84 17':12 PST'From': ROACH.PA'Subject': Re': FUGUE.6 FLOPPY PROBLEM'To':   Raim.pasa, Le'cc':   1100Support, Roach''In response to the message sent  Tue, 20 Mar 84 16':14 PST from Raim.pasa''     Also, try to get a "BT!" or better backtrace from the user rahter'than a "BT" backtrace from users whenever possible whne it comes to'FLOPPY.  Almost all my function names begin with "\", and these don''t'show up in BT backtraces.'				Kelly'-----''Date': 22 Mar 84 19':01 PST'Sender': halvorsen.pa'Subject': Lisp': FLOPPY error'To': LispSupport.pa'From':  Kaplan'Lisp-System-Date': 20-Mar-84 18':25':18'Machine-Type': Dandelion''We had the press file Tiffany.Press written on a floppy.  When we tried to (INFILE ''{FLOPPY}TIFFANY.PRESS), we got an error ARG NOT LP': NIL.''This was from a \DTESTFAIL inside \SFLOPPY.OPENHUGEFILE, at PC 117.  The file shows on the DIR listing as having 206 pages.''--Ron''-----''Date': 22 Mar 84 19':40 PST'From': Kaplan.pa'Subject': Lisp': More on floppy error'To': LispSupport.pa'Lisp-System-Date': 20-Mar-84 18':25':18'Machine-Type': Dorado''We discovered that the problem was that we were trying to get a file off of a floppy in a system in which we had previously done FLOPPY.MODE(SYSOUT) to save a sysout.''When we did FLOPPY.MODE(PILOT), the error disappeared and everything worked fine.''It is still a bug that the the floppy code gives the user a totally incomprehensible message in this situation, instead of informing him that he has the wrong floppy mode--or better still, flipping the floppy mode to be whatever is good for the floppy that is in there.  When the floppy is reading, why can''t it look at the disk and figure out what kind of mode it has.  And if the mode is wrong, why is it that it can get at the directory without any problem?''It also seems reasonable to me to have the floppy revert to its base mode (PILOT) after it has finished writing a sysout and the disk has been removed and replaced.''--RON''P.S.  You might want to inform 1100 support about the cause of this LP error; perhaps it should be noted in the release message as a known problem with this release.''''''Workaround: Test Case: Edit-By: Sannella.PAEdit-Date: 17-Aug-84 11':30':09Attn: Assigned To: Roach.paIn/By: HarmonyDisposition: [tl':3-22-84 appended messages received from Roach.pa concerning Raim''s original bug report]'[mjs': 4/2/84': added msgs from AR 276, changes problem type, priority, etc.]'[DATE': 22-JUL-84 ROACH STATUS _ FIXED]System: Operating SystemSubsystem: DLion FloppyMachine: 1108Disk: Microcode Version: Memory Size: File Server: Server Software Version: Difficulty: ModerateFrequency: EverytimeImpact: ModeratePriority: PerhapsStatus: ClosedProblem Type: BugSource Files: 