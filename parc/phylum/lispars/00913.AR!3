Number: 913Date:  1-May-84 18':41':47Submitter: Sannella.PASource: desRivieres.paSubject: Document VMEM.PURE.STATEAssigned To: Attn: vanMelle.paStatus: OpenIn/By: Problem Type: DocumentationImpact: AnnoyingDifficulty: EasyFrequency: EverytimePriority: PerhapsSystem: Operating SystemSubsystem: Virtual MemoryMachine: Disk: Lisp Version: Source Files: Microcode Version: Memory Size: File Server: Server Software Version: Disposition: '["Sannella.PA" "14-Aug-84 14':58':37" Description':]'["Sannella.PA" "14-Aug-84 15':13':29" Description':]Description: 'Date': 15 Apr 84 22':16 PST'From': desRivieres.pa'Subject': VMEM.PURE.STATE is winning!'To': vanMelle'cc': desRivieres.pa, LispSupport.pa''Bill,''In all the running around I''ve been doing, I neglected to let you know about VMEM.PURE.STATE.  We used in on the CSLI Dandelions on a Saturday training session for about 10 people.  During that time we had no problems that appear attributable to your VMEM.PURE.STATE facility (our problems mostly had to do with file serving).  Some of them ran for 4 or 5 hours --- none ever ran out of space on their 14200 page Lisp volume which had been primed with the 9500 page 3-LISP sysout.  In short, its working like a charm.  We haven''t tried compressing the vmem ye --- we might have a chance to try this in  a couple of weeks.  Thanks you very much for resurrecting it in time for us to use 'it.''Regards, Jim ''-----''Date':  1 Aug 84 00':43 PST'From': vanMelle.pa'Subject': VMEM.PURE.STATE'To': LispCore^, Poduska.pasa'Reply-to': vanMelle.pa''To those setting up demos': you might like to run this hack in order that you can push the boot button at any time to instantly restart the sysout.  Instructions':''Call VMEM.PURE.STATE(T) and then any operation which writes out the vmem, e.g., LOGOUT, SAVEVM, or SYSOUT (the pure state does not take effect until then).   The resulting vmem has its page fault handler altered to write dirty pages beyond the original end of the vmem, thus keeping the original vmem "pure".  While in this state, you probably do NOT want to LOGOUT or SAVEVM again, because the saved state is then as of the LOGOUT or SAVEVM, thus using yet more of the vmem file (there is a mode in which LOGOUT compresses the pages back to where they belong, but I never got it fully debugged).  Just (LOGOUT T) when done to go back to the mesa volume, or boot if you want to restart.''There is a new MP error in this state': 9316.  It means you wrote out so many dirty pages, you ran into the absolute end of the vmem file (8MB) even though you still have plenty of "virtual memory" left.''	BillWorkaround: Test Case: Edit-By: Sannella.PAEdit-Date: 14-Aug-84 15':13':34