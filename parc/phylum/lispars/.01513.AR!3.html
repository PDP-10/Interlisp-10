<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <title>File [phylum]&lt;LispARs>01513.AR!3</title>
  </head>
  <body>
    <pre>
Number: 1513Date: 27-Jun-84 13':13':17Submitter: Sannella.PASource: JonL.paSubject: Printing breaks when GETFILEINFO returns NILLisp Version: Description: 'Date': 20 Jun 84 13':58 PDT'From': JonL.pa'Subject': Lisp': GETFILEINFO returns NIL when file is open'To': LispSupport.pa'cc': vanMelle,Kaplan''Lisp System Date': 10-Jun-84 18':41'Machine': Dolphin (BuickoSaurus)'Microcode version': 24,1'Memory size': 7000'Frequency':  Always'Impact': Very Serious''Causes death under EMPRESS etc, in PRINTER.SCRATCH.FILE, where it tries to compare the file size with that of the dsk buffer.''-- JonL --''-----''Date': 25 Jun 84 18':00 PDT'From': masinter.pa'Subject': Lisp': non-numeric arg NIL under PRINTER.SRATCH.FILE'To': LispSupport.pa'cc': kaplan, vanMelle''Lisp System Date': 19-Jun-84 14':48':49'Machine': Dandelion (Purcell)'Microcode version': 24,4'Memory size': 17777'Frequency': intermittent'Impact': moderate''Please mark as fixed': I changed PRINTER.SCRATCH.FILE so that it would work even when GETFILEINFO of the file to be printed returned NIL for the size.''(I don''t know exactly WHY the GETFILEINFO returned NIL, since it doesn''t always. This should probably be another AR, frequency Once, subject GETFILEINFO(file SIZE) returned NIL when file was on a no-leaf IFS. I couldn''t reproduce it.)''-----''Date': 26 Jun 84 10':29 PDT'From': vanMelle.pa'Subject': Re': Lisp': non-numeric arg NIL under PRINTER.SRATCH.FILE'In-reply-to': masinter.pa''s message of 25 Jun 84 18':00 PDT'To': masinter.pa'cc': LispSupport.pa, kaplan.pa, vanMelle.pa''GETFILEINFO returns NIL for a file retrieved by PupFtp if the remote server did not include a LENGTH attribute in the plist it sends with the file.  I have not determined exactly under what circumstances an IFS fails to send LENGTH; the only cases I have examined closely involved files of length zero.  Alto Ftp also sometimes fails to send a LENGTH attribute (perhaps when the leader page hint is not correct).''	Bill''-----''Date': 26 Jun 84 12':23 PDT'From': JonL.pa'Subject': Re': Lisp': non-numeric arg NIL under PRINTER.SRATCH.FILE'In-reply-to': vanMelle.pa''s message of 26 Jun 84 10':29 PDT'To': vanMelle.pa'cc': masinter.pa, LispSupport.pa, kaplan.pa''I sent a report on the problem to LispSupport on the 20''th.   It only happened with one of the temporary DSK files that empress creates.''-- JonL --''Workaround: Test Case: Edit-By: Sannella.PAEdit-Date: 17-Aug-84  9':41':58Attn: Assigned To: masinterIn/By: Disposition: System: Windows and GraphicsSubsystem: PrintingMachine: Disk: Microcode Version: Memory Size: File Server: Server Software Version: Difficulty: ModerateFrequency: EverytimeImpact: SeriousPriority: HopefullyStatus: ClosedProblem Type: BugSource Files: </pre>
  </body>
</html>
