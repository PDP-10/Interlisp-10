<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <title>File [phylum]&lt;LispARs>00692.AR!4</title>
  </head>
  <body>
    <pre>
Number: 692Date: 13-Apr-84 13':20':54Submitter: Sannella.PASource: CS.CHEE@UTEXAS-20.ARPASubject: Gets Arrays full after using EXPANDBITMAP a lotLisp Version: Description: 'Date': 11 Apr 84 14':50 PST'Sender': Kiewiet.pasa'Format': TEdit'To': Le.pasa, Sannella.pa'From':kiewiet'Subject': AR-Submit'cc': 1100Support.pasa''Excuse me for submitting this query directly to Mike, but I''ve been out sick and Thu is in class.  I don''t want this query to sit because this customer complains we don''t respond.''Lorraine''----------------- ''SOURCE':  CS.CHEE@UTEXAS-20.ARPA''			             				    'DESCRIPTION': '  Its been 2 weeks since I last heard from your "support" group.'In that time period I''ve been able to get around the problem 'in question. What is considered by your group to be a reasonable'time period to wait for a reply, given that the question is'straight-forward and relates to the operation of a system function?''Anyway here''s another question.''I''m currently writing an animation package and most of the functions'manipulates bitmaps.  Lately since I''ve implemented a "zoom in" feature'(which uses EXPANDBITMAP) I''ve been hit by the "Arrays full" error'very frequently, I''ve experienced this problems before but did not'consider it serious enough, given that replies to queries takes such a'long time.  Consequently I''m not able to create bitmaps (BITMAPCREATE or'CREATEW) and essentially have to reboot the system.  I think the problem'is that the system is not reclaiming the space used by the bitmap or'window.  Even if this is not the problem how can I force the system to'reclaim that space - RECLAIM does''nt work even when I specify ARRAYs as 'an argument.  Also I would like to be able to access the arrays that'contain the bitmap, I need lower level control for some of the'things I need to do (BITMAPBIT is not sufficient).'	'I hope a reply for this query is more forthcoming as the problem is'down at the system level of which I know little about to get around.'''                                                          - Chee -'-----''Sender': Sannella.PA'Date': 13 Apr 84 13':29':04 PST (Friday)'Subject': AR 692': Gets Arrays full after using EXPANDBITMAP a lot'To': Kiewiet.pasa'cc': LispSupport.pa, Burton.pa'From': LispSupport.pa'Reply-To': LispSupport.pa''I have submitted this as AR 692, even though I suspect that it may just be the user doing something wrong.  I suggest you send back the following':''1) "Arrays Full".  Are you sure that your program is not holding pointers to old bitmaps after you use them (directly or indirectly)?  RECLAIM will not reclaim old bitmap space if you hold pointers to them.  It will also not reclaim the space if you construct circular structures.''2) "I need lower level control ... to bitmaps".  What do you need to do that you can''t do with BITMAPBIT?''Richard --- do you have anything to add?''-----''Date': 13 Apr 84 15':16 PST'From': Burton.pa'Subject': Re': AR 692': Gets Arrays full after using EXPANDBITMAP a lot'In-reply-to': LispSupport.pa''s message of 13 Apr 84 13':29':04 PST (Friday)'To': LispSupport.pa'cc': Kiewiet.pasa''I can''t add anything.  It is very possible that he just running out of room.  Maybe you could find out why he believes there is something to reclaim?''richard''-----''Date': 14 APR 84 10':02 PST'From': MASINTER.PA'Subject': EXPANDBITMAP problem...'To':   Kiewiet.pasa'cc':   Burton, LispSupport''One of the things I hope the 1100Support group will be able to do in the future is to TRY THINGS OUT; in this example': can you  go to your workstation and load in EXPANDBITMAP and actually doing a couple of thousand of them? Let it run overnight? E.g., to get more accurate information, we sometimes need to relay back that we tried to make it happen here, to distingish between the case that EXPANDBITMAP is broken (for all I know it is) or that the user is doing something wrong (which is also quite likely).''Are you close to being able to do things like that? How about in this case?''-----''Date': 14 APR 84 10':05 PST'From': MASINTER.PA'Subject': more on the UTexas complainer...'To':   Kiewiet.pasa'cc':   burton, Lispsupport''This guy clearly isn''t the UTexas "site liason". Maybe you could enlist the help of their site liason to help find out what the problem is. Often first users are frustrated, and getting the local wizard into the loop will help you out in information gathering and in relieving the frustration.''Forward this guys message back to the site liason at Texas and any replies that you''ve already sent, and see if you can get some help helping this users....''-----''Date': 18 Apr 84 21':54 PST'From': Kaplan.pa'Subject': Re': Ar#716'In-reply-to': vanMelle.pa''s message of 16 Apr 84 14':04 PST'To': le.pasa, Lispsupport'cc': vanMelle.pa, 1100Support.pasa, JonL.pa''I think Bill''s response to AR 716 (arrays full) is the correct one.  If his arrays are not being collected, then it must be because he is keeping a pointer to them somewhere.  In this situation there are 2 ways in which the system could be considered to be "at fault"''1.  He is not really keeping an explicit pointer to the bitmap--rather, he has some circular data structure that is also pointing to the bitmap or array.  The system currently does not collect circular structures.''2.  Arrayspace is too small.  This could be improved by allowing arrays to be allocated out of main data space (I''ll submit an AR for this), and also be expanding the address space up to 24 bits (an AR for this already exists).''I think he should follow Bill''s suggestion and try to find out whether his own code is at fault for keeping pointers to bitmaps that he doesn''t really intend to reference again.''A separate AR should be submitted (Attn Burton ?) for lower level access to bitmaps.  What does he really want, if BITMAPBIT is insufficient?''--Ron''Workaround: Test Case: Edit-By: Sannella.PAEdit-Date: 19-Apr-84 15':57':56Attn: Burton.paAssigned To: In/By: Disposition: System: Windows and GraphicsSubsystem: Window SystemMachine: 1108Disk: Microcode Version: Memory Size: File Server: Server Software Version: Difficulty: ModerateFrequency: IntermittentImpact: ModeratePriority: PerhapsStatus: OpenProblem Type: Design - ImplSource Files: </pre>
  </body>
</html>
