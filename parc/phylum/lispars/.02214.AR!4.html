<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <title>File [phylum]&lt;LispARs>02214.AR!4</title>
  </head>
  <body>
    <pre>
Number: 2214Date: 20-Sep-84 16':10':41Submitter: Dering.pasaSource: (Eric Schoen, SDR) Schoen@Sumex-aim, Dering.pasaSubject: Manual says Interlisp takes Tenex file names but DIRECTORY fails on form like FOO.BAZ;0Assigned To: Attn: vanMelleStatus: OpenIn/By: Problem Type: DocumentationImpact: AnnoyingDifficulty: Frequency: EverytimePriority: HopefullySystem: Operating SystemSubsystem: Generic File OperationsMachine: 1108Disk: Lisp Version: 21-Jun-84 10':50':28Source Files: Microcode Version: 5124Memory Size: 7168File Server: Server Software Version: Disposition: '["Sannella.PA" "21-Sep-84 15':49':00" Status':(New-&gt;Open) System':(-&gt;Operating% System) Subsystem':(-&gt;Generic% File% Operations)]'["masinter" "24-Sep-84 17':52':16" Source': Subject': Attn': Problem% Type':(Bug-&gt;Documentation)]'["Sannella.PA" "25-Sep-84 12':45':04" Attn': Description':]Description: 'There''s an annoying little bug in DIRECTORY which prevents directory requests of the form FOO.BAZ;0 from ever working.  DIRECTORY (and its subfunctions \GENERATFILES and DMATCH) assume the device-dependent routine to generate'file names will return a superset of the file group you specify.  DMATCH is then used to filter the possible superset.  Unfortunately, DMATCH and its subfunction DMATCH1 attempt to do a context-free match of each returned filename.  This will fail when a field of the filename which was not * in'the requested filegroup does not match that field in the filegroup.  This is fine, except that file names of the form FOO.BAZ;0, FOO.BAZ;-1, etc on Tenex, Tops-20, and VMS file servers imply specific version number handling which will never match the 0, -1, etc.''I believe the fix is to make DMATCH smarter about the syntax of file names on various operating systems (note that DIR *.*;0 to the local DSK on an 11xx also fails).  The manual says that Interlisp-D file names are just like Tenex filenmes; if you tell me that this case is an exception, I''ll stop complaining.''Eric''-----''Date': 24 Sep 84 17':51 PDT'From': masinter.pa'Subject': AR#2214, "DIRECTORY fails on form like FOO.BAZ;0"'To': vanMelle, Dering.pasa, Schoen@Sumex-aim'cc': LispSupport, Jellinek''(I cc': Eric because he''s a friend &amp; soon to be consultant)':''I fixed around the AR a bit': I marked it Attn': vanMelle since Bill worked explicitly on directory enumeration. It was my recollection that we do *not* support version numbers 0, -1, -2 as in Tenex, but that directory enumeration of "null version field" means "highest version". I changed Problem-Type to Documentation and the subject to "Manual says Interlisp takes Tenex file names but DIRECTORY fails on form like FOO.BAZ;0." Including this in the release notes then reduces the AR to be part of "Include documentation from release notes into Reference Manual".'''Workaround: Test Case: Edit-By: Sannella.PAEdit-Date: 25-Sep-84 12':45':04</pre>
  </body>
</html>
