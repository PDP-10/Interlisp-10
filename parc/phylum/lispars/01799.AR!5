Number: 1799Date: 10-Aug-84 15':25':24Submitter: Sannella.PASource: AHenderson.paSubject: Unify DISKPARTITION and CURRENTVOLUMEAssigned To: Attn: vanMelle, StansburyStatus: IncompleteIn/By: Problem Type: Design - UIImpact: AnnoyingDifficulty: Frequency: Priority: PerhapsSystem: Operating SystemSubsystem: Dolphin/Dorado DiskMachine: Disk: Lisp Version: Source Files: Microcode Version: Memory Size: File Server: Server Software Version: Disposition: 9-5-84.   (DISKPARTITION) on a dlion will now return the name (as an atom) of the partition which contains the virtual memory you  are running.  For the time being CURRENTVOLUME is defined to be a call to DISKPARTITION.  Should probably decomission CURRENTVOLUME sometime.  Would also be useful to have a function which returns the device and directory name of the virtual memory volume': e.g., would return {dsk7} on a dorado, {hostname}<lisp> on a dlion.  -- Tayloe.'["stansbury" " 5-Sep-84 17':55':59" Status':(Open->Incomplete) Problem% Type':(Performance->Design% -% UI) Disposition':]'["Sannella.PA" "11-Sep-84 11':09':58" Description':]'["Sannella.PA" "12-Sep-84 12':35':52" Description':]Description: 'Date': 12 Jul 84 18':14 PDT'From': AHenderson.pa'Subject': Lisp': Failure of (CURRENTVOLUME) on a Dorado.'To': LispSupport.pa'cc': AHenderson.pa''Lisp System Date': 10-Jun-84 18':41':09'Machine': Dorado (AHenderson)'Microcode version': 24,4'Memory size': 10000'Frequency': Always'Impact': Annoying''I just tried (DISKFREEPAGES ) on my Dorado. Worked fine. Also (DISKFREEPAGES ''{DSK7}). However, (CURRENTVOLUME) failed, with "attemptToRunDFSOnNon1108". Is there a different function for the Dorado? Should this go to LispSupport? Why is the argument to DISKFREEPAGES called volumename? Seems that FILESYSTEM might be more in keeping with the general Lisp notion as expressed in "File System Resources Exceeded". And how about (CURRENTFILESYSTEM)?''Austin''-----''Sender': Sannella.PA'Date': 13 Jul 84 17':42':21 PDT (Friday)'Subject': Re': Lisp': Failure of (CURRENTVOLUME) on a Dorado.'In-reply-to': AHenderson''s message of 12 Jul 84 18':14 PDT'To': AHenderson'cc': LispSupport'From': LispSupport.pa'Reply-To': LispSupport.pa''CURRENTVOLUME is a function that is part of the Dlion local file system code.  When you call it on a Dorado, it gives the message attemptToRunDFSOnNon1108, because it only works on an 1108.  Perhaps this error message should be clearer.''I don''t know of any way to tell which dorado partition you are running on.''-------'Date': 14 Aug 84 14':05 PDT'From': vanMelle.pa''There already is such a function.  It''s called (DISKPARTITION); it returns a number.''We should probably extend CURRENTVOLUME, if that is indeed the name we want to give it, to work on a Dolphin/Dorado and return things like DSK3.''-----''Date':  7 Sep 84 16':54 PDT'From': Masinter.pa'Subject': Re': Partial solution to ar #1799': Unify DISKPARTITION and CURRENTVOLUME'In-reply-to': stansbury.pa''s message of 5 Sep 84 17':55 PDT'To': stansbury.pa'cc': AHenderson.pa, vanMelle.pa, Lispsupport.pa''Tayloe, would it be reasonable to make'DISKPARTION() mean the same thing as DIRECTORYNAME({DSK}), i.e., resolve what the ''canonical'' meaning for {DSK} is?''-----''Date': 11 Sep 84 16':26 PDT'From': Stansbury.pa'Subject': Re': Partial solution to ar #1799': Unify DISKPARTITION and CURRENTVOLUME'In-reply-to': Masinter.pa''s message of 7 Sep 84 16':54 PDT'To': Masinter.pa'cc': stansbury.pa, AHenderson.pa, vanMelle.pa, Lispsupport.pa''"Tayloe, would it be reasonable to make'DISKPARTION() mean the same thing as DIRECTORYNAME({DSK}), i.e., resolve what the ''canonical'' meaning for {DSK} is?"''My understanding of diskpartition is that it was supposed to tell you which partition your virtual memory is running in, not which partition is your default local file storage.  (These are necessarily different on the dlion.)''There is clearly a need both for finding out where your virtual memory is and for finding out where your default local file storage is.  I vote we keep (diskpartition) for the former and (directoryname ''{dsk}) for the latter.''-- T.''''Workaround: Test Case: Edit-By: Sannella.PAEdit-Date: 12-Sep-84 12':35':53