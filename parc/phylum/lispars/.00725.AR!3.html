<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <title>File [phylum]&lt;LispARs>00725.AR!3</title>
  </head>
  <body>
    <pre>
Number: 725Date: 17-Apr-84 10':08':05Submitter: Sannella.PASource: GDONLON@BBNGSubject: Masterscope template for RESETVARS is wrongLisp Version: Description: 'Received': from BBNG.ARPA by PARC-MAXC.ARPA; 12 APR 84 07':18':49 PST'Date': 12 Apr 84 10':19 EST'Sender': JGIBBONS@BBNG.ARPA'Subject': [GDONLON@BBNG': Masterscope template for RESETVARS.]'From': Jeff Gibbons &lt;JGibbons@BBN.ARPA&gt;'To': Masinter.pa'Cc': JGibbons@BBNG.ARPA'Message-ID': &lt;[BBNG]12-Apr-84 10':19':45.JGIBBONS&gt;''Hi Larry, any comments on the problem described below? The observation'seems right to me.''jeff'	'Begin forwarded message'Received': By BBNG via direct-append with Hermes; 11 Apr 84 18':37':52-EST'Date': 11 Apr 1984 18':37-EST'From': GDONLON@BBNG'To': JGIBBONS@BBNG'Subject': Masterscope template for RESETVARS.'Message-ID': &lt;[BBNG]11-Apr-84 18':37':50.GDONLON&gt;'Sender': GDONLON@BBNG''  The masterscope template for the function RESETVARS is incorrect.'  The effect of the problem is that the varslst is assumed to be evaluated.'That means masterscope will think some variables are also functions.''  The cause of the problem is the fact that the template is ''MACRO, the atom'MSMACROPROPS is ''(MACRO) and resetvars is a jmacro on the jericho and a '10macro on the 10.'  MSMACROPROPS does not contain jmacro 10macro... "... in the theory that the'machine-dependent macro definitions are more likely ''optimizers''" Interlisp'manual p. 13.16. '					Gerard.''-----''Subject': AR 725': Masterscope template for RESETVARS is wrong'To': JGIBBONS@BBNG.ARPA'cc': GDONLON@BBNG.ARPA, Masinter'From': LispSupport.pa'Reply-To': LispSupport.pa''I''ve looked at your problem, and it indeed seems that the Masterscope template for RESETVARS is wrong.  This problem has been entered in our bug database, and will be corrected in the system sources, and eventually released.  Meanwhile, a simple fix is to do''(SETTEMPLATE'      ''RESETVARS'      ''((BOTH (.. (IF LISTP (NIL EVAL .. EFFECT) NIL)) '             (.. (IF LISTP (BIND) BIND)))'       .. (IF LISTP EFFECT))''This is just like the template for COND, except that it does not throw away the call to RESETVARS (by starting with "! NIL").''I still think that it is correct that "MSMACROPROPS does not contain jmacro 10macro...", since it is unlikely that masterscope would analyze your macros correctly.'Workaround: Test Case: Edit-By: Sannella.PAEdit-Date: 17-Apr-84 10':24':34Attn: MasinterAssigned To: In/By: Disposition: System: Programming EnvironmentSubsystem: MasterscopeMachine: Disk: Microcode Version: Memory Size: File Server: Server Software Version: Difficulty: EasyFrequency: EverytimeImpact: AnnoyingPriority: PerhapsStatus: OpenProblem Type: BugSource Files: </pre>
  </body>
</html>
