Number: 2251Date: 25-Sep-84 11':29':25Submitter: Sannella.PASource: Sybalsky.paSubject: Loading UGLYVARS shouldn''t redeclare system datatypesAssigned To: Attn: Kaplan, MasinterStatus: OpenIn/By: Problem Type: BugImpact: SeriousDifficulty: Frequency: Priority: HopefullySystem: Programming EnvironmentSubsystem: File PackageMachine: 1132Disk: Lisp Version: 24-Sep-84 09':49':01Source Files: Microcode Version: 5124Memory Size: 4096File Server: Server Software Version: Disposition: Description: Date': 23 Sep 84 13':09 PDT'From': Sybalsky.pa'Subject': UGLYVAR''s FONTDESCRIPTORs KILL you in Harmony'To': LispSupport, Kaplan'cc': Sybalsky.pa''If you have an UGLYVAR that is a font descriptor from carol, and you try to load the file into harmony, you redefine FONTDESCRIPTOR, and kill yourself totally.''-----''From': kaplan.pa'Date': 23-Sep-84 22':04':05 PDT'Subject': Re': UGLYVAR''s FONTDESCRIPTORs KILL you in Harmony'In-reply-to': Sybalsky''s message of 23 Sep 84 13':09 PDT'To': Sybalsky'cc': LispSupport, Kaplan''I don''t know of anything that can be done about that.  That would be true of anydatatype that had been dumped, after which system development led to changes in its record declarations.''It is a general problem.  The only fix I can imagine is some way of dumping implementation-independent instances of datatypes.  And I can''t imagine how to do that in general.''--Ron''-----''Date': 24 Sep 84 09':37 PDT'From': Sybalsky.pa'Subject': Re': UGLYVAR''s FONTDESCRIPTORs KILL you in Harmony'In-reply-to': kaplan.pa''s message of 23-Sep-84 22':04':05 PDT'To': Sannella.pa'cc': Sybalsky.pa, Kaplan.pa''I guess this should be a nice, prominent warning in the release message.''-----''Date': 24 Sep 84 09':53 PDT'From': Sybalsky.pa'Subject': Re': UGLYVAR''s FONTDESCRIPTORs KILL you in Harmony'In-reply-to': kaplan.pa''s message of 23-Sep-84 22':04':05 PDT'To': kaplan.pa'cc': Sybalsky.pa, LispSupport.pa''On second thought, I claim the behavior I reported is a bug':  If you read an obsolete uglyvar into a sysout, it should''	(1) NOT REDEFINE THE DATATYPE for Pete''s sake, and should probably''	(2) Return a list of the "declaration" and the field values, so poor guy has some hope of reconstructing his goodie.''-----''Date': 24 Sep 84 15':04 PDT'From': Kaplan.pa'Subject': Re': UGLYVAR''s FONTDESCRIPTORs KILL you in Harmony'In-reply-to': Sybalsky.pa''s message of 24 Sep 84 09':53 PDT'To': Sybalsky.pa'cc': LispSupport.pa''You''re probably right.  I guess this is an AR independent of Fonts or any particular system piece.  Care to submit it?''--Ron''Workaround: Test Case: Edit-By: Edit-Date: 