<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <title>File [phylum]&lt;LispARs>00763.AR!2</title>
  </head>
  <body>
    <pre>
Number: 763Date: 18-Apr-84 17':13':58Submitter: Sannella.PASource: Burton.paSubject: Bad file map appeared on end of other file map?Assigned To: Masinter.PAAttn: Status: IncompleteIn/By: Problem Type: BugImpact: ModerateDifficulty: HardFrequency: OncePriority: System: Programming EnvironmentSubsystem: File PackageMachine: Disk: Lisp Version: Source Files: Microcode Version: Memory Size: File Server: Server Software Version: Disposition: From': Masinter'Subject': AR#763 - Bad file map appeard on end of other file map'To': Burton'cc': Sannella, Kaplan''In some circumstances when the new filemap is shorter than the old, rewriting the filemap writes the new one and doesn''t truncate the file. In lieu of other evidence, I would suspect that that is what happened here. For lack of anything else to do with this one, I''m gonna mark it "Incomplete". If you see a file-map-truncation again, let me know. (Unfortunately, in this case, the file disappeared before I got around to looking at the AR.)'Description: 'Date': 18 Apr 84 10':53 PST'From': Burton.pa'Subject': Lisp': random rewriting of file map'To': LispSupport.pa'cc': Lispcore&uarr;.pa''Lisp System Date': 12-Apr-84 16':45':05'Machine': Dorado (Burton)'Microcode version': 24,4'Memory size': 10000'Frequency': Once'Impact': Moderate''Under Dedit, I evaled the form (. ANALYZE ANY ON WBFNS OR SKETCHEDIT).  I got the msg '**** rewrote the file map for {p}&lt;paperworks&gt;WBFNS.;2'followed by':'Sorry, the function WB.ADD.BOX.TYPE can''t be analyzed!'...'(for eight more functions).''I looked at WBFNS and it looked ok other than the file map section which had a file map followed by STOP followed by part of another file map followed by another STOP.  I LOADed WBFNS PROP, it rewrote the file map again and my functions appear to have made it in (including WB.ADD.BOX.TYPE).  ''I have no theories about what is happening but thought I should pass it along.''richard'Workaround: Test Case: Edit-By: MasinterEdit-Date: 19-Jul-84 17':45':13</pre>
  </body>
</html>
