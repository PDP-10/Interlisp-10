<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <title>File [phylum]&lt;LispARs>01403.AR!5</title>
  </head>
  <body>
    <pre>
Number: 1403Date: 12-Jun-84 17':02':55Submitter: Sannella.PASource: Mcfarland.henrSubject: Update documentation for COLORUTILITIES lispusers packageLisp Version: Description: 'Date': 12 Jun 84 11':46 EDT'From': Mcfarland.henr'Subject': Lisp': Color Bugs'To': LispSupport.pa'cc': Mcfarland.henr, AHenderson.pa, KMatysek.henr'Lisp-System-Date':  1-Mar-84 14':24':22'Machine-Type': Dolphin''	I can''t seem to get the COLORADDMENU function to work properly. If I create a color window and a standard (B/W) menu; the coloraddmenu function puts a menu box in the window at the proper position, but no "items" show up. The function never comes back; &uarr;T = "runnung in \CAR.UFN in FASSOC in COLORGETITEMCOLOR". ''	I also have problems reinitializing the color display stream if I enter a sysout that had an active color display stream. How can I re-initialize to get the color stream back ?''Your assistance appreciated,''Doug McFarland''-----''Subject': Re': AR 1403': COLORADDMENU never returns'In-reply-to': LispSupport.pa''s message of 12 Jun 84 17':03':13 PDT (Tuesday)'To': Mcfarland.henr'cc': AHenderson.pa, KMatysek.henr, LispSupport.pa, Feuerman.pasa''COLORADDMENU is a function from COLORUTILITIES which is a lispusers package supported by Ken Feuerman.  I forwarded your message to him.''The problem with "reinitializing" the color display stream may be coming from the fact that the color display is not automatically turned on after a sysout.  You can turn it back on by calling (COLORDISPLAY T).''Richard ''-----''Date': 13 Jun 84 07':12 EDT'From': Mcfarland.henr'Subject': Re': AR 1403': COLORADDMENU never returns'In-reply-to': Burton.pa''s message of 12 Jun 84 17':14 PDT'To': Burton.pa'cc': Mcfarland.henr, AHenderson.pa, KMatysek.henr, LispSupport.pa, Feuerman.pasa''I should have been more explicit about the reinitialization problem; It did however, give me a chance to recheck the problem. When I execute the COLORDISPLAY function (regardless of the parameters passed to it) all I get is ''ILLEGAL ARG'' ''NOBIND''. ''This function is called when the background "Color Display On/Off" is selected.  This causes a break where BT=':''	COLORSWITCHDISPLAYON/OFF'	COLORINIT		(all parms nil)'	ERRORSET'	COLORDISPLAY	(all looks ok, colormapifon=T'					bits/pixel is 4, etc.'	'	COLORMAPOF	NEWCM = NOBIND'					BITSPERPIXEL is 4'	COLORMAPCREATE        INTENSITIES = NOBIND''	BREAK1		seems it dosn''t like nobind intensities ?''-----''Date': 13 Jun 84 10':30 PDT'From': Burton.pa'Subject': Re': [LispSupport.pa': AR 1403': COLORADDMENU never returns]'In-reply-to': Feuerman.pasa''s message of 13 Jun 84 09':34 PDT'To': Feuerman.pasa'cc': Sannella.pa''There is a new staging directory called &lt;LISPNEW&gt; which is where the new version of color utilities stuff should go, subdirectory &lt;LISPNEW&gt;LISPUSERS&gt;.  If it really is backward compatible, you should just put it on &lt;LISPUSERS&gt;.  Msg Mike Sannella.pa that it should be included in the release.''I would like to know what the incompatibilities you ran across were.  We need to make sure they are documented in the new release msg.''richard''-----''Date': 13 Jun 84 10':30 PDT'From': Burton.pa'Subject': [Feuerman.pasa': Re': [LispSupport.pa': AR 1403': COLORADDMENU never returns]]'To': Sannella''RE previous msg.'''     ----- Begin Forwarded Messages -----''Date': 13 Jun 84 09':34 PDT'From': Feuerman.pasa'Subject': Re': [LispSupport.pa': AR 1403': COLORADDMENU never returns]'In-reply-to': Burton.pa''s message of 12 Jun 84 17':08 PDT'To': McFarland.henr, Burton.pa'cc': Feuerman.pasa''Doug,''I saw your message that Richard Burton passed on to me.  I was unable to reproduce the situation that you describe, though I was able to find the place in the code that your &uarr;T produced.  I could not find any reason why it should die there either.  Alas, if I ever do get a chance, I think I should go through COLORUTILITIES and do a bit of optimization.  There are a lot of things that I would do a little differently (now that I know better).  But in the meantime, I might double check a few things':  How many menu items are there?  Are you trying to display the menu items in black (invisible)?  Maybe if I had an example of how you created the color window and the menu, I could tell what was happening to you.''We may have a version skew problem again.  The SYSOUT I''m starting up from now is dated June 8, 1984.  As a result, there were a few bugs in COLORUTILITIES that cropped up in other places.  I''ve fixed those, so the newest version of COLORUTILITIES (on {ROSEBOWL}&lt;FEUERMAN&gt;LISP&gt;) *should* be backward source compatible with whatever SYSOUT you''re using (I say *should* cautiously).  You may want to give that a try if you can ever get through on the net.''Richard, the SYSOUT I''m starting from is called {ROSEBOWL}&lt;LISP&gt;CAROL&gt;LISP.SYSOUT, dated June 8.  Because I''ve now compiled COLORUTILITIES in that sysout, should I now move the new COLORUTILITIES up to {ERIS}&lt;LISPUSERS&gt; (formerly {PHYLUM}) and make some sort of release notice?  Is that June 8 sysout the "latest" version (other than on &lt;LISPCORE&gt;)?'''--Ken.''     ----- End Forwarded Messages -----''-----''Date': 13 Jun 84 11':13 PDT'From': Feuerman.pasa'Format': TEdit'Subject': Re': [LispSupport.pa': AR 1403': COLORADDMENU never returns]'In-reply-to': Burton.pa''s message of 13 Jun 84 10':30 PDT'To': Burton.pa'cc': Feuerman.pasa, Sannella.pa''Richard,''In the new release, the argument names to PUTMENUPROP were changed':''(PUTMENUPROP Menu Prop Val) =&gt; (PUTMENUPROP Menu Property Value)''It''s minor, but I had an ADVISE on PUTMENUPROP which needed to look at the value of those arguments.  Hence I got an unbound atom when I asked the value of PROP.  I changed it so it looks for the value of (CADR (ARGLIST ''PUTMENUPROP)).  This should work in both versions.  This sort of thing has happened before; I just need to make sure that from now on when I depend on the name of an argument to a system function, I should double check that name first (in case it changes).''That''s about all that I can think of that changed that I wasn''t responsible for.''By source backward compatible, I meant that I couldn''t guarantee that the compiled version would work in whatever sysout Doug McFarland is using back east (March, April?).  What''s more is that I don''t have easy access to such a sysout in order to try and compile the source for them.  I think for now it''s probably a good idea to put it on &lt;LISPNEW&gt;.   Should I mention that to Lispusers&uarr;?''--Ken.''-----''Date': 13 Jun 84 11':55 PDT'From': Burton.pa'Subject': Re': AR 1403': COLORADDMENU never returns'In-reply-to': Mcfarland.henr''s message of 13 Jun 84 07':12 EDT'To': Mcfarland.henr'cc': Burton.pa, AHenderson.pa, KMatysek.henr, LispSupport.pa, Feuerman.pasa, Denber.wbst''Michel Denber had this problem.  It is fixed (I believe) in the June 8 loadup.  You might ask Michel how he is patching around it.''richard''-----''Date': 13 Jun 84 16':47 EDT'From': Denber.wbst'Subject': Re': AR 1403': COLORADDMENU never returns'In-reply-to': Burton.pa''s message of 13 Jun 84 11':55 PDT'To': Burton.pa'cc': Mcfarland.henr, AHenderson.pa, KMatysek.henr, LispSupport.pa, Feuerman.pasa''Hmm - I vaguely remember something like that, but it was ages ago.  I don''t think I ever did anything about it - I believe Ken fixed it.  Is that right, Ken?  The only problem I still have with color with the current sysout is having to do that ADVISE on COLORMAPOF (I think it was) before anything will work at all.''			- Michel'-----''Date': 13 Jun 84 14':57 PDT'From': Feuerman.pasa'Subject': Re': AR 1403': COLORADDMENU never returns'In-reply-to': Mcfarland.henr''s message of 13 Jun 84 07':12 EDT'To': Mcfarland.henr'cc': Burton.pa, AHenderson.pa, KMatysek.henr, LispSupport.pa, Feuerman.pasa''Yes, Michel, Richard, and Doug.''There is a quick fix to that color initialization, though it will cause you problems if you hope to save a colormap across sysouts':''(ADVISE ''COLORMAPOF ''BEFORE ''(SETQ NEWCM T))''This temporarily solves the NOBIND problem (NEWCM is an argument sent to COLORMAPOF that isn''t being set properly).''Richard, was this problem fixed yet?  I believe it cropped up back in March, and you had fixed it for the next release, which would be now.''--Ken.''Workaround: Test Case: Edit-By: Sannella.PAEdit-Date: 28-Jun-84 14':43':04Attn: Feuerman.pasaAssigned To: Feuerman.pasaIn/By: Disposition: System: Windows and GraphicsSubsystem: ColorMachine: 1100Disk: Microcode Version: Memory Size: File Server: Server Software Version: Difficulty: EasyFrequency: EverytimeImpact: SeriousPriority: HopefullyStatus: OpenProblem Type: BugSource Files: </pre>
  </body>
</html>
