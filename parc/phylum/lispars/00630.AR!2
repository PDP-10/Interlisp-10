Number: 630Date: 10-Apr-84 16':36':48Submitter: Sannella.PASource: vanMelle.paSubject: Tedit PUT taking much too long ---does  OPENFILE and CLOSEF for each piece!Assigned To: Attn: Status: ObsoleteIn/By: Problem Type: PerformanceImpact: SeriousDifficulty: Frequency: IntermittentPriority: PerhapsSystem: TextSubsystem: TEditMachine: Disk: Lisp Version: Source Files: Microcode Version: Memory Size: File Server: Server Software Version: Disposition: Description: 'Date': 10 Apr 84 13':58 PST'From': vanMelle.pa'Subject': TEdit': Excrutiating performance underneath Put'To': TEditSupport.pa'cc': vanMelle.pa''TEdit System Date':  6-Apr-84 16':45':56'Lisp System Date':  7-Apr-84 20':16':56'Machine': Dorado (Archimedes)'Microcode version': 24,4'Memory size': 10000'Impact': Serious''I was editing a file of modest size (13000 bytes) from Phylum, and did a Put of it to {DSK} after some editing.  It took a long time (don''t know exactly how long; I gave up and went to lunch).  The reason it was taking so long was that apparently for every piece, it was calling OPENFILE and CLOSEF of the file behind the piece (the file on Phylum), which happened to be OPENP anyway!  Although the file was not large, it had nearly 300 pieces in it, so you can imagine this took a while.''-----''Date': 10 Apr 84 14':04 PST'From': vanMelle.pa'Subject': TEdit': Put locks out the world'To': TEditSupport.pa'cc': vanMelle.pa''TEdit System Date':  6-Apr-84 16':45':56'Lisp System Date':  7-Apr-84 20':16':56'Machine': Dorado (Archimedes)'Microcode version': 24,4'Memory size': 10000'Impact': Serious''The aforementioned Put that took forever was initiated from the fancy menu.''(1) This tied up the mouse, so I had to spawn mouse to get one for other uses.''(2) While the Put was happening, Tedit refused to accept input in other windows.  For example, I called up a Tedit Report form to report the awful performance.  It happily flashed its caret at me, but refused to accept input until that completely unrelated Put finished (at which time it did process my typeahead).''(3) Also during this long Put, all other Tedits were flashing their carets at me, even though NONE of them was the tty process.  They stopped this inappropriate flashing after the Put finished.''	Bill'Workaround: Test Case: Edit-By: SybalskyEdit-Date: 20-Jul-84 10':03':26