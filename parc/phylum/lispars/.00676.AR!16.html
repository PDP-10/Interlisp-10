<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <title>File [phylum]&lt;LispARs>00676.AR!16</title>
  </head>
  <body>
    <pre>
Number: 676Date: 13-Apr-84 10':15':30Submitter: Sannella.PASource: Kaplan.paSubject: LispInstallTool should be able to load from PUPFTP host even if it gives hint=0Lisp Version: Description: 'Date':  3 Apr 84 21':56 PST'From': Kaplan.pa'Subject': Installing a dlion from a 2060?'To': Lispcore&uarr;, 1100Support.pasa''There is a rumor floating around Stanford (Sumex and CSLI) that the install tool cannot install a sysout on an 1108 from a Dec 2060.  The rumor mentions something about an "STP" protocol that the 2060 doesn''t support, even though it does support pupftp and leaf.''Does anybody know what the truth of the matter is (or should be)?  Do we expect that this should work (in which case the fact that it doesn''t is a bug that should be looked into), or are we aware of this as a problem that everyone will have to live with?''--Ron  '-----''From': MASINTER.pa'Date':  3-Apr-84 23':53':23 PST'Subject': Re': Installing a dlion from a 2060?'In-reply-to': Kaplan''s message of 3 Apr 84 21':56 PST'To': Kaplan'cc': Lispcore&uarr;, 1100Support.pasa''The fact that we COULD install Interlisp-D using the install tool from Maxc would indicate that either this DOES work and Stanford is confused, or else there is a bug with the DEC-20 implementation of PUPFTP that Stanford has which does not exist with the Maxc implementation.''(There is another alternative, whcih is that the 2060 is merely DIFFERENT in a way that the Install Tool cares about but is still within the specification. This latter alternative may explain the "STP error" message.''In any case, I am not aware of an AR on this problem.''-----''Date':  5 Apr 84 17':03 PST'From': Kaplan.pa'Subject': Installing an 1108 from a 2060'To': Lispsupport, Lispcore&uarr;''I asked Chris Schmidt at Sumex to try installing his 1108 from the CSLI 20 using the install tool.  He reports that it in fact doesn''t work.  In fact, it appears that the more recent tool hangs up.  Is that the most recent tool?  Do we understand what is going on?  Do we need more information?  I wish someone more knowledgeable then me would look into this, perhaps asking Schmidt to help out.  But please cc me on any messages.''Ron'     ----- Forwarded Messages -----''Return-Path': SCHMIDT@SUMEX-AIM.ARPA'Received': from SUMEX-AIM.ARPA by Xerox.ARPA ; 05 APR 84 12':16':11 PST'Date': Thu, 5 Apr 84 12':10':28 PST'From': Christopher Schmidt &lt;SCHMIDT@SUMEX-AIM.ARPA&gt;''	Just to be sure, I tried loading a fugue4 sysout off of'Turing with both of the two Install Lisp Tools we have.'They are ILT 10.0 of 29 Nov 83 15':54 and XSIS ILT of 26-Jan-84 17':20'on Pilot 10.0.  Both of these tools report a length of 0 pages 0 bytes.'The former declares the sysout successfully installed after about a second,'and the later simply hangs and has to be rebooted.'	What Install Lisp Tool do you use on your 1108''s?'--Christopher'-----''Date': 16 Apr 84 07':01':53 PST (Monday)'From': JFung.pasa'Subject': AR 676': Want to install lisp on 1108 from a DEC 2060'To': LispSupport.pa'cc': Kaplan.pa, Masinter.pa, JFung''What is the length of 0 pages and 0 bytes on your message?  Is that the sysout size?''I fixed a bug in InstallLispTool last friday between DEI/Vax and Dlion?   However the symptom of the problem was Dlion dived into MP 915 and not simply "hangs".  I always have difficulty to interpret "hangs".  Does the DEC 2060 runs the DEI software also?  If so, they also need a "pathc" on their side, see attached Bill''s message.''If you are interested I''ll give you this temporatry version to try out.''-----''Date': 16 Apr 84 09':01 PST'From': Masinter.pa'Subject': [JFung.pasa': AR 676': Want to install lisp on 1108 from a DEC 2060]'To': Schmidt@sumex-aim, JFung.pasa'cc': LispSupport, Kaplan, PYoung.pasa'reply-to': JFung.pasa, LispSupport, Scmidt@sumex-aim, Lane@sumex-aim, Eric@su-csli, PYoung.pasa''Chris': there is apparently some ambiguity in your bug report about the InstallLispTool not being able to talk to the DEC 20. Could you communicate directly back to Jerry Fung (JFung.pasa@Xerox) more about the nature of the failure of InstallLispTool?''Jerry': no, the DEC-20 does not run DEI software. It is a "2060"': a 36-bit machine made by DEC running the "TOPS-20" operating system. Tops-20 is a direct outgrowth of Tenex, and Tenex is what Maxc runs. Both Tops-20 and Maxc have PUPFTP servers written in PDP-10 assembler (originally by Taft.) Jerry, could you also please answer the questions in Chris'' message?''Unlike DEI, however, Tops-20 PUPFTP has been in service for many years, and it is less likely that the problem lies in it not implementing the protocol correctly. I imagine some kind of packet watch could tell exactly what was going on in the conversation. (Some versions of PUPFTP server had a ''trace'' mode which would print out all kinds of stuff if you turned it on. Do you know about that, Chris? Or should this go to someone else? Am I imagining things?)''-----''Return-Path': SCHMIDT@SUMEX-AIM.ARPA'Received': from SUMEX-AIM.ARPA by Xerox.ARPA ; 16 APR 84 14':08':56 PST'Date': Mon, 16 Apr 84 14':05':32 PST'From': Christopher Schmidt &lt;SCHMIDT@SUMEX-AIM.ARPA&gt;'Subject': InstallLispTool &amp; TOPS-20'To': JFung.pasa, LispSupport.pa, Lane@SUMEX-AIM.ARPA, Eric@SU-CSLI.ARPA, PYoung.pasa, Kaplan.PA, Spurgeon@SU-CSLI.ARPA'In-Reply-To': Message from "Masinter.pa@Xerox.ARPA" of Mon 16 Apr 84 09':01':00-PST''	I haven''t had time to study the failure of the InstallLispTool'to get a sysout from TOPS-20.  (BTW, it doesn''t work with unix either--'I think the ILT should simply be made to conform to the others.)'	I have, however, made a log showing the failure.  54#12 is the'dandelion, and 22#135 is the TOPS-20 (CSLI).  This is the case in which'0 bytes; 0 pages are reported, and the tool reports successful installation'(wrongly).  --Christopher''       4.934      RFC 111 &larr; 30':  [22#135#3] &larr; [54#12#1234601004]'		  Length = 28 (6 content bytes), ID': 1247201752'		  Connection port': [54#12#1234601004]'       5.281 RFC 30 &larr; 111':  [54#12#1234601004] &larr; [22#135#3]'	     Length = 28 (6 content bytes), ID': 1247201752'	     Connection port': [22#135#30324115110]'       5.292      Ack 111 &larr; 30':  [22#135#30324115110] &larr; [54#12#1234601004]'		  Length = 28 (6 content bytes), ID': 1247201752'		  Bytes/Pup': 554   Pups': 5   Bytes': 32000'       5.298      AMark 111 &larr; 30':  [22#135#30324115110] &larr; [54#12#1234601004]'		  Length = 23 (1 content bytes), ID': 1247201752'		  -&gt; 10'       5.318 AData 30 &larr; 111':  [54#12#1234601004] &larr; [22#135#30324115110]'	     Length = 22 (0 content bytes), ID': 1247201752 (to 1752)'       5.328      Ack 111 &larr; 30':  [22#135#30324115110] &larr; [54#12#1234601004]'		  Length = 28 (6 content bytes), ID': 1247201752'		  Bytes/Pup': 554   Pups': 5   Bytes': 32000'       5.332 Ack 30 &larr; 111':  [54#12#1234601004] &larr; [22#135#30324115110]'	     Length = 28 (6 content bytes), ID': 1247201752'	     Bytes/Pup': 532   Pups': 5   Bytes': 2660'       5.342      AMark 111 &larr; 30':  [22#135#30324115110] &larr; [54#12#1234601004]'-----'Date': 17 Apr 84 10':14':38 PST (Tuesday)'From': JFung.pasa'Subject': Re': InstallLispTool &amp; TOPS-20'In-reply-to': Your message of Tue, 17 Apr 84 09':49':30 PST'To': Christopher Schmidt &lt;SCHMIDT@SUMEX-AIM.ARPA&gt;'cc': JFung''Well,''	1.	I presume the 0 pages, 0 bytes are displayed togther with the file name, volume size, default vMem size etc. when connection got opened?  If this is so, then it indicates the file attributes (size) that got returned from the DEC 2060 is wrong, or the InstallLispTool displayed the worng parameter.'	'	Now, since this tool works well with the Xerox''s SDD file servers, plus a IFS implemented on VAX/VMS, here is what I would like you to try':'	'	I would like to use the FileTool, this is the Pilot''s tool available in your system volume (Tajo or Diagnostics), if you dont know how to bring it up, let me know.  I want to know whether the fileTool will show the right file size attribute, you do this by clicking the Remote-List command and that will display the file attributes, size, creation date, version number etc.'	'	Now can you tell me what you mean by "hangs" when you install this sysout? did the machine crashed, with some Maintenance pannel code displayed? or the tool window is still there, did "STOP" key on your keyabord allow you to abort this command?'	'	Thanks for your help in working on this problem.'	'	/Jerry '	 '-----''Received': from SUMEX-AIM.ARPA by PARC-MAXC.ARPA; 17 APR 84 11':51':14 PST'Date': Tue, 17 Apr 84 11':49':52 PST'From': Christopher Schmidt &lt;SCHMIDT@SUMEX-AIM.ARPA&gt;'Subject': Re': InstallLispTool &amp; TOPS-20'To': JFung.pasa'cc': Eric@SU-CSLI.ARPA, Spurgeon@SU-CSLI.ARPA'In-Reply-To': Message from "JFung.pasa@PARC-MAXC.ARPA" of Tue 17 Apr 84 10':14':38-PST''	Yes, the 0 bytes; 0 pages is displayed by the tool after opening the'connection.'	I used the FileTool as you suggested, and produced the following'FileTool.log'	By hangs, I mean that the things simply stop happening.  The display'remains static and doesn''t respond to keyboard or mouse.  The MP displays'nothing special.  Note that that only happens with the XSIS installlisp tool'on one of our machines.  I use the older tool on our other 3 machines.'I can''t remember what the stop key did, though I know it didn''t help.'	By the way, suggesting use of the File Tool points up the fact that'your customer diagnostic mechanism relies on the customer''s ability to bootleg such tools from PARC (as I did).  How would you handle this problem with a less fortunate customer?  I would rather we had these tools shipped directly with the machines.  Most tools are simply only rumors to me.  Eg., we would desperately like to have the 10 mb equivalent of Etherwatch and PeekPup to run on our 1108''s on our 10 mb ethernet.  The only way I was able to log the booting transaction was by booting off a server 3 hops away, one of the legs of which was a 3 mb net on which I had an Alto!  I would normally try to boot off a machine on the local 10 mb net; a transaction which we have'no tools to monitor.  Thanks,'--Christopher''Remote list of *'Opening connection to turing ... Done.'CSLI Pup FTP Server 2.0 26-Feb-84'&lt;SCHMIDT&gt;'  FUGUE4.SYSOUT.1           2490368 19-Mar-84 17':20':35 PST'  GATEWAYDB.LSP.3               636 26-Mar-84 14':58':40 PST'  INIT.LISP.3                  6000 20-Mar-84 16':15':12 PST'  LOGIN.CMD.1                  1063 27-Feb-84 11':11':02 PST'  LSTAT.EXE.1                 15872  2-May-83 11':05':19 PDT' Total of 5 files'Closing connection to turing ... Done.''-----''Date': 17 Apr 84 13':47':06 PST (Tuesday)'From': JFung.pasa'Subject': Re': InstallLispTool &amp; TOPS-20'In-reply-to': SCHMIDT''s message of Tue, 17 Apr 84 11':49':52 PST'To': Christopher Schmidt &lt;SCHMIDT@SUMEX-AIM.ARPA&gt;'cc': JFung, Eric@SU-CSLI.ARPA, Spurgeon@SU-CSLI.ARPA''Chris,''Thanks for trying fileTool out.  To answer your question first, most customers are inhibited from using SDD''s tools.  I dont want to get into this, this is a policy/politic, and I agree with you there are lots of usefule tools which will be useful to customers.''Looks like my speculation was wrong.  How did you get your InstallLispTool.bcd? 'I''ve a later version which I can store to Maxc if you can retrieve it, let me know.  But I wont guarantee it will fix the problem.  I was trying to store an "empty sysout" but I couldnot create one, the fileTool would not let me store a 0 byte file.  Part of the Install File! command is after the sysout is retrieved, it does the processing of converting it into a "bootable" file, I''ve no idea what it going to do with a 0 byte file.''Now, can you tell me about your Dlion configuration?  What disk is it? 29Mb, 42 Mb, 10Mb? what volumes you''ve on it? would it be possible to use your dlion to do the checkout if necessary (reformat may be)? can this dlion talk to PARC''s SDD file server?''BTW': I am looking the trace u sent, seems to me the last packet was an Error packet (code 1) checksum error from Dlion to Vax? (not sure)''-----''Return-Path': SCHMIDT@SUMEX-AIM.ARPA'Received': from SUMEX-AIM.ARPA by Xerox.ARPA ; 17 APR 84 15':07':16 PST'Date': Tue, 17 Apr 84 15':05':29 PST'From': Christopher Schmidt &lt;SCHMIDT@SUMEX-AIM.ARPA&gt;'Subject': Re': InstallLispTool &amp; TOPS-20'To': JFung.pasa'cc': Eric@SU-CSLI.ARPA, Spurgeon@SU-CSLI.ARPA'In-Reply-To': Message from "JFung.pasa@Xerox.ARPA" of Tue 17 Apr 84 13':47':06-PST''	I got my Installlisptool from CSLI who got it from Steve Purcell'at PARC.'	Yes, if you can put a newer version on MAXC, I can get it from there.'I''d be happy to try it out.'	All our 1108''s have 42 Mb disks.  3 have 4 volumes (Diagnostics,'Lisp,Lisp2,Lisp3), and one has an additional "BootLisp" volume.  This is'the DLion with the XSIS tool.  BTW is there a way to kill the InstallLispTool,'and go back to Tajo?  We have been unable to do this on the last DLion.'	No, we don''t have either a PUP gateway or NS gateway to the PARC'internet.  I use the ARPAnet to grab stuff off MAXC with TCP/IP.'	The last packet was an ABORT, not an ERROR, which would have'been issued in the case of a checksum error.  I believe (though I don''t'consider myself a PUP expert) that an ABORT is considered fair game at any'time to close a connection.  Also-- 22#135 is a Decsystem 20, not a VAX.'--Christopher''-----''Date': 17 Apr 84 16':35':48 PST (Tuesday)'From': jfung.pasa'Subject': Re': InstallLispTool &amp; TOPS-20'In-reply-to': SCHMIDT''s message of Tue, 17 Apr 84 15':05':29 PST'To': Christopher Schmidt &lt;SCHMIDT@SUMEX-AIM.ARPA&gt;'cc': JFung, Eric@SU-CSLI.ARPA, Spurgeon@SU-CSLI.ARPA''I am no Pup expert neither.  I know the XNS packet pretty well.''	"BTW is there a way to kill the InstallLispTool,'and go back to Tajo?"  ''If you can do a 3-boot from your dlion and get Othello to come up, then yes, you can kill InstallLispTool, otherwise it is difficult, you need another floppy to do this. '	'Here is how you retrieve InstallLispTool to you dlion from [Maxc]&lt;xeos&gt;InstallLispTool.bcd	 ''	1.	do a 2-boot(boot floopy) from your InstallationUtitly floppy.'	'	2.	when the menu comes up, select "Install Diagnostics files"'	'	3.	then do a 1-boot '	'	4. 	when the Diagnostic "herald" window comes up, a two-line window at very top, showing Tajo 10.0 of ....		today''s date - time'		User':	{}			Volume': Diagnostic'		then bring FileTool up. Retrieve InstallLispTool.bcd into your Diagnostic volume, and then run it from your exec window.'		'	'	However, I cant explain the "abort" packet sent out from Dlion, and the 0 byte file size displayed by the tool.'	'	Let me know the outcome when you tried, thanks.'	'	/Jerry'-----''Return-Path': SCHMIDT@SUMEX-AIM.ARPA'Received': from SUMEX-AIM.ARPA by Xerox.ARPA ; 18 APR 84 11':41':12 PST'Date': Wed, 18 Apr 84 11':14':30 PST'From': Christopher Schmidt &lt;SCHMIDT@SUMEX-AIM.ARPA&gt;'Subject': Re': InstallLispTool &amp; TOPS-20'To': jfung.pasa'cc': Eric@SU-CSLI.ARPA, Spurgeon@SU-CSLI.ARPA'In-Reply-To': Message from "jfung.pasa@Xerox.ARPA" of Tue 17 Apr 84 16':35':48-PST''	As you can probably guess, your legal department won''t let us have'Othello, either.'	I couldn''t get &lt;XEOS&gt;INSTALLISPTOOL.BCD because the password'to &lt;1100USERS&gt; has been changed in anticipation of the Fugue 6'release.  Could you (1) make it world readable [I have other access to'MAXC], or (2) give me the new password to 1100USERS?  Thanks,'--Christopher''-----''Date': 18 Apr 84 12':52':35 PST (Wednesday)'From': JFung.pasa'Subject': Re': InstallLispTool &amp; TOPS-20'In-reply-to': SCHMIDT''s message of Wed, 18 Apr 84 11':14':30 PST'To': Christopher Schmidt &lt;SCHMIDT@SUMEX-AIM.ARPA&gt;'cc': jfung, raim''the answer is panda''-----''Return-Path': SCHMIDT@SUMEX-AIM.ARPA'Received': from SUMEX-AIM.ARPA by Xerox.ARPA ; 18 APR 84 16':22':26 PST'Date': Wed, 18 Apr 84 16':20':57 PST'From': Christopher Schmidt &lt;SCHMIDT@SUMEX-AIM.ARPA&gt;'Subject': Re': InstallLispTool &amp; TOPS-20'To': jfung.pasa'cc': Eric@SU-CSLI.ARPA, Spurgeon@SU-CSLI.ARPA, Raim.pasa'In-Reply-To': Message from "jfung.pasa@Xerox.ARPA" of Tue 17 Apr 84 16':35':48-PST''	I used the file tool to FTP the new installlisptool from SUMEX, and'got it successfully.  '    Retrieve of installlisptool.bcd'    Opening connection to sumex ... Done.'    SUMEX-AIM Pup FTP Server 1.32 20-Mar-84'    &lt;SCHMIDT&gt;INSTALLLISPTOOL.BCD.1 to xinstalllisptool.bcd [New File]...90624 bytes retrieved (file size = 0 bytes!) (32657 bits/sec)'    Local list of installlisptool.bcd'    &lt;Diagnostics&gt;'      installLisptool.bcd      binary     74752 29-Nov-83 15':54':13 PST 17-Apr-84 10':37':36 PST 18-Apr-84 14':03':16 PST'    Local list of xinstalllisptool.bcd'    &lt;Diagnostics&gt;'      xinstalllisptool.bcd     binary     90624 15-Apr-84 23':48':00 PST 18-Apr-84 15':30':35 PST 18-Apr-84 15':31':51 PST'	Notice that the statistics code got the length right, but some higher'code said 0.  The tool worked, so all of it must have been retrieved'successfully by the file tool despite its 0 0 report.'	The lisp tool did not work, however.  It reported 0 0, then waited'about a minute (not long enough to have FTP''d the sysout) and then reported'"installed" (It didn''t hang!).  I tried to start that volume, but the MP'flashed 217.'	I would have sent you the LispTool.log, except, since there is no'way to exit the tool and go back to mesa (THIS SHOULD BE A MENU ITEM!)'I was unable to get it.  When I started mesa from scratch this file had'length 0.  My guess is that the log file never gets closed.'	I will make a new PUP trace when time permits.  It is a pain, for'reasons outlined before.'--Christopher'P.S.  I want to boot a sysout off of an NS file server two nets away, but'there is no clearinghouse on my net.  How can I specify the hostnumber to'the InstallLispTool?''-----''Date': 19 Apr 84 10':50':36 PST (Thursday)'From': JFung.pasa'Subject': Re': InstallLispTool &amp; TOPS-20'In-reply-to': SCHMIDT''s message of Wed, 18 Apr 84 16':20':57 PST'To': Christopher Schmidt &lt;SCHMIDT@SUMEX-AIM.ARPA&gt;'cc': jfung, Eric@SU-CSLI.ARPA, Spurgeon@SU-CSLI.ARPA'''Chris,''Thanks very much for the information.  I think I can fix your problem by workaround the problem on my code. (this is only for your TOPS-20).''I noticed your FTP server is 1.32 20-Mar-84 while ours is XSIS 1.38.1L, File server of February 14, 1984; 5 users out of 9.  There is a gap there.  Anyway, I believe the problem is getting wrong property-list from the protocol.   Since InstallLispTool employes Mesa Pilot Interface, the "similar" (not qutie) mechanism as the Pilot''s FileTool, and clearly a file size = 0 bytes will cause a MP 217.  Part of the Install command is to make the "hard uCode" file bootable.   (I also noticed similar problem in DEI/Vax, in that when retrieve a file, the fileTool instead displays the "creation time" the "read time" was displayed.)''Since I also been told by the SDD''s FTP custodian that unless the PupFTP has no workaround they have no interest in maintaining tehm (as tehy are moving to NS), so here is what I am going to do.  ''	1.	I''ll use a default fileSize (8000 pages) to allocate the disk space.'	2.	Once disk space can be acquired, I will no longer use the file size in determining the file transfer (currently, retrieve stops when either whole file got retrieved (when file count decrements to 0) or "end of file" is detected).  I will purely depends on "end of file" (or whatever they call this) to terminate the retrieve.  I believe this will solve your problem.'	'	When I finish this, I''ll put on Maxc again and message you.  I hope this afternoon (Tomorrow is a holiday for us).'	'	'	'	"P.S.  I want to boot a sysout off of an NS file server two nets away, but there is no clearinghouse on my net.  How can I specify the hostnumber to'the InstallLispTool?"''Answer': you may specify "net#host#':" inside brackets, i.e. [net#host#':]&lt;directory&gt;filename.sysout  Please note the colon, this indicates the NS server.  It is a good idea to try NS file server, after all PUP is not fully supported (maintenable).''	You aslo need to specify domain name and organization name to talk to a NS file server.  Let me know which NS file server this is and any problems.  Thanks. '	  ''-----''Date': 19 Apr 84 11':21':54 PST (Thursday)'From': JFung.pasa'Subject': Re': InstallLispTool &amp; TOPS-20'In-reply-to': SCHMIDT''s message of Wed, 18 Apr 84 16':20':57 PST'To': Christopher Schmidt &lt;SCHMIDT@SUMEX-AIM.ARPA&gt;'cc': jfung, Eric@SU-CSLI.ARPA, Spurgeon@SU-CSLI.ARPA''Your special version is at [maxc]&lt;xeos&gt;InstallLispTool.bcd!2 (dated 4/19)''Please note': the sysout file size of 8000 pages (8000*512) bytes is just a fake.''Eager to hear from you.''/Jerry Fung''-----''Return-Path': SCHMIDT@SUMEX-AIM.ARPA'Received': from SUMEX-AIM.ARPA by Xerox.ARPA ; 19 APR 84 15':52':52 PST'Date': Thu, 19 Apr 84 15':50':54 PST'From': Christopher Schmidt &lt;SCHMIDT@SUMEX-AIM.ARPA&gt;'Subject': DLion InstallLispTool &amp; TOPS-20'To': JFung.pasa'cc': Eric@SU-CSLI.ARPA, Spurgeon@SU-CSLI.ARPA, Atty@SU-CSLI.ARPA, nethax@SU-NAVAJO.ARPA'In-Reply-To': Message from "JFung.pasa@XEROX.ARPA" of Thu 19 Apr 84 11':21':54-PST''	Well, I tried the new tool, and it works with TOPS-20!  There'is one caveat, though.  I found I have to explicity set the VMemsize'to 8000 pages with SetVMem! first.'	I also tried it with our unix 4.1 and 4.2 PUPFTP server.  It didn''t'work, there.  I copied the tool log by hand (ugh!).  Ardvax is unix 4.2.''Vol=Lisp3'Opening conneciton to ardvax...Done.'Vax/Unix Server PUPFTP 1.23 at ardvax'.'Volume size = 33775 pages'Default Vmem size = 31775 pages'Free pages on volume = 25757'Fetching... sysout size = 8000 pages; 4096000 bytes'end of stream detected'512 bytes retrieved.'Closing connection to ardvax... Done.'installed.	''	I''ll make a PUP trace sometime and see what''s going on here...probably'not today.  My options board died, and I have to borrow a machine every time'I do a test.''-----''Date': 19 Apr 84 16':36':49 PST (Thursday)'From': JFung.pasa'Subject': InstallLispTool &amp; TOPS-20 problem report (AR 676 Fixed)'To': 1100Support, LispSupport.pa, LispCore&uarr;.pa'cc': Kaplan.pa, Masinter.pa, Sheil.pa, Agadoni, Pahlavan, Lane@SUMEX-AIM.ARPA, Eric@SU-CSLI.ARPA, Spurgeon@SU-CSLI.ARPA, SCHMIDT@SUMEX-AIM.ARPA, Steve Martino &lt;PasaMail&gt;, JFung''I just talked to Christopher of Sumex.  The communication problem between InstallLispTool &amp; TOPS-20 is solved.  I would like to thank Christopher Schmidt at Sumex for helping me idenfifying the symptom of the problem.  Although we fixed no bugs, I provided a "wordaround" based on the symptom.  I believed it is the best way, since PUP support is hard to obtain.  For all of you who are interested in the converasation, I have stored the mail messages between Christopher and I at [Rose]&lt;Lisp&gt;Sumex.mail.''Again, my thanks to Christopher for his enthusiasm on wroking on the problem. ''/Jerry''-----''Date': 20 Apr 84 17':31 PST'From': Kaplan.pa'Subject': Re':  AR#676':  Installing from Tops-20'To': Jfung.pasa, Lispsupport'cc': Kaplan.pa''Jerry,'  I read the messages to/from Schmidt on this problem.  It seems that you made a special version of the InstallLispTool for him, that fakes the file size to be 8000 pages.''  But Chris'' group isn''t really who is being most affected by this--he was only doing a favor for CSLI, the real sufferers.  So I have a couple of questions':''Does CSLI need to get this special InstallLispTool?''Were you able to document an error in the Dec-20 pupftp server that is causing this problem?  If so, can you be more specific about what it is?  Even though Schmidt might not be interested in fixing it, CSLI clearly would be, and they might be able to come up with a Dec 20 wizard who could actually do what needs to be done, if they knew what it is.''If the error is on the Dandelion/mesa side, then we might be able to bring pressure to bear to get some internal Xerox help on the problem.''Either way, it is important to be certain about where the fault lies and what needs to be done to provide a general, non-special case fix.''Thanks for working this through...''Ron''-----''Date': 23 Apr 84 11':22':14 PST (Monday)'From': JFung.pasa'Subject': Re': AR#676':  Installing from Tops-20'In-reply-to': Kaplan.pa''s message of 20 Apr 84 17':31 PST'To': Kaplan.pa'cc': Jfung, Lispsupport.pa'''	"Does CSLI need to get this special InstallLispTool?"'	'Yes, if they are running TOPS-20 on the DEC 2060.'	''Ron,''	I was not able to pinpoint which side has the fault.  I was not  neither aware anyone still maintaining the PUP software at DEC 2060.''	The problem is one side or the other got the file-szie data wrong.  I asked Christ to try with the FileTool, which also displayed a fileSize of 0 bytes.   The only clues are the packet trace Christ sent me.  I need to learn how to read them then that will give us a better picture.  I''ll keep you posted on this. '	'	I''ve been informed by the SDD''s PUP maintainer that they are not very interested in PUP problems unless there are no workarounds, as they try to move to NS world.''	If all these are for CSLI, may be you should give me the name of the CSLI side that we can continue on the problem, or shall I keep asking Christopher? 	'	'	/Jerry''-----''Return-Path': SCHMIDT@SUMEX-AIM.ARPA'Received': from SUMEX-AIM.ARPA by Xerox.ARPA ; 23 APR 84 16':17':33 PST'Date': Mon, 23 Apr 84 16':15':43 PST'From': Christopher Schmidt &lt;SCHMIDT@SUMEX-AIM.ARPA&gt;'Subject': Re': InstallLispTool.csli'To': JFung.pasa'cc': Kaplan.pa, Lane@SUMEX-AIM.ARPA, Eric@SU-CSLI.ARPA, Spurgeon@SU-CSLI.ARPA'In-Reply-To': Message from "JFung.pasa@XEROX.ARPA" of Mon 23 Apr 84 16':08':25-PST''	I am interested in solving the Unix FTP problem, too, but I haven''t'had the time to look into it yet (my options board is still broken).'We do have several vaxen, and a good deal of support.'	I haven''t been able to try the NS file server, because no-one'seems to know its ether address.  When someone finds it out, I''ll try it.'--Christopher''-----''Date': 23 Apr 84 16':08':25 PST (Monday)'From': JFung.pasa'Subject': InstallLispTool.csli'To': SCHMIDT@SUMEX-AIM.ARPA'cc': Kaplan.pa, Lane@SUMEX-AIM.ARPA, Eric@SU-CSLI.ARPA, Spurgeon@SU-CSLI.ARPA, JFung'''Christopher,''To avoid confusions, for CSLI TOPS-20 system, I changed the name of the InstallLispTool.bcd to InstallLispTool.csli at [Maxc].''I am interested to solve the FTP with the Unix system, are machine resource available at your site, and/or may be Unix support?  Thanx.''I presume you have no luck of using the NS file server (with no ClearingHouse server) since authentication is required too.''-----''Date': 23 Apr 84 16':56':20 PST (Monday)'From': JFung.pasa'Subject': Re': InstallLispTool.csli'In-reply-to': SCHMIDT''s message of Mon, 23 Apr 84 16':15':43 PST'To': Christopher Schmidt &lt;SCHMIDT@SUMEX-AIM.ARPA&gt;'cc': JFung, Lane@SUMEX-AIM.ARPA, Eric@SU-CSLI.ARPA, Spurgeon@SU-CSLI.ARPA, LispSupport.pa, PYoung, Sheil.pa' ''Christopher,''Can we repeat the same experiment once more after you get your options borad (what is this board) fixed?  I.e. use FileTool to retrieve the lisp.sys into your dlion and see what FileTool says?  I am surprised to see the end of stream (PUP''s Marker packet, signaling the end-of-file) detected so early. ''Thanx.''P.S. FYI, the mailer here has encountered some problems of delivering to CSLI.Arpa''	"Unable to deliver msg to Spurgeon@SU-CSLI.ARPA, Eric@SU-CSLI.ARPA at SU-CSLI.ARPA within a reasonable amount of time."' ''	/Jerry'	'-----''Return-Path': SCHMIDT@SUMEX-AIM.ARPA'Received': from SUMEX-AIM.ARPA by Xerox.ARPA ; 23 APR 84 17':32':51 PST'Date': Mon, 23 Apr 84 17':31':26 PST'From': Christopher Schmidt &lt;SCHMIDT@SUMEX-AIM.ARPA&gt;'Subject': Re': InstallLispTool.csli'To': JFung.pasa'cc': Lane@SUMEX-AIM.ARPA, Eric@SU-CSLI.ARPA, Spurgeon@SU-CSLI.ARPA, LispSupport.pa, PYoung.pasa, Sheil.pa'In-Reply-To': Message from "JFung.pasa@XEROX.ARPA" of Mon 23 Apr 84 16':56':20-PST''	[The options board includes the ethernet chips.]'	Actually, I ran the boot-from-unix test on another, perfect'dandelion; not my bad one.'	I take it you mean boot with the InstallLispTool.'	I''ll check the length with the File Tool tomorrow.'	CSLI has had mailer problems.  Keep trying...'--Christopher''-------''Date': 18 May 84 11':12':43 PDT (Friday)'From': JFung.pasa'Subject': Re': Installing from 2060':  Status?'In-reply-to': kaplan.pa''s message of 18-May-84  9':32':06 PDT'To': kaplan.pa'cc': JFung, Raim, LispSupport.pa, vanMelle.pa, PYoung, 1100Support''Ron,''Christopher Schmidt was on vaction for a week, and I was busy on other stuffs so no status has changed on 2060.''Your observations are all correct.''The current situation is that the install tool when talking to 2060, was told the file size attribute is 0 bytes, but actually is not.''This will not work with standard version, since file size is used as a positive indicator during file transfer, though not used to terminate the transfer.''The workaround provided is ONLY for 2060 and is filed at [maxc]&lt;xsis&gt;InstallLispTool.csli ASSUMES knowing their max. sysout size.  This was defaulted to 8000 pages but now will be changed to 16200 pages.  Knowing the "estimated" sysout size is nevertheless necessary so to insure enough disk space can be allocated. ''I''ve corresponded to Christ and he is agreed to max. sysout size.''I will try to work with Christ again to see whether we can isolate the bug.  BTW, Christ has been very responsive and helpful to us. ''I will keep you posted when staus changed.  '''Jerry ''-----''Date': 18 May 84 11':23 PDT'From': Kaplan.pa'Subject': Re': Installing from 2060':  Status?'In-reply-to': JFung.pasa''s message of 18 May 84 11':12':43 PDT (Friday)'To': JFung.pasa'cc': kaplan.pa, Raim.pasa, LispSupport.pa, vanMelle.pa, PYoung.pasa, 1100Support.pasa''Thanks for the update.''I wonder why the fixed version is ONLY for the 2060.  Does it behave improperly if it interacts with an IFS or Vax?  If not, it seems to me that it should become the standard version.  Otherwise, there will be lots of confusion at customer sites (I presume not just at Stanford) where 2060''s are or will be in use (UTexas ?).  Seems to me that we ought to be distributing something that works everywhere, even if it is less efficient than it could be in certain configurations.''--Ron''-----''Date': 18 May 84 11':39 PDT'From': vanMelle.pa'Subject': Re': Installing from 2060':  Status?'In-reply-to': JFung.pasa''s message of 18 May 84 11':12':43 PDT (Friday)'To': JFung.pasa'cc': kaplan.pa, Raim.pasa, LispSupport.pa, vanMelle.pa, PYoung.pasa, 1100Support.pasa''I would like to clarify that the behavior observed is a bug in the InstallLispTool, and CAN NOT be blamed on the 2060 server.  Do not be surprised if you run into a similar bug with other servers you haven''t tested yet.  I quote from the PupFtp protocol':''- - - -'5.2.2 Optional Properties...''(Size decimal-number)'  Specifies the number of bytes in the file. ...  The value is not required to be correct.  The recipient of this property may treat it as a hint... but the true length of the file is defined solely by the number of bytes actually transferred when the file is stored or retrieved.'- - - -''I agree it is bad citizenship on the part of the 2060 to provide such a poor hint (zero bytes), but a hint is all it is.  Just offhand, I would say in general you can use the hint to preallocate some or all of the file, if that will improve your performance, and if the hint is LARGER than you can allocate, it is fine if you decline the retrieve immediately.  However, should the sysout, as it is transferred, prove to be larger than the hint, you should make every attempt to store it anyway, and that includes if the hint was zero. ''	Bill''-----''Date': 18 May 84 12':21':39 PDT (Friday)'From': JFung.pasa'Subject': Re': Installing from 2060':  Status?'In-reply-to': vanMelle.pa''s message of 18 May 84 11':39 PDT'To': vanMelle.pa'cc': JFung, kaplan.pa, Raim, LispSupport.pa, PYoung, 1100Support'''Bill,''Thanks for your pointer.  Doubtless to say, adding this GENERALITY will add complexity to the program.''Technically you are correct in that 0 bytes is a valid hint.  However, I think the story is more than that.  I''ve asked Christopher to use the Pilot''s File Tool to do a remote-list, and the log he gave shows all the files have size attributes of non ZERO.''My point is I believe there are REAL file size(non-zeros) associated with each file on the 2060 side, but only during this retrive operation somewhere along the line, we picked up a ZERO-byte.    ''However, you pointed out an interesting point, in that if a file server does not support file-size than this generality is needed.''-----''Date':  6 Jun 84 09':48':26 PDT (Wednesday)'From': JFung.pasa'Subject': Good news from Stanford U'To': LispSupport.pa, 1100Support'cc': Kaplan.pa, LispCore&uarr;.pa, Pahlavan, SCHMIDT@SUMEX-AIM.ARPA'Reply-To': JFung.pasa''Folks,  good news from SU''A good effort by Christopher Schmidt at Sumex again for identifying the bug.''My sincere appreciation to Christopher for his effort.  And thanks to Ron Kaplan for his advice on "not to let the problem go by without identified". ''Now AR 676': "Uncover bugs (0 bytes file size) of install lisp from TOPS-20" is "fixed".  ''What does CSLI stands for?  (computer science ??) Just curious.''Jerry ''----------------------------------------------------------------'Return-Path': &lt;SCHMIDT@SUMEX-AIM.ARPA&gt;'Received': from SUMEX-AIM.ARPA by Xerox.ARPA ; 05 JUN 84 11':07':03 PDT'Date': Tue, 5 Jun 84 11':08':33 PDT'From': Christopher Schmidt &lt;SCHMIDT@SUMEX-AIM.ARPA&gt;'Subject': LIT &amp; TOPS-20'To': JFung.pasa'cc': Kaplan.pa, Spurgeon@SU-CSLI.ARPA, Eric@SU-CSLI.ARPA'In-Reply-To': Message from "JFung.pasa@XEROX.ARPA" of Mon 21 May 84 14':01':59-PDT''	Deleting TIP&gt;*lisp* did the trick regarding the left button bringing'up &lt;lisp&gt; arbitrarily.  Thanks for the help.  I still couldn''t use it, however,'as the 15000 page default was too large for my volume!  (I haven''t 'repartitioned the disk for Carol yet.)  But...'	I''ve identified the original problem with booting off of'TOPS-20.  The Here-is-property-list returned by the PUP FTP server'does not include a size attribute.  It did include a zillion useless'attributes, but not the important one.'	Andy Sweer (at SUMEX) is going to fix the TOPS-20 PUP FTP server,'and I''ll let you know when we have it working.'--Christopher'-------''----------------------------------------------------------------''Return-Path': &lt;SCHMIDT@SUMEX-AIM.ARPA&gt;'Received': from SUMEX-AIM.ARPA by Xerox.ARPA ; 05 JUN 84 17':42':16 PDT'Date': Tue, 5 Jun 84 17':44':13 PDT'From': Christopher Schmidt &lt;SCHMIDT@SUMEX-AIM.ARPA&gt;'Subject': Re': InstallLispTool &amp; TOPS-20'To': JFung.pasa'cc': Eric@SU-CSLI.ARPA, Spurgeon@SU-CSLI.ARPA, Kaplan.PA, Sweer@SUMEX-AIM.ARPA'In-Reply-To': Message from "JFung.pasa@XEROX.ARPA" of Thu 19 Apr 84 10':50':36-PST''	Andy fixed the bug in our PUP FTP server, and now we can get sysouts'off of TOPS 20 with the old unhacked tool as well.'	Upon further study, it seems that David Eppstien had also'fixed this bug at Sierra as well, but in a different way.  This means'that CSLI can grab SYSTEM':PUPFSV.EXE from either SUMEX or SIERRA and'should be able to boot dandelions from TOPS-20.'--Christopher''-------''Date':  6 Jun 84 12':51':54 PDT (Wednesday)'From': JFung.pasa'Subject': Uniform LIT for CSLI 'To': SCHMIDT@SUMEX-AIM.ARPA'cc': LispSupport.pa, 1100Support, JFung'''Christopher,''I''ve stored the beta test version of LIT again at [maxc]&lt;xsis&gt;LispInstallationTool.bcd.''The old one there (LITCSLI,.bcd) is exactly the same version, but there is no reason to have a different name now. ''Thanks for answering the question.''Enjoy at "Center for the Study of Language and Information."''Jerry''-----''Date':  7 Jun 84 17':43':05 PDT (Thursday)'From': Masinter.PA'Subject': Re': Good news from Stanford U'In-reply-to': JFung.pasa''s message of 6 Jun 84 09':48':26 PDT (Wednesday)'To': JFung.pasa'cc': Pahlavan.pasa, LispCore&uarr;.pa, 1100Support''Jerry':''re': AR#676.''As has been pointed out before, the PUPFTP protocol specification allows the server to treat the ''file size'' as a hint. That Tops-20 returned 0 rather than the file size isn''t particularly useful, but not in violation of the protocol.''The LispInstallTool.bcd program *must* be able to talk to any valid implementation of PUPFTP. Fixing the Tops-20 server, while a useful workaround to the problem, does not solve it, as we have other servers which may occasonally give a wrong value for file size.''Workaround: Test Case: Edit-By: Sannella.PAEdit-Date: 18-Jul-84 17':27':29Attn: JFungAssigned To: JFung.pasaIn/By: Disposition: [4/24/84 tl':  A workaround version has been installed at [Max]&lt;Xeos&gt;InstallLispTool.csli for CSLI''s DEC 2060]''I will pursue to uncover bugs as suggested by Ron Kaplan.''[sannella 7/18/84': changed impact to Moderate, status to Open.  This is not as important, but it is still an open AR]'System: Other SoftwareSubsystem: Installation UtilityMachine: Disk: Microcode Version: Memory Size: File Server: Server Software Version: Difficulty: HardFrequency: EverytimeImpact: ModeratePriority: PerhapsStatus: OpenProblem Type: BugSource Files: </pre>
  </body>
</html>
