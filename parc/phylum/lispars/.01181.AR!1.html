<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <title>File [phylum]&lt;LispARs>01181.AR!1</title>
  </head>
  <body>
    <pre>
Number: 1181Date: 21-May-84 17':31':29Submitter: Sannella.PASource: Denber.wbstSubject: Can get color window "ghosts" on B/W screenLisp Version: Description: 'Date': 15 May 84 14':24 EDT'From': Denber.wbst'Subject': Lisp': CHANGEBACKGROUND'To': LispSupport.pa'cc': Burton.pa, Feuerman.pasa'Lisp-System-Date':  9-Apr-84 18':28':19'Machine-Type': Dolphin''I had a piece of my b/w background blanked out by a color window (which is a problem in itself) so I tried to get rid of it by saying (CHANGEBACKGROUND).  This did fix the background, but when it tried to bring the windows back, it broke with "can''t blt between bitmaps of different pixel size" (anyway, why shouldn''t this be possible?).  Unfortunately, this happened on the second window it tried to redisplay, so I was left with essentially all my windows gone.''I could bring them back if I knew where they were, but I quickly discovered that while there was an (OPENWINDOWS) (by the way, what''s the difference between that and (ACTIVEWINDOWS)?), there is no list of closed windows!  There is something called KNOWNWINDOWS but it was NIL.  So - it would be nice if CHANGEBACKGROUND could take care of this situation, and does there exist a (CLOSEDWINDOWS)?''And my caret has plum disappeared.  I want my caret back!''			- Michel'-----''Date': 15 May 84 12':04 PDT'From': Burton.pa'Subject': Re': Lisp': CHANGEBACKGROUND'In-reply-to': Denber.wbst''s message of 15 May 84 14':24 EDT'To': Denber.wbst'cc': LispSupport.pa, Feuerman.pasa''You are doing something I don''t understand.  How did you get a color window onto a B/W screen?  My impression is that this should be illegal.  Sounds like a bug in the color window package to me.  Ken':  is this something you try to allow?''Given that you did get a color window onto the screen, I can imagine the system breaking in the way that you report.''OPENWINDOWS is equivalent (MOVDed) to ACTIVEWINDOWS.  (We changed to OPENWINDOWS as more appropriate than ACTIVEWINDOWS but left the latter in for backward compatibility. It will be removed sometime after 1985.)  There is no list of closed windows so that they can be collected when all references to them are dropped.''KNOWNWINDOWS is a stub of history that was left from the days when display streams and windows were both used.  It was used to maintain the connection between windows and their display streams.  ''You might be able to get your caret back with (CARET T)  which restores the default caret.  I would recommend starting over with a fresh LISP.SYSOUT or FULL.SYSOUT at your earliest convenience.''richard'   '-----''Date': 15 May 84 15':35 EDT'From': Denber.wbst'Subject': Re': Lisp': CHANGEBACKGROUND'In-reply-to': Burton.pa''s message of 15 May 84 12':04 PDT'To': Burton.pa'cc': LispSupport.pa, Feuerman.pasa''Thanks - (CARET T) returned OFF and reincarnated the caret.''What was on my b/w screen was color window "ghost".  It looks like a solid black rectangle.  If you right button over it, you get the background menu, but if you say (WHICHW) with the cursor over it, it returns a window #.  This used to happen as an artifact of color window creation with colorutilities, but then I thought it had been fixed.  Today is the first I''ve seen of this behavior in a while.''I''d still like to be able to get a handle on closed windows.''			- Michel''-----''Date': 15 May 84 12':49 PDT'From': Burton.pa'Subject': Re': Lisp': CHANGEBACKGROUND'In-reply-to': Denber.wbst''s message of 15 May 84 15':35 EDT'To': Denber.wbst'cc': LispSupport, Feuerman.pasa''You can find some of them with the function from GCHAX that sweeps through the reference count table and returns you a list of everything with reference count &gt;1 that is a WINDOWP.  To find the ones with reference count of 1, you would have to sweep through memory looking pages of type window and parsing them according to the number of cells in a window datatype.''richard''-----''Date': 15 May 84 13':11':32 PDT (Tuesday)'From': Feuerman.PASA'Subject': Re': Lisp': CHANGEBACKGROUND'In-reply-to': Denber.wbst''s message of 15 May 84 15':35 EDT'To': Denber.wbst'cc': Burton.pa, LispSupport.pa, Feuerman''Michel,''I remember having that problem in the past with CHANGEBACKGROUND and color windows, but it suddenly disappeared when I started trying to track it down.''Those ghost windows on the black and white screen have to do with the implementation of color windows, which isn''t fully worked out.  I''ve been thinking at some point to make them opaque altogether on the color screen, but I doubt I''ll have time to do that for a while yet.  The problem is that color windows are really on the black and white screen (to take care of things like button event functions, etc.), but they''re invisible.  There are some display routines to take care of keeping them invisible when possible, but if something gets out of step (because of a break window on CHANGEBACKGROUND), nothing can be guaranteed anymore.''This probably doesn''t solve your problem, but I hope it clarifies it a little more.''--Ken.'Workaround: Test Case: Edit-By: Edit-Date: Attn: Burton.paAssigned To: In/By: Disposition: System: Windows and GraphicsSubsystem: ColorMachine: Disk: Microcode Version: Memory Size: File Server: Server Software Version: Difficulty: HardFrequency: IntermittentImpact: AnnoyingPriority: UnlikelyStatus: OpenProblem Type: BugSource Files: </pre>
  </body>
</html>
