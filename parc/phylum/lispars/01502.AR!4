Number: 1502Date: 26-Jun-84 13':08':14Submitter: le.pasaSource: WOGULIS.PASA (GITTIN.RX)Subject: Creation of a DATATYPE with a BITS field may give funny resultsAssigned To: MasinterAttn: Status: ClosedIn/By: HarmonyProblem Type: BugImpact: SeriousDifficulty: ModerateFrequency: Priority: PerhapsSystem: Programming EnvironmentSubsystem: Record PackageMachine: Disk: Lisp Version: Carol (LISPVERSION) Source Files: Microcode Version: Memory Size: File Server: Server Software Version: Disposition: 'Date': 27 Jun 84 18':35 PDT'From': masinter.pa'Subject': AR from Gittins re REPLACEFIELD 'To': 1100SUPPORT.PASA, GITTINS.RX''Please mark the AR (I''ve misplaced the number) as Fixed. It was a simple typo in REPLACEFIELD. It only affected Interpreted calls to replace and not compiled calls.''(Please edit this into the Disposition field, and change Attn': to Release, Assigned to': Masinter. I''d do the edits myself but I''ve misplaced the AR number).''''["Sannella.PA" "22-Aug-84 17':05':03" Attn': Status':(Fixed->Closed) In/By':]Description: 'DESCRIPTION':''Creation of a DATATYPE  with a BITS field may give funny results''(DATATYPE TN ((F BITS 18]'(SETQ GEORGE (CREATE TN]'(REPLACE  (TN F) of GEORGE with 1]'-> 1'(FETCH (TN F) of GEORGE]'-> 65536' (REPLACE  (TN F) of GEORGE with -1]'-> -1'(FETCH (TN F) of GEORGE]'-> 262143''Manual does not indicate maximum value for BITS though example given for 18'When fields are 16 or 32 bits works ok'This has SERIOUS impact'I can repeat this problem on Carol release'(LISPVERSION) -> 36864'(MICROCODEVERSION) -> 4364'Our reference number is AIL 23'Workaround: Test Case: Edit-By: Sannella.PAEdit-Date: 22-Aug-84 17':05':04