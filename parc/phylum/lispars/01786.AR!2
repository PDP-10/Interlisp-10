Number: 1786Date:  9-Aug-84 17':12':39Submitter: Sannella.PASource: Hannaway.wbstSubject: When cleaning up file, not all the fns that have changed are recompiledAssigned To: MasinterAttn: Status: FixedIn/By: Problem Type: BugImpact: AnnoyingDifficulty: Frequency: Priority: PerhapsSystem: Programming EnvironmentSubsystem: File PackageMachine: Disk: Lisp Version: Source Files: Microcode Version: Memory Size: File Server: Server Software Version: Disposition: Subject': AR#1786, When cleaning up file, not all the fns that have changed are recompiled'To': Hannaway.wbst'cc': Kaplan, LispSupport''This looks like it was submitted over a month ago -- did you get a response on your Cleanup Problem before?''I think this is an artifact of the RECOMPILEDEFAULT=EXPRS which was the default in the standard sysout we had released at the time of your message; basically, RECOMPILE got confused if you recompiled things ''by hand'' rather than by cleanup, because it was using the fact that something was interpreted and not compiled as a signal to recompile it.''We''re setting RECOMPILEDEFAULT=CHANGES in new releases, which at least gets rid of this confusion.''''["masinter" "27-Aug-84 21':55':17" Assigned% To': Attn': Status':(Open->Fixed) Disposition':]Description: 'Date': 10 Jul 84 14':02 EDT'From': Hannaway.wbst'Subject': Lisp': Cleanup Problem'To': LispSupport.pa'cc': Hannaway.wbst'Lisp-System-Date': 25-Jun-84 13':07':37'Machine-Type': Dolphin''When cleaning up a file, not all the functions that have changed are recompiling.''What I did was load up a file that redefined several functions I already had in my system.  I then made one small change to one of the functions in the file and defined one new function and added it to the file.  I then compiled the old function and tested it.''I then cleaned up the file, and the function that was changed was not recompiled, but the new function was.  The old one did appear in the list of changed functions': (CDR (GETPROP filename ''FILE))''This has happened several times.''Pat'Workaround: Test Case: Edit-By: masinterEdit-Date: 27-Aug-84 21':55':20