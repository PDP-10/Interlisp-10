Number: 126Date: 17-Mar-84  0':21':45Submitter: Sannella.PASource: Maxwell.paSubject: WHEREIS package can''t find file Assigned To: masinter.paAttn: Status: ClosedIn/By: HarmonyProblem Type: BugImpact: FatalDifficulty: Frequency: EverytimePriority: AbsolutelySystem: Programming EnvironmentSubsystem: OtherMachine: Disk: Lisp Version: Source Files: Microcode Version: Memory Size: File Server: Server Software Version: Disposition: '["Sannella.PA" "21-Aug-84 15':31':29" Attn': Status':(Fixed->Closed) In/By':]Description: 'Date': 15 Mar 84 11':26 PST'From': Maxwell.pa'Subject': Lisp': WHEREIS'To': LispSupport.pa'Lisp-System-Date': 15-Mar-84 00':13':18'Machine-Type': Dorado''The WHEREIS package doesn''t work for me.  It now complains WHEREIS': FILE NOT FOUND <LISP>LIBRARY>WHEREIS.HASH.  It has been doing this for a while.  I didn''t report it earlier because it seemed like such an obvious problem that I was sure it would be fixed.'-----'the file seems to be there ... Sannella.pa'-----'From': masinter.pa'Date': 16-Mar-84  0':10':39 PST'Subject': Re': AR 126': WHEREIS package can''t find file'In-reply-to': Sannella''s message of 15 Mar 84 20':06':09 PST (Thursday)'To': LispSupport'cc': masinter''I dunno who is responsible for WHEREIS. I suspect the problem is that it asks for <Lisp>Library>WHEREIS.HASH but Maxwell uses Indigo/Ivy for his home fileserver or login directory. It may be that the WHEREISHASHFILE variable has to be set in the "site" greet file.'-----'Date': 17 Mar 84 17':45 PST'From': Kaplan.pa'Subject': Re':  Maxwell''s AR on WHEREIS not working for him'To': LispSupport.pa, Burton'Lisp-System-Date': 15-Mar-84 00':13':18'Machine-Type': Dorado''I figured out why Maxwell was having trouble using WHEREIS.''The problem is that the initial value of the variable that names the whereis database file is something like <LISPUSERS>WHEREIS.HASH, i.e., it doesn''t have a host in the name.''Maxwell is usually connected to IVY, hence for him it doesn''t default to {Phylum}<LISPUSERS>WHEREIS.HASH.''It presumably would also fail if I were connected to {MAXC}--then it would find the pdp-10 format hashfile on lispusers there.''One fix is to take <LISPUSERS> out of the name, and do an explicit search (via FINDFILE) using the value of LISPUSERSDIRECTORIES.''The other fix is to let the current value stand as an INITVARS in WHEREIS, but also define this variable as one of the ones that ought to be set in the site-greeting file, presumably with an ADDVARS.  In the latter case, INIT.CIS and INIT.KSA would have to be editted.''I''m not sure what''s the best solution, given the current code, etc.  Why don''t you make the deciding vote, Richard.''--Ron''-----''Date': 20 Mar 84 11':04 PST'From': Burton.pa'Subject': Re':  Maxwell''s AR on WHEREIS not working for him'In-reply-to': Kaplan.pa''s message of 17 Mar 84 17':45 PST'To': LispSupport.pa'cc': Kaplan.pa, Maxwell.pa''I fixed WHEREIS to call FINDFILE using LISPUSERSDIRECTORIES on the file names on WHEREIS.HASH.  ''Michael':  John reported this in a paper about his experiences getting into interlisp so there may not be an AR number.''John':  This version is on <LISPCORE>LIBRARY>WHEREIS.DCOM.  You will need to have {phylum}<lisp>library> on LISPUSERSDIRECTORIES.  Alternatively, you could move the file WHEREIS.HASH from {phylum} to a lisp user directory that is on your LISPUSERSDIRECTORIES.''richard''-----''Date': 13 Apr 84 16':48 PST'From': Masinter.pa'Subject': WHEREIS package requires WHEREIS.HASH on connected file server'To': LispSupport'cc': Burton''If after I load in WHEREIS, I CONN to {MAXC} and attempt to use the WHEREIS feature, it complains that it can''t find {MAXC}<LISP>LIBRARY>WHEREIS.HASH.''This is also probably the reason that Maxwell couldn''t use it -- he wasn''t connected to Phylum.''Workaround: Test Case: Edit-By: Sannella.PAEdit-Date: 21-Aug-84 15':31':30