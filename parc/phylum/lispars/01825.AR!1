Number: 1825Date: 13-Aug-84  9':57':21Submitter: Sannella.PASource: Sannella.PASubject: Document USERGREETFILES, (esp. fact that they have to be FULLY qualified)Lisp Version: Description: 'Return-Path': <RICHER@SUMEX-AIM.ARPA>'Received': from SUMEX-AIM.ARPA by Xerox.ARPA ; 23 JUL 84 18':35':06 PDT'Date': Mon, 23 Jul 84 18':34':08 PDT'From': Mark Richer <RICHER@SUMEX-AIM.ARPA>'Subject': init file problem?'To': lispsupport.PA'cc': RICHER@SUMEX-AIM.ARPA'''To Whom It May Concern ':''	Upon learning that Interlisp-D will prompt you'for an init file when you load a virgin lisp.sysout,'I decided to move init.lisp to our file servers and'delete them from the several partitions we are using on'dolphins and a dorado.  I hoped that would eliminate'the problem of maintaining the file in several places.'However, I have come across one problem.  If INIT.LISP'is on a partition when I start up lisp.sysout, it'will also load the init file(s) on USERGREETFILES '(I think that''s the var, but we have it right anyhow), 'but if init.lisp is loaded as'a result of the system prompt in the promptwindow at'startup it does not load in the init file on'USERGREETFILES.  I think this is an error that should'be remedied.  ?'Thank you,'Mark'----''P.S.  I have had the same problem using GREET'-------'-------''Sender': Sannella.PA'Date': 24 Jul 84 10':42':36 PDT (Tuesday)'Subject': Re': init file problem?'In-reply-to': RICHER''s message of Mon, 23 Jul 84 18':34':08 PDT'To': Mark Richer <RICHER@SUMEX-AIM.ARPA>'cc': lispsupport'From': LispSupport.pa'Reply-To': LispSupport.pa''Are you saying that (1) Interlisp does not even try to load in the user init files when it reads init.lisp from the file server, or (2) that the load fails?''If you mean (1), are you sure that the init.lisp file that you have on your file server is the same one that you had on the local disk?''If you mean (2), give more details about how it breaks.  It would also be useful to know what type of file server you have the init.lisp and user init files on.''We have not encountered this problem ourselves.''-----''Return-Path': <RICHER@SUMEX-AIM.ARPA>'Received': from SUMEX-AIM.ARPA by Xerox.ARPA ; 24 JUL 84 11':58':48 PDT'Date': Tue, 24 Jul 84 11':57':32 PDT'From': Mark Richer <RICHER@SUMEX-AIM.ARPA>'Subject': Re': init file problem?'To': LispSupport.pa'cc': RICHER@SUMEX-AIM.ARPA'In-Reply-To': Message from "LispSupport.pa@XEROX.ARPA" of Tue 24 Jul 84 10':42':36-PDT'''We are using {SAFE}, a vax 750 with unix 4.2 as a file server.  The init'file we have on safe is the one we had on dsk .. I''m sure of this because'we make our files to safe and then transfer elsewhere if necessary.  We'have taken init.<user> out of USERGREETFILES and simply have ''((INIT.GUIDON)).'This had worked fine when INIT.LISP was stored on DSK.  It doesn''t break'when I respond to the request for an init file,, just returns normally,'except that on a number of occassions I was asked twice for an init.file.  I'can''t really understand why this is inconsistent because I started up the'same fugue6/lisp.sysout in all cases.  One explanation for this problem may'have to do with SAFE which has not been reliable, particularly with our'dorado.  I just tried it again to be sure, and I loaded lisp.sysout (fugue 6)'from safe and it prompted me for an init file and I typed in our group''s 'init.lisp on safe (same as SCHMIDT''s stanford init except for USERGREETFILES),'and it loaded it, but not the usergreetfile INIT.GUIDON.  Thanks for your'attention in this matter. By the way since safe is unix I''m not using the'angle brackets for for directory like you would in tops-20.  This just worked'so I assume it''s okay to leave them out, but I have noticed that some lisp'functions require the angle brackets still even for unix hosts.'Mark'----'-------''Return-Path': <RICHER@SUMEX-AIM.ARPA>'Received': from SUMEX-AIM.ARPA by Xerox.ARPA ; 24 JUL 84 16':17':02 PDT'Date': Tue, 24 Jul 84 16':14':21 PDT'From': Mark Richer <RICHER@SUMEX-AIM.ARPA>'Subject': more on loading init file from remote unix server'To': lispSupport.PA'cc': RICHER@SUMEX-AIM.ARPA'''I have confirmed that having INIT.LISP and my USERGREETFILES on SAFE (the unix'file server) and not on DSK means that USERGREETFILES are not loaded in after'the init file is requested and loaded from safe. I then moved INIT.LISP to'DSK and loaded in a fresh lisp again, this time the init file loaded in auto-'matically as it should, but it still did not load in the USERGREETFILES which'are on SAFE. I then moved the USERGREETFILES (actually just one) to DSK and'tried it again, and this time the USERGREETFILE was loaded in after INIT.LISP'automatically.  I have not tried this with the init files on tops-20, so I'can''t offer any info in that respect. As you must realize, it''s difficult to'main multiple init files on several machines, so I hope this problem can be'remedied.  You''d be surprised about the kind of things that happen with our'unix file server, and I hope you can get a chance to use one at XEROX (my'understanding is that in the past you had to use only XEROX or internal products) to unserstand the problems we are having.  Thank you again.'Mark'----'-------''Sender': Sannella.PA'Date': 27 Jul 84 14':00':04 PDT (Friday)'Subject': Re': more on loading init file from remote unix server'In-reply-to': RICHER''s message of Tue, 24 Jul 84 16':14':21 PDT'To': Mark Richer <RICHER@SUMEX-AIM.ARPA>'cc': lispSupport'From': LispSupport.pa'Reply-To': LispSupport.pa''Could you please send me in a message the INIT.LISP file you are using (just slurp it into a message)?  Thanks.''-----''Return-Path': <RICHER@SUMEX-AIM.ARPA>'Received': from SUMEX-AIM.ARPA by Xerox.ARPA ; 30 JUL 84 09':06':17 PDT'Date': Mon, 30 Jul 84 09':06':11 PDT'From': Mark Richer <RICHER@SUMEX-AIM.ARPA>'Subject': Re': more on loading init file from remote unix server'To': LispSupport.pa'cc': RICHER@SUMEX-AIM.ARPA'In-Reply-To': Message from "LispSupport.pa@XEROX.ARPA" of Fri 27 Jul 84 14':00':04-PDT'''Hope this helps ':''(FILECREATED "17-Jul-84 14':23':33" {SAFE}</C/GUIDON>INIT.LISP;4 3388   ''      changes to':  (VARS INITCOMS)''      previous date': " 9-Jul-84 13':17':43" {SAFE}</C/GUIDON>INIT.LISP;3)'''(PRETTYCOMPRINT INITCOMS)''(RPAQQ INITCOMS [(* This is the Stanford system greeting file.)'		 (VARS (LISPUSERSDIRECTORIES '' ({SAFE}/a/lispusers/fugue6/ '								    {SUMEX-AIM}<LISPUSERS.FUGUE6> '								       {SAFE}/a/lispusers/fugue4/ '								    {SUMEX-AIM}<LISPUSERS.FUGUE4> '									   {DSK}))'		       (DIRECTORIES '' (NIL {SAFE}/c/guidon/ {SAFE}/a/lispusers/fugue6/ '					   {SUMEX-AIM}<LISPUSERS.FUGUE6> {SAFE}/a/lispusers/fugue4/ '					   {SUMEX-AIM}<LISPUSERS.FUGUE4> {DSK}))'		       (FONTDIRECTORIES '' ({DSK} {SUMEX}<DOLPHIN.FONTS> {SAFE}/a/fonts/))'		       (USERGREETFILES '' ((INIT.GUIDON)))'		       (FONTWIDTHSFILES '' ({DSK}FONTS.WIDTHS {SUMEX}<DOLPHIN.FONTS>FONTS.WIDTHS))'		       (DEFAULTPRINTINGHOST ''RAVEN)'...''-----''Sender': Sannella.PA'Date': 30 Jul 84 16':01':47 PDT (Monday)'Subject': Re': more on loading init file from remote unix server'In-reply-to': RICHER''s message of Mon, 30 Jul 84 09':06':11 PDT'To': Mark Richer <RICHER@SUMEX-AIM.ARPA>'cc': LispSupport'From': LispSupport.pa'Reply-To': LispSupport.pa''I don''t KNOW what your problem is, but I have some suspicions.  For some reason, Interlisp is not looking up the user greet file in the directories correctly, when it tries to load it in.  You have said':''INIT.LISP on {DSK}, INIT.GUIDON on {DSK}	--- works'INIT.LISP on {DSK}, INIT.GUIDON on {SAFE}  	--- fails'INIT.LISP on {SAFE}, INIT.GUIDON on {SAFE}	--- fails''Idea one':   Try the only remaining combination':  load INIT.LISP from {SAFE}, while INIT.GUIDON is on {DSK}.  If this works (as I suspect it will), this means that it is not using {SAFE}/c/guidon/ on DIRECTORIES for looking up INIT.GUIDON.''Idea two':  in INIT.LISP, replace'	(USERGREETFILES '' ((INIT.GUIDON)))'		by'	(USERGREETFILES '' (({SAFE}/c/guidon/INIT.GUIDON)))''In the INIT.LISP files we use here, all of the "file names" in USERGREETFILES are fully qualified.''Tell me how this works...''-----''Return-Path': <RICHER@SUMEX-AIM.ARPA>'Received': from SUMEX-AIM.ARPA by Xerox.ARPA ; 01 AUG 84 08':35':59 PDT'Date': Wed, 1 Aug 84 08':36':06 PDT'From': Mark Richer <RICHER@SUMEX-AIM.ARPA>'Subject': Re': more on loading init file from remote unix server'To': LispSupport.pa'cc': RICHER@SUMEX-AIM.ARPA'In-Reply-To': Message from "LispSupport.pa@XEROX.ARPA" of Mon 30 Jul 84 16':01':47-PDT''Sanella (sorry, don''t know your first name),'	Thanks for you replies about the init file. You are 100% right.'Both your ideas work ':'(1) init.lisp on SAFE, init.guidon on {DSK} ... works'(2) init.lisp, init.guidon on SAFE, but USERGREETFILES is {SAFE}/c/guidon/INIT.'GUIDON and not just INIT.GUIDON .... works''Mark'----'-------''Workaround: Test Case: Edit-By: Edit-Date: Attn: Kaplan, LispAssigned To: In/By: Disposition: System: Programming EnvironmentSubsystem: File PackageMachine: Disk: Microcode Version: Memory Size: File Server: Server Software Version: Difficulty: Frequency: Impact: ModeratePriority: PerhapsStatus: OpenProblem Type: DocumentationSource Files: 