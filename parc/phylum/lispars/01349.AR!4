Number: 1349Date:  5-Jun-84 14':50':18Submitter: Sannella.PASource: Martin Yonke <Yonke@USC-ECL.ARPA>Subject: REVERT to \INTERPRETER causes infinite loop and leave break inAssigned To: Attn: burtonStatus: FixedIn/By: Problem Type: BugImpact: MinorDifficulty: ModerateFrequency: IntermittentPriority: PerhapsSystem: Programming EnvironmentSubsystem: Break PackageMachine: Disk: Lisp Version: Source Files: Microcode Version: Memory Size: File Server: Server Software Version: Disposition: '["burton.pa" "29-Aug-84 16':10':29" Status':(Open->Fixed) Description':]Description: 'Return-Path': <YONKE@USC-ECL.ARPA>'Received': from USC-ECL.ARPA by Xerox.ARPA ; 29 MAY 84 15':31':44 PDT'Date': Mon, 28 May 84 16':18':19 PDT'From': Martin Yonke <Yonke@USC-ECL.ARPA>'Subject': ''revert'' from a break can be deadly to 1108s'To': LispSupport.pa''If you get a UDF running noncompiled code and you ''revert'' either by'menu or typein before you "assign" a place to go (and LASTPOS is a stack'pointer to \INTERPRETER) the 1108 stops -- MP=0 but mouse is dead.''Martin''P.S. the reason I sent this to you instead of 1100Support is that the'person who reported it said it used to work -- i.e. he said he would'define the function that caused the UDF and then ''revert'' and it would'work but it doesn''t in Fugue.6 (9-Apr release).  You might just want to'forward it to them if this is not true.  /mdy'-------''I tried this on a dorado.  The system first insisted that I mouse confirm reverting to a dummyframep then got a stack overflow.  I don''t know anything about it working in earlier releases except that I don''t believe it was even possible to revert to a dummyframep until recently.  Maybe Marty''s user was reverting to something else (like the function being interpreted).  I changed the status to "intermittent" though it might well be "always" and made it a microcode problem for Steve.  -- rrb''Later I discovered that the definition of \INTERPRETER1 had been left broken by the above revert.  I patched it via "_" to move the definition from the break function (\INTERPRETER1B0010 in my case) to INTERPRETER1. I changed description to reflect this.  rrb'-------------'Date': 29 Aug 84 16':09 PDT'From': burton.pa'Subject': ar 1349': revert to \INTERPRETER loops'To': Yonke@usc-ecl.arpa'cc': masinter, burton.pa''Last weekend, Larry changed the way revert works to fix this bug.  Should be out in the Harmony release.''Richard''Workaround: Test Case: Edit-By: burton.paEdit-Date: 29-Aug-84 16':10':30