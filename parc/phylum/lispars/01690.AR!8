Number: 1690Date: 28-Jul-84  0':33':16Submitter: le.pasaSource:  Bird.pasaSubject: LDIFF gives "not a tail" error under CLISPIFYLisp Version: CAROLDescription: '[ORIGINAL]'  Load function SPOT from file SPOT.  Try to CLISPIFY it.  LDIFF fails on "not a tail" error.  If the attempt is abandoned and then tried again it will work.  The most annoying aspect of this is that it causes my listings to be only partially clispified.'[REPLACEMENT]'  LOAD({ROSE}<LISPUSERS>ARTESTCASES>SPOT)'  CONN'  MAKEFILE(SPOT (NEW CLISPIFY))'-- LDIFF fails on "not a tail" error.'Curiously, although error occurs while CLISPIFYing the first function in the file, it doesn''t happen if the file is truncated to contain only the first function.  Nor does it happen if CLISPIFY is called directly instead of via MAKEFILE.  Error occurs with CLISPIFYPACKFLG set to T or NIL, but in different places.  Since MAKEFILE has changed the function, retrying doesn''t give an error unless the function SPOT is reloaded from the original file.'-----''Date': 15 Aug 84 01':09':12 PDT (Wednesday)'From': Masinter.PA'Subject': AR#1690, LDIFF gives "not a tail" error under CLISPIFY'To': Bird.pasa'cc': Le.pasa, LispSupport'''Did you by chance save {ROSE}<BIRD>SPOT.;24 somewhere else?''I see there is a file {ROSE}<BIRD>SPOT of some more recent vintage, but I don''t have read access.''I am marking the AR as "Incomplete". Please change the status back to Open when/if you can find the offending version of SPOT.''Thanks much,''Larry''Description':  Load function SPOT from file SPOT.  Try to CLISPIFY it.  LDIFF fails on "not a tail" error.  If the attempt is abandoned and then tried again it will work.  The most annoying aspect of this is that it causes my listings to be only partially clispified.''Test Case': {ROSE}<BIRD>SPOT.;24'----------'Date': 15 Aug 84 13':48 PDT'From': Bird.pasa'Subject': AR #1690'To': Masinter.pa'cc': Bird.pasa, Le.pasa, LispSupport.pa''Larry,''I''ve  re-opened this AR.  New test case is slightly different.''Enjoy,''--Mike''  LOAD({ROSE}<LISPUSERS>ARTESTCASES>SPOT)'  CONN'  MAKEFILE(SPOT (NEW CLISPIFY))'-- LDIFF fails on "not a tail" error.'Curiously, although error occurs while CLISPIFYing the first function in the file, it doesn''t happen if the file is truncated to contain only the first function.  Nor does it happen if CLISPIFY is called directly instead of via MAKEFILE.  Error seems to occur with CLISPIFYPACKFLG set to T or NIL, but try T to start with.  Since MAKEFILE has changed the function, retrying doesn''t give an error unless the function SPOT is reloaded from the original file.''Workaround: Test Case:  [ORIGINAL]    {ROSE}<BIRD>SPOT.;2'          [REPLACEMENT]    {ROSE}<LISPUSERS>ARTESTCASES>SPOT.;1Edit-By: le.pasaEdit-Date: 16-Aug-84 14':48':48Attn: Bird.pasaAssigned To: In/By: Disposition: System: Programming EnvironmentSubsystem: DWIMMachine: 1108Disk: Microcode Version: Memory Size: File Server: Server Software Version: Difficulty: Frequency: Impact: AnnoyingPriority: PerhapsStatus: OpenProblem Type: BugSource Files: 