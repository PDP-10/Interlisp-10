Number: 151Date: 17-Mar-84  0':29':19Submitter: Sannella.PASource: Kaplan.paSubject: New fn COPYCHARS for copying w/ EOL conventionAssigned To: Kaplan.paAttn: Status: ClosedIn/By: HarmonyProblem Type: DocumentationImpact: Difficulty: EasyFrequency: Priority: AbsolutelySystem: Language SupportSubsystem: Read and PrintMachine: Disk: Lisp Version: Source Files: Microcode Version: Memory Size: File Server: Server Software Version: Disposition: [in system, just needs documentation]'["Sannella" "20-Aug-84 18':46':25" Attn': Status':(Fixed->Closed) In/By':]Description: ''Date': 15 Mar 84 20':47 PST'From': Kaplan.pa'Subject': New function for release':  COPYCHARS'To': Lispsupport, LispCore^''I have installed a new function in the system (in FILEIO).  Here''s the documenation':''"(COPYCHARS  SRCFIL DSTFIL START END)'is like COPYBYTES except that it performs the proper conversion if the EOL conventions of SRCFIL and DSTFIL are not the same.  START and END are interpreted as byte specifications in SRCFIL.  The number of bytes actually output to DSTFIL might be more or less than the number of bytes specified by START and END, depending on what the EOL conventions are.  In the case where the EOL conventions happen to be the same, COPYCHARS simply calls COPYBYTES."''This function should be used instead of copybytes in various text-processing places in the system, so that EOL conventions get treated properly.  I will fix PRETTYDEF so that it copies symbolic definitions with COPYCHARS.  I believe Lafite should use it to copy mail from the grapevine to the mail folder, Tedit should use it to copy unchanged pieces (along with some other necessary changes for EOL conventions), and COPYFILE should presumably use this when copying a file of type TEXT (We might want to have a flag argument to allow the user to suppress EOL conversion if he wants to).  Is there a current owner of COPYFILE?'-----'Date': 15 Mar 84 20':56 PST'From': Kaplan.pa'Subject': COPYCHARS documentation has been inserted in manual'To': Lispsupport'-----'Date': 16 MAR 84 00':57 PST'From': MASINTER.PA'Subject': COPYCHARS message hidden ARs'To':   lispSupport'cc':   Kaplan''Ron, if there is some part of this conversion tht needs finishing (like fixing COPYFILE) why don''t you send in an AR to LispSupport listing what should be done, ok?'-----'Date': 16 MAR 84 00':57 PST'From': MASINTER.PA'Subject': COPYCHARS message'To':   kaplan'cc':   lispsupport''Also, for the record, COPYCHARS is a fix to a problem, right?''What was the problem?'-----'Date': 16 Mar 84 13':22 PST'From': Kaplan.pa'Subject': Re': COPYCHARS message'In-reply-to': MASINTER.PA''s message of 16 MAR 84 00':57 PST'To': MASINTER.PA'cc': kaplan.PA, lispsupport.PA''There were several action items in my copychars message, which was also sent to Lispsupport.''The problem that COPYCHARS, when called in relevant places, fixes is converting EOL conventions properly.'Workaround: Test Case: Edit-By: SannellaEdit-Date: 20-Aug-84 18':46':25