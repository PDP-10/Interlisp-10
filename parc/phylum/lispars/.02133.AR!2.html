<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <title>File [phylum]&lt;LispARs>02133.AR!2</title>
  </head>
  <body>
    <pre>
Number: 2133Date: 11-Sep-84 10':46':21Submitter: Sannella.PASource: Denber.wbstSubject: Unadvertised ADDMENU Side Effect': changes REPAINTFN to be MENUREPAINTFNAssigned To: Attn: BurtonStatus: OpenIn/By: Problem Type: Design - ImplImpact: ModerateDifficulty: Frequency: Priority: PerhapsSystem: Windows and GraphicsSubsystem: Window SystemMachine: 1132Disk: Lisp Version:  8-Sep-84 01':22':25Source Files: Microcode Version: 5124Memory Size: 4096File Server: Server Software Version: Disposition: '["Sannella.PA" "12-Sep-84 12':16':29" Description':]Description: '[mjs 9/11/84 -- could this have any relation to AR 522?]' 'Date':  6 Sep 84 15':51 EDT'From': Denber.wbst'Subject': Lisp': Unadvertised ADDMENU Side Effect'To': LispSupport.pa'cc': Hannaway, Ingalls, Irish, McFarland.henr, Turner'Lisp-System-Date': 21-Jun-84 10':50':28'Machine-Type': Dolphin''There is a *glaring* omission in the manual, specifically on page 19.38 it says that ADDMENU will change a window''s RESHAPEFN, but it DOESN''T say that it also changes the window''s REPAINTFN (to be MENUREPAINTFN).''So if you try to change a window''s REPAINTFN and further on in the function unwittingly call ADDMENU, it will seem that your WINDOWPROP was never executed!  (It took me a while to discover this).''Eg.' '(WINDOWPROP FOOWINDOW ''REPAINTFN NIL))''&lt;any Lisp code&gt;''(ADDMENU FOOMENU FOOWINDOW)'(* FOOWINDOW''s REPAINTFN is now MENUREPAINTFN)'''This behavior should also be mentioned on pages 19.31 and 19.32 under RESHAPEFN and REPAINTFN respectively.  Actually, the best would be to change ADDMENU to not do that.''			- Michel''-----''Date': 11 Sep 84 11':35 PDT'From': Burton.pa'Subject': Re': AR 2133': Unadvertised ADDMENU Side Effect': changes REPAINTFN to be MENUREPAINTFN'In-reply-to': LispSupport.pa''s message of 11 Sep 84 10':47 PDT'To': LispSupport.pa'cc': Burton.pa''The current loadup uses WINDOWADDPROP to put its REPAINTFN on rather than WINDOWPROP.  I documented this fact.  Sorry it bit him. '''Mike': This is separate from ar 522.  There may be another AR which is does relate to but I couldn''t find it.  I guess I was fixing bugs without an AR again.''Richard''Workaround: Test Case: Edit-By: Sannella.PAEdit-Date: 12-Sep-84 12':16':29</pre>
  </body>
</html>
