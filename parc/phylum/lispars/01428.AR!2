Number: 1428Date: 14-Jun-84 15':17':45Submitter: Sannella.PASource: masinter.PASubject: Misc problems w/ NSPRINTER.STATUS, HARDCOPYW, and EMPRESSAssigned To: Attn: Kaplan, vanMelleStatus: OpenIn/By: Problem Type: BugImpact: SeriousDifficulty: ModerateFrequency: EverytimePriority: HopefullySystem: Windows and GraphicsSubsystem: PrintingMachine: Disk: Lisp Version: Source Files: Microcode Version: Memory Size: File Server: Server Software Version: Disposition: Description: 'Date':  7 May 84 18':37':43 PDT (Monday)'From': masinter.PA'To': LispSupport, 1100Support.pasa''fyi, problems in Henrietta''----------------------------------------------------------------'Date': 7 May 1984 8':15 pm EDT (Monday)'From': DSnyder.henr'Subject': [*long*] Re': NSPRINTER.STATUS, HARDCOPYW, and EMPRESS'In-reply-to': Masinter.pa''s message of 27 Mar 84 22':30 PST'To': Masinter.pa'cc': DSnyder, AHenderson.PA''Larry,''Thank you *VERY* much for the responses you provided some time ago (~ a month) to my questions about generating hardcopy for Trillium windows.''The most basic problem I was having was not having DEFAULTPRINTINGHOST set to some Interpress printer while doing HARDCOPYW to a file only.  Easy enough.  But now as my need to be able to hardcopy these Trillium frames has become extremely urgent, I can''t seem to surmount what seem to me to be bugs in the NS code.''With Austin Henderson''s help you will be able to easily reproduce the problem, with its inconsistent behavior.  Just fire up a Trillium sysout, open an interface, and call the function HARDCOPY.INTERFACE, which I believe Austin has on the file TRI-UPDATES I told him about some time ago.  The CH.DEFAULT.DOMAIN, CH.NET.HINT, and so on are hardwired into the function HARDCOPY.SETUP, so you''ll need to hack a bit there, I''m afraid.  Make sure that the variable FULLPRESSPRINTER is set to your local *Interpress* printer.''The buggy behavior is multifacted.  When an image successfully gets to the Interpress printer, sometimes it sucessfully prints, and sometimes I get a format failure from the printer, or even a queue failure, which doesn''t seem to be Interlisp''s fault.  (I''ve checked this from the printer itself, and by turning on COURIERTRACEFG.)  This seems to be correlated with the size of the image, viz., larger ones (like the ADD.SUPERFRAMES frame in PSWall''s primer interface, NEWUSER1) fail.  ''But quite often images never make it to the printer.  If I try to do a HARDCOPYW directly to the printer, the courier call from NSPRINT almost always breaks if there is more than one HARDCOPYW process spooled.  If I revert to NSPRINT and let it go again it seems to do just fine.  But sometimes I get "Error in Courier program PRINTING, procedure PRINT': TOO MANY CLIENTS".  And sometimes I get lots of "printing#n not responding" messages while NSPRINTER.STATUS shows every aspect of the printer *is* available, and that printer#n is waiting in MONITOR.AWAIT.EVENT, although I don''t know what for.''If I HARDCOPYW to a file first, and then to the printer (via Empress) I get still different behavior.  (By the way, why doesn''t Empress pay attention to the string I give it as the title argument?)  The bulk data transfer to the printer seems to go fine in all cases, but I get into breaks with complaints about the host being unavailable or unresponsive or something.''This is all very frustrating, as you can imaging, for one, because there is always different behavior (I always do this stuff during hours when the network is very lightly loaded, by the way), and also because I really need these images and can''t seem to do anything to make it all work!!  If there''s any further help you can give provide, I''d be most indebted.''Thanks!!!''----------------------------------------------------------------'Workaround: Test Case: Edit-By: vanMelleEdit-Date: 29-Jun-84 15':48':03