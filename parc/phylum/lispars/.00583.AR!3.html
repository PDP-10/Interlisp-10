<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <title>File [phylum]&lt;LispARs>00583.AR!3</title>
  </head>
  <body>
    <pre>
Number: 583Date: 10-Apr-84 10':46':08Submitter: Sannella.PASource: LipkisSubject: U.D.F from compiled fn, OK, REVERT causes microcode haltLisp Version: Description: 'Date': Mon, 9 Jan 84 16':32 PST'Sender': dering.PASA'Subject': Problem Report P5072  (Stack bug (Ucode halt))'To': LispSupport.pa'From': 1100Support'''------------------------''Tom Lipkis reports the following':''The following sequence of events causes a microcode halt in Fugue.3.'If a compiled function calls an undefined function, one ends up in a break'with LASTPOS pointing to the \INTERPRETER frame under the compiled'function.  If one then types OK (an odd thing to do, granted, but this'actually happened to someone), one gets back into the same UNDEFINED'FUNCTION break, with LASTPOS (which is now a different stack pointer)'still pointing at the \INTERPRETER frame.  However, buttoning frames in'the backtrace menu at this point does not change LASTPOS (though it does'display the appropriate stuff in the frame window).  Further, a REVERT @'at this point results in a microcode halt.  If one first sets LASTPOS'with an @ FOO command, the revert works ok.''This does not appear to be an Interlisp-D specific problem, as a similar'thing happens in Interlisp-VAX (where, instead of the Ucode halt, it gets'a STACK POINTER HAS BEEN RELEASED error).'''(Originally reported  to  1100Support 12/9/83,  not previously forwarded  to LispSupport)''Workaround: Test Case: Edit-By: Sannella.PAEdit-Date: 16-Aug-84 15':51':53Attn: Assigned To: MasinterIn/By: Disposition: LASTPOS no longer will point at \INTERPRETER.''Further, REVERT uses a new mechanism which will avoid this and other odd kinds of recursive microcode loops which cause the machine to freeze.'''- lmm 15 Aug 84System: Language SupportSubsystem: Stack and InterpreterMachine: Disk: Microcode Version: Memory Size: File Server: Server Software Version: Difficulty: Frequency: EverytimeImpact: ModeratePriority: PerhapsStatus: FixedProblem Type: BugSource Files: </pre>
  </body>
</html>
