<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <title>File [phylum]&lt;LispARs>01966.AR!3</title>
  </head>
  <body>
    <pre>
Number: 1966Date: 27-Aug-84 17':23':10Submitter: Sannella.PASource: Masinter.paSubject: Patch LFG, JLISP to work with non-page-mapped core deviceAssigned To: Attn: Status: FixedIn/By: Problem Type: BugImpact: ModerateDifficulty: Frequency: Priority: HopefullySystem: Other SoftwareSubsystem: OtherMachine: 1108Disk: Lisp Version: 23-Aug-84 18':52':49Source Files: Microcode Version: 5124Memory Size: 3071File Server: Server Software Version: Disposition: [Note that JLisp is not currently "supported"; interim work is on [phylum]&lt;JLisp&gt;]'["Sannella.PA" "28-Aug-84 10':13':27" Description':]'["Masinter" " 1-Sep-84 14':03':36" Attn': Status':(Open-&gt;Fixed) Disposition':]Description: 'Date': 21 Aug 84 15':53 PDT'From': Masinter.pa'Subject': Re': Patch for LFG, new LFG sysout'In-reply-to': Kaplan.pa''s message of 3 Aug 84 19':32 PDT'To': Kaplan.pa'cc': LispSUpport''is this patch in the system now?'Date':  3 Aug 84 19':32 PDT'From': Kaplan.pa'Subject': Patch for LFG, new LFG sysout'To': Stansbury, Sannella, Purcell, Lichtenberg.wbst, Jellinek'Cc':  Lispcore&uarr;''There is a patch file that fixes the CORE problem for the LFG demo.  It is ''{PHYLUM}&lt;JLISP&gt;PATCHCORE.DCOM.''Somebody should put it on a floppy and take it down.''If you LOAD that file anytime before starting the Japanese part of the demo, it will fix things up.''-----''From': KAPLAN.pa'Date': 21-Aug-84 20':29':31 PDT'Subject': Re': Patch for LFG, new LFG sysout'In-reply-to': Masinter''s message of 21 Aug 84 15':53 PDT'To': Masinter'cc': Kaplan, LispSUpport''JLISP currently will not run without this patch.  Bill disabled the READPAGES and WRITEPAGES functions of the CORE device, on the grounds that they were no longer page-mapped devices.''But awhile ago I moved the small inflection dictionary in Jlisp into a CORE file, so that I wouldn''t have to worry about trucking around an extra little file on floppies.  But the Jlisp dictionary files are accessed via \MAPPAGE, which is now disabled, so the move into core was not innocuous.''Bill has some argument, which I don''t remember about why \MAPPAGE shouldn''t be run on a non-pmapped device (something about the buffers not being deallocated at close time.)''So...we either have to understand how to make page mapping work again for Core, figure out what Jlisp is trying to do and do it with some canonical mechanism, or define Jlisp as not permitting core dictionary files.''I haven''t had time to do any of these, hence the patch file should remain.''--Ron''-----''Date': 21 AUG 84 23':00 PDT'From': MASINTER.PA'Subject': &larr;\MAPPAGE and JLisp'To':   kaplan'cc':   masinter, lispsupport''I think the right thing to do is fix JLisp not to use \MAPPAGE , since \MAPPAGE is not a "supported" interface.''Betcha it could just do SETFILEPTRs and BINs and be quite happy.''I seem to recall when I wrote that part that it was a quick hack...''-----''Date': 21 AUG 84 23':20 PDT'From': MASINTER.PA'Subject': unwanted \MAPPAGE in JGP on &lt;JLisp&gt;'To':   Kaplan'cc':   LispSupport''(SETFILEPTR DICT (IPLUS DICTTABLE BYTESPERPAGE))'(BIN16 DICT)''replaces the entire WORDCONTENTS WORDOFFSET etc nonsense inside the function DICTWORD, which is the only reference to \MAPPAGE in the JLisp sources.''The whole definition of DICTWORD is''(if DICTTABLE then &amp;) where &amp; is the expresion above.'''Workaround: Test Case: Edit-By: MasinterEdit-Date:  1-Sep-84 14':03':37</pre>
  </body>
</html>
