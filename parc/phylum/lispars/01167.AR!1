Number: 1167Date: 21-May-84 16':03':56Submitter: Sannella.PASource: JonL.paSubject: document': new GLOBALRESOURCE facilityLisp Version: Description: 'Date':  7 May 84 04':03 PDT'From': JonL.pa'Subject': Major changes to GLOBALRESOURCE facility'To': LispCore^.pa''Ron and I mad a major, incompatible, change to the GLOBALRESOURCE facility which we''ve talked about for over a year; hopefully, we''ve found and edited all files which have GLOBALRESOURCES definitions in them.  I''m starting a loadup now on Bill''s machine [note also that Bill made changes to all "device defining" files,  so this loadup will have to be tested for two major areas].''Formerly the "definition" for a GLOBALRESOURCE was just a form to evaluate; as of now, it is a propertylist, with only the NEW attribute currently being supported.  For example, if formerly FOO were defined by '  (PUTDEF ''FOO ''GLOBALRESOURCES ''(ALLOCSTRING 100))'it will now be done by'  (PUTDEF ''FOO ''GLOBALRESOURCES ''(NEW (ALLOCSTRING 100)))'We would like to remove the format where the definition occurs in the COMS of a file -- use the GLOBALRESOURCES filepkg command just like BITMAPS for FNS; for the time being, the new definition will try to support both COMS formats, as well as trying to distinguish an "old" definition from a new one.''This isn''t the only change; whereas before the resource was cached in a global var with the same name as the GLOBALRESOURCE, it is now being cached in a more "internal" name.  Also, there was an awful undocumentable kludge whereby the code would be "massaged", and every instance of the variable with the same name as the GLOBALRESOURCE would be converted into a gensym.  There is no longer any need for this kludgery':  the GLOBALRESOURCE macro will now bind a variable, of same name as resource, to a usable copy of the resource, and this variable may be local or special in the surrounding code.''-- JonL --''Workaround: Test Case: Edit-By: Edit-Date: Attn: JonlAssigned To: In/By: Disposition: System: Language SupportSubsystem: Storage Formats/MgtMachine: Disk: Microcode Version: Memory Size: File Server: Server Software Version: Difficulty: ModerateFrequency: EverytimeImpact: AnnoyingPriority: PerhapsStatus: OpenProblem Type: DocumentationSource Files: 