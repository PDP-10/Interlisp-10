Number: 1061Date:  9-May-84 15':28':58Submitter: purcell.PASource: purcellSubject: Want': Arrays of FLOATP and 8 word allignmentAssigned To: MasinterAttn: ReleaseStatus: FixedIn/By: Problem Type: Design - ImplImpact: ModerateDifficulty: ModerateFrequency: Priority: AbsolutelySystem: Language SupportSubsystem: Storage Formats/MgtMachine: Disk: Lisp Version: Source Files: Microcode Version: Memory Size: File Server: Server Software Version: Disposition: Arrays of FLOATP are now implemented as real floatps. AIN works on them, too. There is an explicit ALIGN argument to the array allocator, although probably we should hide it somehow.'["masinter" "11-Sep-84 15':06':04" Source': Assigned% To': Attn': Status':(Open->Fixed) Disposition':]Description: Arrays of FLOATP are implemented as arrays of POINTER but shouldn''t be.  Also the FFT op code assumes 8 word alignment of its arguments which are typically the data of arrays.  (ARRAY  ) must call \allocblock which can take an alignment argument but ARRAY has no allignment argument. Such and arg could be added or it could be implicit for arrays of type floatp.'''Date': 30 Jun 84 15':05 PDT'From': Kaplan.pa'Subject': Re': AR#1061, Array of floatp alignment'In-reply-to': Masinter.pa''s message of 30 Jun 84 01':50 PDT'To': Masinter.pa'cc': purcell.pa, jellinek.pa, charnley.pa, Kaplan.pa''I had already pointed this out to Steve, Herb, etc.  They had figured out that if they asked for alignment 128, that would guarantee 8 as well, with some loss in storage efficiency.''A more natural solution that I think gets the cases they are after is to introduce a new array type COMPLEX, which sets and fetches instances of the COMPLEXP datatype (with records to be exported from somewhere else, and with fixps and floatps interpreted as the real component), and which, by the way, imposes oct-word alignment.''Or do you guys also want 8-word alignment for simple floatp arrays--whose elements are not interpreted as complex components?''Give me the COMPLEX declaration and say the word, and I''ll install this.''--Ron'Workaround: Test Case: Edit-By: masinterEdit-Date: 11-Sep-84 15':06':06