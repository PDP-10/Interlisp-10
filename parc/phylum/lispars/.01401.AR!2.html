<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <title>File [phylum]&lt;LispARs>01401.AR!2</title>
  </head>
  <body>
    <pre>
Number: 1401Date: 12-Jun-84 16':57':03Submitter: Sannella.PASource: Masinter.paSubject: GCSCANSTACK needs to avoid reference counts that would cause MP haltsAssigned To: Attn: Status: ClosedIn/By: Problem Type: Impact: Difficulty: Frequency: Priority: System: Language SupportSubsystem: Stack and InterpreterMachine: Disk: Lisp Version: Source Files: Microcode Version: Memory Size: File Server: Server Software Version: Disposition: '["Sannella" "20-Aug-84 19':02':28" Status':(Fixed-&gt;Closed)]Description: 'Date': 10 Jun 84 17':08 PDT'From': Masinter.pa'Subject': GCSCANSTACK needs to avoid reference counts that would cause MP halts'To': LispSupport, vanMelle, charnley'cc': Masinter.pa''I think all that''s necessary in GCSCANSTACK is to turn the \GETBASEPTR into a (\VAG2 (LOGAND 77Q (\GETBASE --)) (\GETBASE --]''It would be nicer to fix the microcode not to crash when reference counting a non-pointer, but this is probably easier and means that the microcode has fewer dependencies on a 22-bit address space.''-----''Date': 11 Jun 84 14':47 PDT'From': vanMelle.pa'Subject': Re': GCSCANSTACK needs to avoid reference counts that would cause MP halts'In-reply-to': Masinter.pa''s message of 10 Jun 84 17':08 PDT'To': Masinter.pa'cc': LispSupport.pa, vanMelle.pa, charnley.pa''Fine.  I have fixed \GCSCANSTACK to stkref only the bottom 22 bits of random pointers on the stack.  Onward!''	Bill''-----''Date': 11 Jun 84 15':25 PDT'From': JonL.pa'Subject': Re': GCSCANSTACK needs to avoid reference counts that would cause MP halts'In-reply-to': vanMelle.pa''s message of 11 Jun 84 14':47 PDT'To': vanMelle.pa'cc': Masinter.pa, LispSupport.pa, charnley.pa''I presume this problem is solely due to the "kludge" of trying unboxed floating point by leaving random bits on the stack?''If so, it would be wise to leave some kind of marker at each place where the 22-bit limitation gets built-in, so that we can change it as-and-when (I seem to remember Fall 84 as the promised delivery time for 24-bit pointers).''-- JonL --''Workaround: Test Case: Edit-By: SannellaEdit-Date: 20-Aug-84 19':02':29</pre>
  </body>
</html>
