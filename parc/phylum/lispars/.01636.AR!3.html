<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <title>File [phylum]&lt;LispARs>01636.AR!3</title>
  </head>
  <body>
    <pre>
Number: 1636Date: 12-Jul-84 11':35':49Submitter: Sannella.PASource: Charles Hedrick &lt;HEDRICK@RUTGERS.ARPA&gt;Subject: LEAF implementation questionsLisp Version: Description: 'Return-Path': &lt;HEDRICK@RUTGERS.ARPA&gt;'Received': from RUTGERS.ARPA by Xerox.ARPA ; 15 JUN 84 17':23':27 PDT'Date': 14 Jun 84 19':39':59 EDT'From': Charles Hedrick &lt;HEDRICK@RUTGERS.ARPA&gt;'Subject': LEAF problem'To': LispSupport.pa'cc': shulman@RUTGERS.ARPA''1) We seem to be the maintainer for PUP and LEAF on the DEC-20.'It would be really great if somebody could find the specifications'for SEQUIN, LEAF, etc. (maybe you call it "IFS").  The problem'with depending upon the code for documentation is that it doesn''t'help diagnose the problem when the code may be wrong.''2) Now and then we get files created on the 20 with zero length. I put'some extra debugging code into LEAF to see what was going on.  The'DEC-20 version of LEAF expects that the last WRITELEAF for a given file'will set the high-order bit of the address. This apparently causes LEAF'to set the file length on disk to the current byte count.  However'in some cases this bit it not set.  Is this a bug in Lisp or in LEAF?'At the moment, I have fixed it in the obvious way.  (Whenever a LEAF'closes a file, it updates the file length if the length it knows about'is greater than the length on disk.)''-------''Date': 17 Jul 84 12':08 PDT'From': vanMelle.pa'Subject': Re': AR#1636': Leaf implementation questions from Rutgers'To': LispSupport'cc': vanMelle.pa''1.  The only documentation I have for Leaf is in hardcopy form.  We should probably make a copy and mail it to Hedrick.''2.  My reading of the Leaf protocol is that it does not require that the sender ever set the eof bit in any WriteLeaf.  Thus, the server should on closing the file set the eof to the greatest extent the file has reached.  The eof bit is mainly of use for truncating an existing file to a shorter length.''	Bill'Workaround: Test Case: Edit-By: Sannella.PAEdit-Date: 17-Jul-84 13':01':51Attn: vanMelleAssigned To: In/By: Disposition: System: CommunicationsSubsystem: PUP ProtocolsMachine: Disk: Microcode Version: Memory Size: File Server: Server Software Version: Difficulty: Frequency: Impact: Priority: Status: OpenProblem Type: DocumentationSource Files: </pre>
  </body>
</html>
