<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <title>File [eris]&lt;Lisp>INTERMEZZO>1108UsersGuide>1108sec1!1</title>
  </head>
  <body>
    <pre>
This section describes the day-to-day operation of the Xerox 1108.  Consult subsequent sections of this manual for detailed explanations of the operational procedures sketched below.Once the Xerox 1108 has been properly loaded with Xerox software, its operation is straight-forward. Powering up the Xerox 1108 auto-matically starts Interlisp-D. When the user has com-pleted a session, he does a (LOGOUT) which saves the state of the current session until the next time Interlisp-D is started. The process of logging out puts the Xerox 1108 in its base state: a black screen with a small bouncing white window. From this state it is possible to: (a) resume an earlier Interlisp-D session; (b) load fresh versions of Interlisp-D; (c) run machine diagnostics.On Xerox 1108s with sufficient disk storage, more than one Interlisp-D environment can be main-tained on the local disk. Separate software projects can be supported under each environment. To switch from one project to another, LOGOUT of the first environment and enter the second. Special software is provided to facilitate this switching back and forth.Occasionally errors and problems arise during the operation of the Xerox 1108. These are usually signalled via the LED lights on the Maintenance Panel. Refer to the section entitled MP Code Summary for help in diagnosing such problems.?The Xerox 1108 is equipped with a 10, 29, or 42 Megabyte local disk. The disk is formatted into two or more logical volumes; the number and size of these logical volumes depends on the size of the disk. The disk is partitioned using utility software distributed by Xerox.Logical volume SystemTools contains software for running diagnostics on the display, keyboard, mouse, floppy disk drive, and Ethernet. It also contains a software package, Lisp System Tool, for initializing the local disk with Lisp software and switching back and forth between Interlisp-D environments stored on the local disk.Logical volumes Lisp, Lisp2, Lisp3, etc. can each contain a complete Interlisp-D environment. Although the Xerox 1108 can operate out of only one logical volume at a time, within each logical volume an independent software project can be developed.Logical volume LispFiles is used for file storage. Files on LispFiles can be created, deleted, read, and written when Interlisp-D is running within any Lisp volume.The Xerox 1108 keyboard is designed to accom-modate both programming and word processing applications. As such, many of the key caps may seem inappropriate in the realm of pure Lisp programming. Xerox will shortly offer a new set of key caps which will result in a more intuitive programmer keyboard. In the meantime, please consult the keyboard map at the end of this section.   It  establishes  the  location  of  many  keys needed by Interlisp-D and equivalences to the Xerox 1100 Keyboard.The LOCK and UNLCK keys determine whether alphabetic characters are sent in upper or lower case, respectively. Since Interlisp-D distinguishes between upper and lower case, it may be useful to keep the keyboard locked by pressing LOCK.Note the position of the control key, CTRL, at the bottom of the the left hand group of function keys.Booting the Xerox 1108 is accomplished by depressing and releasing buttons located on the Maintenance Panel (MP). The MP can be found behind the flap under the floppy drive. The panel contains the On/Off rocker switch (1 is on, 0 is off), a 4-digit readout, and two switches labeled B Reset and Alt B. Using these switches, it is possible to effect different modes of booting by choosing a 0-boot, 1-boot, 2-boot, etc.  To  boot the Xerox 1108, simultaneously press B Reset and Alt B. Then release B Reset.  The 4-digit readout shows 8888, then cycles slowly from 0000 to 0010.  Each number is displayed long enough to give you a chance to release  Alt  B.  When the number of your choice is displayed, release Alt  B.  If you  make a mistake, press B Reset and Alt B and start again. The Xerox 1108 may be booted as follows:0-boot restarts Interlisp-D from the most recent session; i.e., from the point of the last (LOGOUT). There are two other ways to get the same effect as a 0-boot: (1) power up the Xerox 1108, (2) use the Lisp System Tool, as described later in the section entitled Software Installation. If Interlisp-D has not been  installed, or if the user has aborted the previous  Interlisp-D  session  without  logging  out, the results of a 0-boot are unpredictable; the Maintenance Panel may show 0217. 1-boot places the Xerox 1108 in its base state: a black display with a bouncing white window. From this state, the mouse is used to enter either the Lisp System Tool or the diagnostics package. The system automatically does a 1-boot when LOGOUT is used to terminate an Interlisp-D session. Note: if the Xerox 1108 is not on a network with a timeserver, the 1-boot may pause with 0937 in the MP, waiting for time and date to be set (see below).2-boot boots the Xerox 1108 from an appropriately configured floppy disk. The Installation Utility, supplied with the Xerox 1108, is a such a floppy. It is used to control the transfer of Interlisp from floppies to the local disk.5-boot boots the Xerox 1108 from the Fixed Disk Diagnostics floppy, which runs a comprehensive set of machine diagnostics. See the section entitled Machine Diagnostics.Xerox supplies a number of software systems with the 1108.  Each system is recorded on one or more floppy disks.  The major system is Interlisp-D.  The remaining systems are a collection of tools for performing utilitarian functions such as software installation or machine fault diagnosis. Associated with each tool is a mouse-sensistive window which controls the behavior of the tool. See the section entitled System Tools.?Xerox 1108 software is designed to accept date and time information automatically from the network. If time service is not available -- or if the Xerox 1108 is not on a network -- date and time must be set manually. This may be accomplished by using the SETTIME function when Interlisp-D is running, or by 2-booting either the Installation Utility floppy or the Fixed Disk Diagnostic floppy and responding to the prompts for date and time. To call SETTIME when Interlisp-D is running, evaluate a form such as (SETTIME "9-APR-84  10:44:00").If date and time are not set (e.g., after powering up the Xerox 1108), certain system functions may pause indefinitely, waiting for this information to arrive over the network. For instance, when 1-booting, the boot process will suspend itself, with 0937 displayed in the Maintenance Panel. If no time service is available, date and time must be supplied manually, as described above.In general, the recommended mode of operation for systems without timeservice is to powerup the Xerox 1108 into Lisp, set time and date with SETTIME, and eventually LOGOUT into the base state. This should avoid the 0937 pause.NOTE:	Time information is not maintained when the machine is powered down.A sysout is a checkpointed version of an Interlisp-D environment. It contains all information needed to initialize virtual memory when Interlisp-D is started. In many respects, a sysout is the initial virtual memory. Each time a user logs out of Interlisp-D  by  evaluating  (LOGOUT),  the  state  of virtual memory is stored in the logical volume in which the user was running. Virtual memory can expand to a size no larger than the size of the logical volume.To create a sysout on a set of floppies, evaluate(SYSOUT '?FLOPPY?)To create a sysout file named FORMS in filedrawer LISP on Xerox product fileserver ALPHA, evaluate(SYSOUT '?ALPHA:?&lt;LISP&gt;FORMS.SYSOUT)Once the local disk has been partitioned, sysouts may be installed in logical volumes Lisp, Lisp2, etc.  The sysouts can be basic Lisp sysouts, as distributed by Xerox, or extended sysouts produced from Lisp by copying a sysout from a fileserver to a floppy set, or by doing (SYSOUT '?FLOPPY?).  To install a sysout from floppies, bring up the Lisp System Tool, specify the name of the volume that will receive the sysout, specify Floppy as the source of the sysout, and select the Install! command.To install a sysout from a fileserver to a Lisp volume on the local disk, use the Lisp System Tool. The System Tool is activated by pressing the left mouse button when the Xerox 1108 is in its base state. The System Tool window allows you to specify the name of the sysout on the fileserver and the name of the local disk volume into which the sysout will be installed.?The Lisp System Tool can be used to copy one Lisp volume to another. At the completion of this operation, both the source and destination volumes will contain identical versions of Lisp. This feature is useful for maintaining a "trusted" version of Lisp on a known volume and refreshing the other volumes with the "trusted" version as the need arises.Each Lisp volume on the local disk is a complete and separate Lisp environment. Before running Lisp, you must decide which Lisp volume to start executing. If you want to resume running in the most recently used Lisp volume, simply 0-boot the Xerox 1108. (Recall that power-up does an automatic 0-boot.) If you want to start Lisp in some other volume, 1-boot into the base state and activate the Lisp System Tool. The System Tool window will allow you to select a Lisp volume and start it.When Interlisp-D is started for the first time on any volume, it may ask you to supply the name of an Init file.  An Init file contains information that configures Interlisp-D for your installation. For example, the file INIT.NONET-1108 configures Interlisp-D for an 1108 that is not connected to a fileserver. Load the Library floppy containing INIT.NONET-1108 into the floppy drive and type ?FLOPPY?INIT.NONET-1108. If you prefer not to specify an Init file, type CR (carriage return.)You may also be prompted for a Pup host ID. For an explanation of this request, see the subsection entitled The Ethernet below.To terminate an Interlisp-D session, call (LOGOUT), which returns the Xerox 1108 to its base state.Xerox supplies two sets of floppies containing Interlisp-D software packages: Lisp Library, which contains software supported by Xerox; and Lisp Users, which contains user-written software not necessarily supported by Xerox.  To load selected files from these floppies, start Interlisp-D running from any Lisp volume, insert the floppy containing the file you need into the floppy disk drive, and use the LOAD function to read the file into virtual memory. For instance(LOAD '?FLOPPY?GRAPHER.DCOM)will load the Grapher package into virtual memory; i.e., the functions and variables defined in that file will now be defined in Interlisp's virtual memory. Alternatively, connect to the floppy device with CONN ?FLOPPY? and (LOAD 'GRAPHER.DCOM).When a file such as GRAPHER.DCOM is loaded, Interlisp-D attempts to automatically load all the files on which GRAPHER depends. Interlisp-D will fail to locate those files if they are stored on a floppy disk other than the one loaded in the floppy disk drive. One solution is to use COPYFILE to move files from Lisp Library and Lisp Users to a directory on a fileserver and load from that directory.In general, we endeavor to make Library floppies self contained, so that all files needed by a package are on the same floppy.? Two types of codes are displayed in the 4-digit readout on the Maintenance Panel: progress codes and error codes.Progress codes are displayed in the MP at various stages of booting and initialization. For instance, when the Xerox 1108 is powered up, the lights in the Maintenance Panel cycle from 8888 to 0000 through 0199, 0200, pause at 0500, and begin counting up.Error codes are traps which freeze or blink the error number in the MP.  They are usually fatal errors. Codes 9000-9999 are displayed by Interlisp-D to indicate a system failure such as an error in the address space manager or microcode errors.  Occasionally it is possible to recover by pressing the STOP key. The STOP key attempts to activate a remote debugging facility, Teleraid, running on another Xerox 1108 or 1100.  If Teleraid is not running, Interlisp-D will be restarted. If the failure persists, please note the MP code and notify Xerox 1100 Support.This section discusses a few frequently encoun-tered MP codes.0149 occurs a few seconds after power-up and indicates the local disk is not yet ready.0937 occurs after a 1-boot when the time and date are unknown.0322 occurs when a 5-boot attempts to load software from the Fixed Disk Diagnostic floppy, and the Xerox 1108 is not connected to the Ethernet. To force the booting process to continue, hold down Alt B until the MP code steps to 0323.?The Xerox 1108 is equipped with a controller for 10 Megabit Ethernet. This permits the Xerox 1108 to utilize the services of fileservers, printerservers, and non-Xerox equipment which speaks the appropriate protocols; it also allows the Xerox 1108 to communicate with other Xerox 1108's and 1100's on the net. Each Xerox 1108 processor is uniquely identified with a 48-bit NS host address. This number is used to identify the Xerox 1108 in every NS network transaction. Since Interlisp-D also uses PUP protocols, which use 8-bit PUP host addresses, your Xerox 1108 may prompt you for this number when Interlisp-D is started. Simply type in any octal number in the range 1-255. Make sure no other machine on the same net has already been assigned that number. In essence, each Xerox 1108 has two net host addresses: the 48-bit wired-in NS address, and an 8-bit, arbitrarily assigned PUP address.  (Note:  if a PUP ID Server is running, the PUP host number will be supplied automatically to the Xerox 1108.)Occasionally devices on the Ethernet may fail to communicate.  One possibility is that the net, itself, is at fault; e.g., the cable is shorted, the terminators were trampled upon, the Ethernet taps themselves contain metallic debris and need to be cleaned, etc. To test that the network is alive, perform the following steps. Use any two machines on the net which are running Interlisp-D. (If you choose an 1100, make sure it is running 10 Megabit microcode.) Call these Machine A and Machine B. On Machine A, type:?MY.NSADDRESSThe value of this variable looks like 0#0.1345.10654#0. Go to Machine B and type:(NS.ECHOUSER '0#0.1345.10654#)?Note the number typed is the same as the number given on Machine A without the number after the second "#". If the test is successful, you will see a pattern such as:!+!+!+!+!+!+!+!+!+!+!+!+The ! indicates a successful packet transmission; the + indicates the packet was successfully echoed back. Anything else indicates the net is down. If you suspect the net is shorted, unscrew the taps, one-by-one, of each machine on the net. When the offending tap has been removed, the test will display !+!+!+!+!+!.Xerox 1108s and 1100s can communicate amongst themselves on the Ethernet. A simple form of such communication is moving files between machines. This operation is PUP based, and as such requires that PUP host addresses have been assigned to the communicating machines. For example, to move file FOO from your machine to a machine with PUP host address 456, with both machines on the same net, do(COPYFILE 'FOO '?0#456#?FOO)To copy file FOO from filedrawer AI on fileserver ALPHA to a Xerox 1108 on net number 3 with PUP host address 123 while seated at your machine, type:	(COPYFILE '?ALPHA:?&lt;AI&gt;FOO '?3#123#?FOO)Note: file transmission is enabled when the PUPFTP process is running on the target machine. To activate this process, first load FTPSERVER.DCOM from the Lisp Library, then evaluate (ADD.PROCESS '(?FTPSERVER).?The floppy disk drive is used for loading the Xerox 1108 with Lisp sysouts recorded on floppy disks. The drive is also supported, with a few restrictions, by Interlisp-D. Consult the section entitled Input Output for a complete description.Interlisp-D defines a device, ?FLOPPY?, which allows file operations to be carried out on floppies. An additional operation, FLOPPY.FORMAT, initi-alizes a floppy for writing.  Operations such as LOAD, MAKEFILE, COPYFILE, READ, PRINT, and TCOMPL are all supported. This section is meant to review the flow of day-to-day operation of your Xerox 1108.Your Xerox 1108 arrives, with its 42 Megabyte local disk prepartitioned. Each of the three Lisp volumes has been loaded with identical versions of the Interlisp-D sysout. The first time you power up the machine, an automatic 0-boot will start Interlisp-D running on volume Lisp. Having defined functions, set the value of global variables, etc., you (LOGOUT), which saves the state of your work in volume Lisp.  Within a minute or two, the Xerox 1108 enters its "base state," and a white window bounces across a dark background.You bring up the Lisp System Tool and start Interlisp-D running from volume Lisp3. You (or another user) begin a project in volume Lisp3 and eventually log out. The machine returns to the bouncing window. You power down the machine and leave for the night.?The next day, you power up the machine and do a 1-boot. Within a few minutes, the white bouncing window comes up. You summon the Lisp System Tool and restart Interlisp-D from volume Lisp3.  After a  morning's work, you  write a sysout to your fileserver, thereby saving the state of your work. This sysout can be reinstalled into any Lisp volume by using the Lisp System Tool.A new version of Interlisp-D arrives in the mail. You install the new sysout on volume Lisp2 using the Lisp System Tool.A few days later, you wish to experiment with the sysout you saved on your fileserver. You bring up the Lisp System Tool, type in the name of the file where your sysout is stored, choose the logical volume which is to receive the sysout, enter your name and password, and select the Install File! command. Your sysout is intalled, and you select the Boot! command to run the sysout.?Keyboard Drawing</pre>
  </body>
</html>
