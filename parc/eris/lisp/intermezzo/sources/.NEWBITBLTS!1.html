<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <title>File [eris]&lt;Lisp>INTERMEZZO>SOURCES>NEWBITBLTS!1</title>
  </head>
  <body>
    <pre>
(FILECREATED " 4-Dec-84 14:04:43" {ERIS}&lt;LISPCORE&gt;SOURCES&gt;NEWBITBLTS.;1 7061         changes to:  (VARS NEWBITBLTSCOMS))(* Copyright (c) 1984 by Xerox Corporation. All rights reserved.)(PRETTYCOMPRINT NEWBITBLTSCOMS)(RPAQQ NEWBITBLTSCOMS ((FNS \BITBLT.IP \BITBLT.PRESS \INTERPRESSINIT \PRESSINIT)))(DEFINEQ(\BITBLT.IP  [LAMBDA (SOURCEBITMAP SOURCELEFT SOURCEBOTTOM DESTSTRM DESTINATIONLEFT DESTINATIONBOTTOM WIDTH 			HEIGHT SOURCETYPE OPERATION TEXTURE CLIPPINGREGION)                                                             (* hdj " 3-Dec-84 18:02")    (LET ((DESTINATIONLEFT (OR DESTINATIONLEFT (\DSPXPOSITION.IP DESTSTRM)))       (DESTINATIONBOTTOM (OR DESTINATIONBOTTOM (\DSPYPOSITION.IP DESTSTRM)))       (SOURCELEFT (OR SOURCELEFT 0))       (SOURCEBOTTOM (OR SOURCEBOTTOM 0))       (WIDTH (OR WIDTH (BITMAPWIDTH SOURCEBITMAP)))       (HEIGHT (OR HEIGHT (BITMAPHEIGHT SOURCEBITMAP)))       (OLDX (\DSPXPOSITION.IP DESTSTRM))       (OLDY (\DSPYPOSITION.IP DESTSTRM)))      (\MOVETO.IP DESTSTRM DESTINATIONLEFT DESTINATIONBOTTOM)      (SHOWBITMAP.IP DESTSTRM SOURCEBITMAP (COND		       (CLIPPINGREGION (INTERSECTREGIONS CLIPPINGREGION (CREATEREGION SOURCELEFT 										     SOURCEBOTTOM 										      WIDTH HEIGHT)))		       (T (CREATEREGION SOURCELEFT SOURCEBOTTOM WIDTH HEIGHT)))		     1)      (\MOVETO.IP DESTSTRM OLDX OLDY])(\BITBLT.PRESS  [LAMBDA (SOURCEBITMAP SOURCELEFT SOURCEBOTTOM DESTSTRM DESTINATIONLEFT DESTINATIONBOTTOM WIDTH 			HEIGHT SOURCETYPE OPERATION TEXTURE CLIPPINGREGION)                                                             (* hdj " 3-Dec-84 17:56")    (LET [(DESTINATIONLEFT (OR DESTINATIONLEFT (\DSPXPOSITION.PRESS DESTSTRM)))       (DESTINATIONBOTTOM (OR DESTINATIONBOTTOM (\DSPYPOSITION.PRESS DESTSTRM)))       (SOURCELEFT (OR SOURCELEFT 0))       (SOURCEBOTTOM (OR SOURCEBOTTOM 0))       (WIDTH (OR WIDTH (BITMAPWIDTH SOURCEBITMAP)))       (HEIGHT (OR HEIGHT (BITMAPHEIGHT SOURCEBITMAP]      (\WRITEPRESSBITMAP SOURCEBITMAP DESTINATIONLEFT DESTINATIONBOTTOM 1			 (COND			   (CLIPPINGREGION (INTERSECTREGIONS CLIPPINGREGION							     (CREATEREGION SOURCELEFT SOURCEBOTTOM 									   WIDTH HEIGHT)))			   (T (CREATEREGION SOURCELEFT SOURCEBOTTOM WIDTH HEIGHT)))			 DESTSTRM])(\INTERPRESSINIT  [LAMBDA NIL                                                (* hdj " 3-Dec-84 17:19")    (DECLARE (GLOBALVARS \IPIMAGEOPS \ASCIITONS \ASCIITOSTAR HIPPOTONS))    (SETQ \IPIMAGEOPS (create IMAGEOPS			      IMAGETYPE &larr;(QUOTE INTERPRESS)			      IMCLOSEFN &larr;(FUNCTION \CLOSEIPSTREAM)			      IMXPOSITION &larr;(FUNCTION \DSPXPOSITION.IP)			      IMYPOSITION &larr;(FUNCTION \DSPYPOSITION.IP)			      IMFONT &larr;(FUNCTION \DSPFONT.IP)			      IMLEFTMARGIN &larr;(FUNCTION \DSPLEFTMARGIN.IP)			      IMRIGHTMARGIN &larr;(FUNCTION \DSPRIGHTMARGIN.IP)			      IMLINEFEED &larr;(FUNCTION \DSPLINEFEED.IP)			      IMDRAWLINE &larr;(FUNCTION \DRAWLINE.IP)			      IMDRAWCURVE &larr;(FUNCTION \DRAWCURVE.IP)			      IMDRAWCIRCLE &larr;(FUNCTION \DRAWCIRCLE.IP)			      IMDRAWELLIPSE &larr;(FUNCTION \DRAWELLIPSE.IP)			      IMFILLCIRCLE &larr;[FUNCTION (LAMBDA (STREAM)				  (\UNIMPIMAGEOP STREAM (QUOTE FILLCIRCLE]			      IMBLTSHADE &larr;[FUNCTION (LAMBDA (STREAM)				  (\UNIMPIMAGEOP STREAM (QUOTE BLTSHADE]			      IMBITBLT &larr;(FUNCTION \BITBLT.IP)			      IMMOVETO &larr;(FUNCTION \MOVETO.IP)			      IMSCALE &larr;[FUNCTION (LAMBDA NIL				  (CONSTANT (FQUOTIENT MICASPERINCH POINTSPERINCH]			      IMTERPRI &larr;(FUNCTION NEWLINE.IP)			      IMBOTTOMMARGIN &larr;(FUNCTION \DSPBOTTOMMARGIN.IP)			      IMTOPMARGIN &larr;(FUNCTION \DSPTOPMARGIN.IP)			      IMFONTCREATE &larr;(QUOTE INTERPRESS)			      IMNEWPAGE &larr;(FUNCTION NEWPAGE.IP)			      IMSPACEFACTOR &larr;(FUNCTION \DSPSPACEFACTOR.IP)			      IMSTRINGWIDTH &larr;(FUNCTION \STRINGWIDTH.IP)			      IMCHARWIDTH &larr;(FUNCTION \CHARWIDTH.IP)))          (* * Translation table for standard ascii to NS)    [SETQ \ASCIITONS (NSMAP NIL (QUOTE ((&uarr; 0 173)					 (&larr; 0 172)					 ($ 0 164)					 (- 33 62)					 (&uarr;N 0 197)					 (&uarr;S 239 37)					 (&uarr;V 239 36)					 (&uarr;X 0 45)					 (&uarr;O 239 45)					 (&uarr;\ 239 44)					 (&uarr;Y 239 46)					 (&uarr;D 0 200)					 (&uarr;G 0 169)					 (&uarr;H 0 161)					 (&uarr;B 0 191)					 (96 0 185)					 (#&uarr;%[ 239 36)					 (#&uarr;\ 239 37)					 (#7 239 102]        (* Map from ASCII to printer character code 							     (XC1-1-1 NS Encoding standard))    [SETQ \ASCIITOSTAR (NSMAP NIL (QUOTE ((&uarr; 0 173)					   (&larr; 0 172)					   ($ 0 164)					   (&uarr;N 0 197)					   (&uarr;S 239 37)					   (&uarr;V 239 36)					   (&uarr;X 0 45)					   (&uarr;O 239 45)					   (&uarr;\ 239 44)					   (&uarr;Y 239 46)					   (&uarr;D 0 200)					   (&uarr;G 0 169)					   (&uarr;H 0 161)					   (&uarr;B 0 191)					   (96 0 185)					   (#&uarr;%[ 239 36)					   (#&uarr;\ 239 37)					   (#7 239 102]          (* Map from ASCII to wedged OSD screen &amp; .WD file character coding (alleged to be XC2-x-x, soon to come). The 	  difference is that "-" maps to itself for width purposes.)                                                             (* Last 4 are backquote, hyphen instead of minus sign, 							     en dash, em dash, bullet)    ])(\PRESSINIT  [LAMBDA NIL                                                (* hdj " 3-Dec-84 17:04")    (DECLARE (GLOBALVARS \PRESSIMAGEOPS))    (SETQ \PRESSIMAGEOPS (create IMAGEOPS				 IMAGETYPE &larr;(QUOTE PRESS)				 IMCLOSEFN &larr;(FUNCTION \CLOSEF.PRESS)				 IMXPOSITION &larr;(FUNCTION \DSPXPOSITION.PRESS)				 IMYPOSITION &larr;(FUNCTION \DSPYPOSITION.PRESS)				 IMFONT &larr;(FUNCTION \DSPFONT.PRESS)				 IMLEFTMARGIN &larr;(FUNCTION \DSPLEFTMARGIN.PRESS)				 IMRIGHTMARGIN &larr;(FUNCTION \DSPRIGHTMARGIN.PRESS)				 IMLINEFEED &larr;(FUNCTION \DSPLINEFEED.PRESS)				 IMDRAWLINE &larr;(FUNCTION \DRAWLINE.PRESS)				 IMDRAWCURVE &larr;(FUNCTION \DRAWCURVE.PRESS)				 IMDRAWCIRCLE &larr;(FUNCTION \DRAWCIRCLE.PRESS)				 IMDRAWELLIPSE &larr;(FUNCTION \DRAWELLIPSE.PRESS)				 IMFILLCIRCLE &larr;[FUNCTION (LAMBDA (STREAM)				     (\UNIMPIMAGEOP STREAM (QUOTE FILLCIRCLE]				 IMBLTSHADE &larr;[FUNCTION (LAMBDA (STREAM)				     (\UNIMPIMAGEOP STREAM (QUOTE BLTSHADE]				 IMBITBLT &larr;(FUNCTION \BITBLT.PRESS)				 IMSCALE &larr;[FUNCTION (LAMBDA NIL				     (CONSTANT (FQUOTIENT MICASPERINCH 72]				 IMTERPRI &larr;(FUNCTION NEWLINE.PRESS)				 IMBOTTOMMARGIN &larr;(FUNCTION \DSPBOTTOMMARGIN.PRESS)				 IMTOPMARGIN &larr;(FUNCTION \DSPTOPMARGIN.PRESS)				 IMFONTCREATE &larr;(QUOTE PRESS)				 IMNEWPAGE &larr;(FUNCTION NEWPAGE.PRESS)				 IMSPACEFACTOR &larr;(FUNCTION \DSPSPACEFACTOR.PRESS)				 IMSTRINGWIDTH &larr;(FUNCTION \STRINGWIDTH.PRESS)				 IMCHARWIDTH &larr;(FUNCTION \CHARWIDTH.PRESS]))(PUTPROPS NEWBITBLTS COPYRIGHT ("Xerox Corporation" 1984))(DECLARE: DONTCOPY  (FILEMAP (NIL (318 6980 (\BITBLT.IP 328 . 1463) (\BITBLT.PRESS 1465 . 2431) (\INTERPRESSINIT 2433 . 5424) (\PRESSINIT 5426 . 6978)))))STOP</pre>
  </body>
</html>
