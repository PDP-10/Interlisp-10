filed on [rose]<lisp>fugue6>doc>Overview.bravo(635)\f1i46f0I1.   Xerox 1108 Overviewc\f9This section is an informal description of the day-to-day operation of the Xerox 1108.  Subsequent sections of this manual contain detailed explanations of the operational procedures sketched below.Operations OverviewOnce the Xerox 1108 has been properly loaded with Xerox software, its operation is straightforward.  Powering up the Xerox 1108 automatically starts Interlisp-D.  When the user has completed a session, he does a (LOGOUT) which saves the state of the current session until the next time Interlisp-D is started.  The process of logging out puts the Xerox 1108 in its base state: a black screen with a small bouncing white window.  From this state it is possible to (a) resume an earlier Interlisp-D session, (b) load fresh versions of Interlisp-D, (c) run machine diagnostics. On Xerox 1108's with sufficient disk storage, more than one  Interlisp-D environment can be maintained on the local disk.  Separate software projects can be supported under each environment.  To switch from one project to another, (LOGOUT) of the first environment and enter the second.  Special software is provided to facilitate this switching back and forth.Occasionally errors and problems arise during the operation of the Xerox 1108.  These are usually signalled via the LED lights on the Maintenance Panel.  Please refer to the section  entitled Maintenance Panel Codes  for help in diagnosing such problems.\202f5b19f0BThe Local Disk\f5bThe Xerox 1108 is equipped with a 10, 29, or 42 Megabyte local disk.  The disk is formatted into two or more logical volumes; the number and size of these logical volumes depends on the size of the disk.  The 10 Megabyte disk is partitioned into two logical volumes named Diagnostics and Lisp.  The 29 and 42 Megabyte disks can be partitioned into four logical volumes: Diagnostics, Lisp, Lisp2 and Lisp3.  The disk is partitioned using utility software distributed by Xerox.  In subsequent releases of this software, the user will be able to define the name and size of each logical volume.\109i15I148i11I5i4I78i25I4i5ILogical volume  Diagnostics contains software for running diagnostics on the display, keyboard, mouse, floppy disk drive, and Ethernet.  It also contains a software package, the Install Lisp Tool, for initializing the local disk with Lisp software and switching back and forth between  Interlisp-D environments stored on the local disk.  \179i17ILogical volumes Lisp, Lisp2 and Lisp3 can each contain a complete Interlisp-D environment.  Each volume holds the Lisp virtual memory which is initialized from floppy disks or a fileserver. Although the Xerox 1108 can operate out of  only one logical volume at a time, within each logical volume, an independent software project can be developed. As mentioned, the Install Lisp Tool is used to switch the Xerox 1108 from one logical volume to another. The Keyboard\f5bThe Xerox 1108 keyboard is designed to accommodate both programming and word processing applications.  As such, many of the key caps may seem inappropriate in the realm of pure Lisp programming.  Xerox will shortly offer a new set of key caps which will result in a more intuitive programmer keyboard.  In the meantime, please consult the keyboard map at the end of this document.  It establishes the location of many keys needed by Interlisp-D. The LOCK and UNLCK keys determine whether alphabetic characters are sent in upper or lower case, respectively.  Since Interlisp-D distinguishes between upper and lower case, it may be useful to keep the keyboard locked by pressing LOCK. \5f6 4f0 5f6 5f0 213f6 4f0For Xerox 1108's equipped with a 2-button mouse, the function key labeled Middle Mouse corresponds to the middle button of the 3-button mouse.\75f6 12f0Note the position of the control key, CTRL, at the bottom of the the left hand group of function keys.\38f6 4f0Booting the Xerox 1108\f5bBooting the Xerox 1108 is accomplished by depressing and releasing buttons located on the Maintenance Panel (MP).  The MP can be found behind the flap under the floppy drive.  The panel contains the On/Off rocker switch (1 is on, 0 is off), a 4-digit readout, and two switches labeled B Reset and Alt B.  Using these switches, it is possible to effect different modes of booting by choosing a 0-boot, 1-boot, 2-boot, etc.   To boot the Xerox 1108, simultaneously press B Reset and Alt B.  Then release B Reset. The 4-digit readout shows 8888, then cycles slowly from 0000 to 0010.   Each number is displayed long enough to give you a chance to release Alt B. When the number of your choice is displayed, release Alt B.  If you make a mistake, press B Reset and Alt B and start again.  The Xerox 1108 may be booted as follows:0-boot restarts  Interlisp-D from the most recent session; i.e., from the point of the last (LOGOUT).  There are two other ways to get the same effect as a 0-boot: (1) power up the Xerox 1108, (2) use the Install Lisp Tool, as described later in the section entitled Software Installation.  If Interlisp-D has not been installed, or if the user has aborted the previous Interlisp-D session  without logging out, the results of a 0-boot are unpredictable; the Maintenance Panel may show 0217.  1-boot places the Xerox 1108 in its base state: a black display with a bouncing white window.  From this state, the mouse is used to enter either the Install Lisp Tool or the diagnostics package.   Note: if the Xerox 1108 is not on a network with a timeserver, the 1-boot will pause with 0937 in the MP, waiting for time and date to be set.  This can be accomplished by 2-booting the Installation Utility or Dixed Disk Diagnostics floppy (see below).  2-boot boots the Xerox 1108 from an appropriately configured floppy disk. The Installation Utility, supplied with the Xerox 1108, is a such a floppy.  It is used to control the transfer of Interlisp from floppies to the local disk.5-boot boots the Xerox 1108 from the Fixed Disk Diagnostics floppy, which runs a comprehensive set of machine diagnostics. See the section entitled Hardware Diagnostics.SoftwareXerox supplies a number of software systems with each 1108.  Each system is recorded on one or more floppy disks.  The major system is Interlisp-D.  The remaining systems are a collection of tools for performing utilitarian functions such as software installation or machine fault diagnosis.  Associated with each tool is a mouse-sensistive window which controls the behavior of the tool.  See the section entitled 1108 System Tools.The Lisp SysoutA sysout is a checkpointed version of an Interlisp-D environment.  It contains all the information needed to initialize virtual memory when Interlisp-D is started.  In many respects, a sysout is the initial virtual memory.  Each time a user logs out of Interlisp-D by evaluating (LOGOUT), the state of virtual memory is stored in the logical volume in which the user was running.  Virtual memory can expand to a size no larger than the size of the logical volume.\222f6b1f0B8f6b1f0B54f6 7f0 5f6 5f0 91i23I53f6 8f0 4f6 5f0 16f6 7f0 143f6 5f0 55f6 5f0 32f6 7f0 5f6 6f0 15f6 1f0 44b6B217f6 1f0 43i24I204b6B85i4I164b2B193b6B227b6B21f5b1f0B120i8I1i11I3f5b8f0B417i17I5f5b15B1f0 3i6I184i2ITo create a sysout file named FORMS in filedrawer LISP on fileserver ALPHA, evaluate(SYSOUT  '{ALPHA:}<LISP>FORMS.SYSOUT)e6c  Installing Software from FloppiesLoad the floppy disk drive with the floppy labeled Installation Utility.  Do a 2-boot.  After about a minute, a menu of options will be displayed.   The menu items permit you to (a) partition the local disk into logical volumes, (b)  install software on the Diagnostics volume, (c) initialize Lisp volumes with a fresh Interlisp-D sysout, (d) start Interlisp-D running on one of the Lisp volumes.Your Xerox 1108 arrives pre-partitioned and loaded with Interlisp-D.  You will need the Installation Utility each time you wish to install a fresh Interlisp-D  sysout on a logical volume from floppies.  Occasionally, a catastrophic software error may require you to re-partition the local disk.From time to time, new releases of Interlisp-D will be distributed to Xerox 1108 users.  The Installation Utility should be used to install these new sysouts.Installing Software on the Diagnostics VolumeThis operation is perhaps the most complicated aspect of bringing up your Xerox 1108.  Loading the Diagnostics volume requires careful adherence to the instructions in section entitled Software Installation.  At the completion of this operation, the Diagnostics volume will contain:  diagnostic software, the Install Lisp Tool, microcode to facilitate a 1-boot, and a file containing site-specific information.  In particular, you will be asked to supply names for your site's domain and organization.  If you are running a Xerox NS Clearinghouse, these names must be the same as those assigned when your Clearinghouse was created.  If you are not running a Clearinghouse, then any names will do.Loading Interlisp-D PackagesXerox supplies two sets of floppies containing Interlisp-D software packages: Lisp Library, which contains software supported by Xerox; and Lisp Users, which contains user-written software not necessarily supported by Xerox.  To load selected files from these floppies, start Interlisp-D running from any Lisp volume, insert the floppy containing the file you need into the floppy disk drive, and use the LOAD function to read the file into virtual memory.  For instance\6f5b33Bi1f0 1I787i21I47f5b45B1f0 98i2I86i21I493f5b28B1f0 78i15I48i10I(LOAD '{FLOPPY}GRAPHER.DCOM)e6cwill load the Grapher package into virtual memory; i.e., the functions and variables defined in that file will now be defined in Interlisp's virtual memory.  Alternatively, connect to the floppy device with CONN {FLOPPY} and (LOAD 'GRAPHER.DCOM).e6When a file such as GRAPHER.DCOM is loaded, Interlisp-D attempts to automatically load all the files  on which GRAPHER depends.  Interlisp-D will fail to locate those files if they are stored on a floppy disk other than the one loaded in the floppy disk drive.  One solution is to use COPYFILE to move files from Lisp Library and Lisp Users to a directory on a fileserver and load from that directory. The Install Lisp ToolThe Install Lisp Tool is activated from the "base state" by clicking the left mouse button.  The Tool can be used to display the names of all the logical volumes on your local disk, erase a logical volume, transfer a sysout from one logical volume to another or from a fileserver to a logical volume, and start/restart Interlisp-D on a particlar logical volume.  The Install Lisp Tool is completely described in the the section entitled Software Installation.Maintenance Panel CodesTwo types of codes are displayed in the 4-digit readout on the Maintenance Panel:  progress codes and error codes.  \314i12I5i10I65f5b21f0B438i23I3f5b23f0BProgress codes are displayed in the MP at various stages of booting and initialization. For instance, when the Xerox 1108 is powered up,  the lights in the Maintenance Panel cycle from 8888 to 0000 through 0199, 0200, pause at 0500, and begin counting up.  Error codes are traps which freeze or blink the error number in the MP.  They are usually fatal errors.  Codes 9000-9999 are displayed by Interlisp-D to indicate a system failure such as an error in the address space manager or microcode errors.   Occasionally it is possible to recover by pressing the STOP key.  The STOP key attempts to activate a remote debugging facility, Teleraid, running on another Xerox 1108  or 1100 (see the Fugue.4 Release Notes for details.)   If Teleraid is not running,  Interlisp-D will be restarted.  If the failure persists, please note the MP code and notify Xerox 1100Support.\436i22IThis section discusses a few frequently encountered MP codes. 0149 occurs a few seconds after power-up and indicates the local disk is not yet ready.\1b4B0937 occurs after a 1-boot when the time and date are unknown.  Time and date can be set manually by 0-booting into Interlisp-D and using the SETTIME function, or by 2-booting the EI Fixed Disk diagnostics floppy and responding to the prompts for setting date and time.   When (SETTIME) is evaluated under Interlisp-D, the user is prompted to enter a string in the form "22-JAN-84 13:21:00".  When the Installation Utility prompts for time and date, pressing "?" in response to each query will  reveal what is expected from the user.  Once time has been set,  either logging out of Interlisp-D, or doing a 1-boot out of the Installation Utility, will return the Xerox 1108 to its "base state".  \b4B451b1B234b0322 occurs when a 5-boot attempts to load software from the Fixed Disk Diagnostics floppy, and the Xerox 1108 is not connected to the Ethernet.  To force the booting process to continue, hold down Alt B until the MP code steps to 0323.\b5B194f6 5f0The Ethernet\f5bThe Xerox 1108 is equipped with a controller for 10 Megabit Ethernet.  This permits the Xerox 1108 to utilize the services of  fileservers, printerservers, and non-Xerox equipment which speaks the appropriate protocols; it also allows the Xerox 1108 to communciate with other Xerox 1108's and 1100's on the net.  Each Xerox 1108 processor is uniquely identified with a 48-bit NS host address.  This number is used to identify the Xerox 1108 in every NS network transaction.  Since Interlisp-D also uses PUP protocols, which use 8-bit PUP host addresses, your Xerox 1108 may prompt you for this number when Interlisp-D is started.  Simply type in any octal number in the range 0-255.  Make sure no other machine on the same net has already been assigned that number.   In essence, each Xerox 1108 has two net host addresses: the 48-bit wired-in NS address, and an 8-bit, arbitrarily assigned PUP address.  (Note: if a PUP ID Server is running, the PUP host number will be supplied automatically to the Xerox 1108.)\651i5IOccasionally devices on the Ethernet may fail to communicate.  One possibility is that the net, itself, is at fault; e.g., the cable is shorted, the terminators were trampled upon, the Ethernet taps themselves contain metallic debris and need to be cleaned, etc.  To test that the network is alive, perform the following steps.  Use any two machines on the net which are running Interlisp-D.  (If you choose an 1100, make sure it is running 10 Megabit microcode.)  Call these Machine A and Machine B.  On Machine A, type:\MY.NSADDRESSe6cThe value of this variable looks like 0#0.1345.10654#0.  Go to Machine B and type:e6(NS.ECHOUSER '0#0.1345.10654#)e6cNote the number typed is the same as the number given on Machine A without the number after the second "#".  If the test is successful, you will see a pattern such as:e6!+!+!+!+!+!+!+!+!+!+!+!+e6cThe ! indicates a successful packet transmission; the + indicates the packet was successfully echoed back.  Anything else indicates the net is down.  If you suspect the net is shorted, unscrew the taps, one-by-one, of each machine on the net.  When the offending tap has been removed, the each test will display !+!+!+!+!+!.e6\4b1B49b1BCopying Files Between MachinesXerox 1108's and 1100's can communicate amongst themselves on the Ethernet.  A simple form of such communication is moving files between machines.  This operation is PUP based, and as such requires that PUP host addresses have been assigned to the communicating machines.  For example, to move file FOO from  your machine  to a machine with PUP host address 456, with both machines on the same net,  do \f5b30f0B(COPYFILE  'FOO '{0#456#}FOO)e6cTo copy  file FOO from filedrawer AI on fileserver ALPHA to a Xerox 1108 on net number 3 with PUP host address 123 while seated at your machine, type:e6\131i4I(COPYFILE  '{ALPHA:}<AI>FOO  '{3#123#}FOO)e6cNote: file transmission is enabled when the PUPFTP process is running on the target machine.  To activate this process, first load FTPSERVER.DCOM from the Lisp Library, then evaluate (ADD.PROCESS  '(\FTPSERVER).e6The Floppy Disk Drive\f5bThe floppy disk drive is used by the Installation Utility for loading the Xerox 1108 with Lisp sysouts recorded on floppy disks.  The drive is also supported, with a few restrictions, by Interlisp-D.  Consult the section entitled I/O Support for a complete description.\231i11IInterlisp-D defines a device, {FLOPPY}, which allows file operations to be carried out on floppies.  An additional operation, (FLOPPY.FORMAT name) initializes a floppy for writing.  Operations such as LOAD, MAKEFILE, COPYFILE , READ, PRINT, and TCOMPL are all supported.  SummaryThis section is meant to review the flow of day-to-day operation of your Xerox 1108.Your Xerox 1108 arrives, with its 42 Megabyte local disk  pre-partitioned. Each of the three Lisp volumes has been loaded with identical versions of the Interlisp-D sysout.  The first time you power up the machine, an automatic 0-boot will start Interlisp-D running on volume Lisp.  Having defined functions, set the value of global variables, etc., you (LOGOUT), which saves the state of your work  in volume Lisp.  Within a minute or two, the Xerox 1108 enters its "base state", and a white window bounces across a dark background.You bring up the Install Lisp Tool and start Interlisp-D running from volume Lisp3.  You (or another user) begins a project in volume Lisp3 and eventually logs out.  The machine returns to the bouncing window.  You power down the machine and leave for the night.The next day, you power up the machine and do a 1-boot.  Within a few minutes, the white bouncing window comes up.  You summon the Install Lisp Tool and restart Interlisp-D from volume Lisp3.  After a morning's work, you write a sysout to your fileserver, thereby saving the state of your work.  This sysout can be re-installed into any Lisp volume by using the Install Lisp Tool. \275f5b7B1f0A new version of Interlisp-D arrives in the mail.  You install the new sysout on volume Lisp2 by 2-booting the Installation Utility and  selecting the appropriate menu items.A few days later, you wish to experiment with the sysout you saved on your fileserver.  You bring up the Install Lisp Tool, type in the name of the file where your sysout is stored, chose the logical volume which is to receive the sysout, enter your name and password, and select the Install File! command.  Your sysout is intalled , and you select the Start Lisp Volume! command to run the sysout.\284f6 13f0 56f6 19f0