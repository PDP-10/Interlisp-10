<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <title>File [eris]&lt;Lisp>Fugue.6>Ucode>StartLisp.mc!1</title>
  </head>
  <body>
    <pre>
{File name:  StartLisp.mc don 19-Aug-83 15:28:50 }Reserve[0F6F]; Reserve[0F78]; Reserve[0F7F,0FFF];	{Kernel}SetTask[0];Set[IOPage.keyBitsm1, 39];StartAddress[Germ];Germ:	L &larr; 41, CANCELBR[SetMDS,0F],	c1, at[0,2,Germ];	L &larr; 41, CANCELBR[SetMDS,0F],	c1, at[1,2,Germ];SetMDS:	IOPCtl &larr; IOPInMode,	c2;	DCtl &larr; L LRot0,	c3;	uWP &larr; 0, ClrIntErr,	c1;	TOS &larr; 0, rhMDS &larr; 0	c2;	rhTT &larr; TT &larr; uIOPage,	c3;{set all keys up; 1403A thru 14040 &larr; -1}	stackP &larr; 0,	c1;	T &larr; 0FF LShift1, SE &larr; 1,	c2;	Q &larr; 7,	c3;KeyLoop:	MAR &larr; [rhTT,IOPage.keyBitsm1+Q], BRANCH[$,KeyDone],	c1;	MDR &larr; L xor ~L, CANCELBR[$,0],	c2;	Q &larr; Q - 1, ZeroBr, GOTO[KeyLoop],	c3;KeyDone:	KCtl &larr; 0, PC &larr; 0+0+1, CANCELBR[$,0],	c2;	uWDC &larr; PC,	c3;	MAR &larr; [rhTT, IOPage.DSCB.fieldCmd+0],	c1;	MDR &larr; L,	c2;	T &larr; T + 3,	c3;LastChance:	MAR &larr; [rhTT, IOPage.DSCB.syncCmd+0],	c1;	MDR &larr; L,	c2;	L &larr; 0, GOTO[EFCHaveLink],	c3;</pre>
  </body>
</html>
