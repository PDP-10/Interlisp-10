-- LispTool.doc-- last edited by-- JFung.pasa	   	  114-Jan-85 10:27:25Filed: 	[Dante]<LispInstallation>Harmony>LispTool.doc	The LispTool integrates several system functions to allow an easy installation of Interlisp softwares on your 1108 from a Tajo volume.  		It supports the following features:		a.	Loading of Lisp Sysout(hardMicrocode) file from PUP, NS file servers and from floppy device.	b.	Boot command of both lisp type and non-lisp type volumes. 	c.	Erase command to erase the contens of a logical volume.	d.	Scavenge command on indiviual logical volume.	e.	Set Max. VMem command to set the Interlisp's virtual memory file.	f.	Copy Virtual Memory command from one logical volume to another.	g.	Limited floppy features.	h.	Repartitioning and renaming disk volumes via the Installation Utility floppy.		LISP TOOL WINDOW		Following are the command items in the Command subwindow:	Install File!	Boot!		Erase!   	Set Max. VMem!	Make Script!  Help!	Copy VMem!	Scavenge!	Floppy!		Quit!			Following are the data parameter items in the Parameter subwindow, for illustration purpose some sample values are used.	       	Document: {General, ErrorMsg}	Device: {IFS, FS, FLOPPY}	Max. VMem Size = nnnnn	File: [Host]<Directory>SubDirectory>fileName.sysout	Volume Menu: Lisp		Volume Size = nnnnn		Free Pages = nnnn	User: Guest.pasa		Password: ******		VMem Size = nnnn	 	Domain:	XSIS			Organization: XEROX			DATA PARAMETERS		Document:	An enumerated item and is used in conjunction with the Help! command.  It is used to select which online document is to be displayed in the file subwindow for a quick reference.  'General' displays the overall features of the tool, while the 'ErrorMsg' displays the semantics of the error messages in the tool.	Device:		An enumerated item consists of a) IFS: the interim file server with PUP protocols and the b) FS (product file server) with NS protocols and c) Floppy device on your Dandelion for reading sysout floppies into the lisp volume.	File:		A string item, specifies the pathname of the file to be installed.  The syntax of the path name is:A file name has the following syntax, with all fields optional: "[host]<dir1>dir2>...>dirN>filename!version"  When both host and directory fields are absent, it installs the filename on the volume where the tool is run.The delimiters on the pathname depends on the particular file system on your host machine.  	For example, on a Xerox's IFS the pathname looks like [Host]<Directory>SubDirectory>FileName.ext!version.  	A typical example would be [Rosebowl]<Lisp>Fugue>Lisp.sysout.	On a Xerox's product file server the pathname looks like [Host:Domain:Organization]<Directory>FileName.ext!version.  	A typical example would be [Phylex:XSIS North:Xerox]<Demo>Demo.sysout	An equivalent but shorter way would be [Phylex:]<Demos>Demo.sysout	On a Unix file server the pathname looks like [host]</directory/subdirectory/>filename.ext  	A typical example would be [safe]</a/lisp/fugue4/>lisp.sysout		On a VAX-VMS file server the pathname looks like [Host]<Directory.SubDirectory>FileName.ext;version.  	A typical example would be [Taos]<DEIProd.Prior]Lisp.sys	On a DEC-2060 TOPS-20 file server, the pathname looks like [Host]<Directory.SubDirectory>FileName.Sys.version.  	A typical example would be [Sumex-2060]<Dolphin.Fugue6.BetaTest>Lisp.sysout.		For FLOPPY device, it is the file name on the floppy.		(If lisp.sysout is already on your Tajo volume then specify File: Lisp.Sysout can install to a lisp volume).  	Volume Menu:	An enumerated item which only gets popped by chording your mouse button(presing both buttons on a 2-button mouse or middle button on a 3-button mouse).  If 'Lisp' volume is present in your machine, it gets selected as the default volume, else nothing is selected.   NOTE: At this release (Harmony) the Lisp Local File System (LISPFILES)volume is not completely Pilot compatable and will not appear in the Volume Menu once the directory is created.		Max.VMem Size:	A numeric item which shows the maximum size of virtual memory file.  This parameter is only meaningful to a lisp-type volume, non-lisp volumes or an empty lisp volume will show zero pages.		Volume Size:	A numeric item which indicates the volume size in pages.		Free Pages:  	A numeric item which indicates the available pages in the volume.		VMem Size:  	A numeric item which indicates the current Virtual Memory of the Lisp volumee.		User:		A String item which is your PUP/NS registered user name. For PUP name, the registry should be appended.		Password:	A String item which is your associated password for login.		Domain:		A String item which is your domain name as defined in your Clearinghouse database, and is necessary for NS service.		Organization:	A String item which is your organization name as defined in your Clearinghouse server, and is necessary for NS service.	COMMAND ITEMS:	Install File!:  Fetch the file specified in the file pathname into the volume selected.   A confirming mouse 'icon' will appear in the file sub-window with the name of the volume to which the file will be installed.		Boot!: 	Boots the volume selected.      	Erase!:  Erases the volume selected. (NOTE: Until LISPFILES is Pilot compatible, erasing of LispFiles volume can be achieved from Othello/Hello or Installation Utility floppy.	      	Set Max. VMem!: Varies the size of the Interlisp's vitual memory file.       	Make Script!: Make Script allows you to repartition your disk with names and sizes your provide.  This command adds the new configuration together with standard system supplied configurations into the script file which is located in your Installation Utility floppy.  You may consider make a duplicate of your Installation Utility floppy before you exercise this command.  When partitioning a disk, it is imperative to use all the disk pages available. If this is not done and then later the disk is damaged, the physical volume my be unscavengable. For this reason, the tool explicitly makes the last volume to take the residual pages in the disk.  This command pops a new window with the following parameters:	DiskType: {10Mb, 29Mb, 42Mb}	DriveSize: nnnnn	Free Pages: nnnn	Volume1 Name: SystemTools		Volume1 Size: 3500	Volume2 Name: 				Volume2 Size: 0	Volume3 Name: 				Volume3 Size: 0	Volume4 Name: 				Volume4 Size: 0	Volume5 Name: 				Volume5 Size: 0	Volume6 Name: 				Volume6 Size: 0	Volume7 Name: 				Volume7 Size: 0	Volume8 Name: 				Volume8 Size: 0	Volume9 Name: 				Volume9 Size: 0	Volume10 Name: 				Volume10 Size: 0		Make Script!				Quit!Selecting the DiskType will yield the total disk drive size in pages and the free pages count less the Volume1 size.  Volume1 has been predefined for you.  When editing the Volume Name field, it will dynamically updates the 'Free Pages' field, this lets you know your current free pages count.  When you are all done with the specification, then click the 'Make Script' command, which will prompt you for a confirmation and ask for Installation Utility floppy.  At the end of the floppy operation, do a 2-boot on your floppy you should see your definition appears as the first item in the menu.	Parameter items for 'Make Script!':		DiskType: An enumerated item indicates the type of disk to be used.  Selecting the DiskType will yield the total disk drive size in the DriveSize parameter.			DriveSize: A numeric item which shows the total disk pages available on the disk selected.		Free Pages: A numeric item which dynamically displays the free pages left after each logical volume name being edited.		Volume1 Name: A string item which is write-protected.			Volume1 Size: A numeric item which is also write-protected and has the value 3500 assigned to it.		Volume2 Name - Volume10 Name:  A string item and shows the name of the volume to be configured.  When this Name field is edited, the 'Free Pages' field will be dynamically updated.		Volume2 Size - Volume10 Size:  A numeric item and shows the disk size in pages corresponding to that volume name.			Command items for 'Make Script!':		Make Script!;	Starts the operation.  It will prompt for confirmatation and ask for 'Installation Utitlity' floopy to be inserted into the floppy drive.  When confirmed will first delete the file from floppy and writes this new file back in.  When this is done, doing a 2-boot on the 'Installation Utitlity' floopy will bring the menu up.  The first item is labeled as "Partition Disk according to user definition'.  Select item 1 will repartition your disk as you specified.  				Quit!:	Deactivates the tool window.			Copy VMem!: Copy VMem performs a cross-volume copy of the virtual memory from one logical volume to another logical volume. Copy VMem pops up a separate window with the following parameter items and command items:	Source Volume:	Lisp			Destination Volume: xxxx	Start!					Quit!			Start!: Does the obvious.  File subwindow asks for confirmation of Source and Destination with the mouse icon.  When the virtual memory has been copied, the user can respond to the confirmation mesage to boot the Designation volume else to Quit.  		Scavenge!: Scavenge performs a file-scavenge on the volume selected.  This command is be used whenever you suspect the integrity of your disk volume.  It is recommended whenever you encounter strange behaviors on your system.  At the end of this operation, it produces an MSScavenge.log file in that volume.  Reading this file reveals the damaged files which have been repaired if any.	Floppy!:   Provides extra frloppy features. This command pops up a new window of the following parameters:		Pattern: 			Floppy Name: 		Info!				List! 			Format!				Duplicate! 		Quit!			Info! displays the floppy attribute information, like density mode(single or double), side mode(single or double), free pages and largest free block on your floppy.  It will also stuff the floppy name into the Floppy Name: field.		List! enumerates the floppy files according to the patten specified in the Pattern field.  Wild cards of * and # are supported.		Format! formats the floppy with the floppy name string supplied in Floppy Name: field.  You must specify the Floppy Name: field.  It formats as a ds/dd and with max 256 files.		Duplicate! duplicates a floppy. A minumum of 2450 pages are required on one of the logical volume for this operation.  Since all LispVM are automatically expaned when installed, shrinking the Max. VMem Size will yield the free pages  .       	3.3	HOW TO SET UP YOUR USER.CM FILE			The LispTool parses your user.cm file for some default setting upon coming up.  In specific 'User', 'Password', 'Domain', 'Organization' 'Device' and 'File' parameters can be set if their corresponding entry is present in the user.cm file.  Below is a sample user.cm,  you should modify the appropriate fileds for your convenience. 				[User.cm]	[LispTool]	User: Guest.registry	Password: YourPassword	Domain: XSIS 	Organization: XEROX	FileServer: IFS or FS or FLOPPY	NSFile: [Phylex:XSIS North:Xerox]<Lisp>Harmony>*Lisp.Sysout	PUPFile: [Dante]<Lisp>Harmony>Basics>Full.Sysout	FloppyFile: SpeechDemo.sysout	Screen: White	Debug: FALSE