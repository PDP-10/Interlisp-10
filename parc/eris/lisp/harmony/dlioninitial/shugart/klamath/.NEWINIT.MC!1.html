<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <title>File [eris]&lt;Lisp>Harmony>DlionInitial>Shugart>Klamath>NEWINIT.MC!1</title>
  </head>
  <body>
    <pre>
{NewInit.mcLichtenberg 13-Jul-84 18:42:06 changed to initialize both versions of u1FFFLast modifiedby don:       9-Sep-83  9:51:57Created by don:   2-Sep-83 13:38:39Purcell  1-Jul-84 23:23:09 disabled writes to IOPage which moves from init{2000} to lisp{14000}}{SetTask[0];}RegDef[uLisp1FFF,U,2E];   {Lisp's u1FFF}StartNewInit:	uRx &larr; Rx,	c1;	UQSave &larr; Q,	c2;	Q &larr; rhRx,	c3;	UGsave &larr; Q,	c1;	,	c2;	,	c3;	Rx{182} &larr; 0C1 LRot1,	c1;	Rx &larr; Rx LRot1,	c2;	uPcBreak &larr; Rx{304},	c3;	Rx &larr; VALspace,	c1;	uValHigh &larr; Rx,	c2;	{stackP &larr; 0,}	c3;	Rx &larr; Rx xor ~Rx,	c1;	unboundPvar &larr; Rx,	c2;	unboundFvar &larr; Rx,	c3;	uStkLimO &larr; Rx,	c1;	uWP &larr; 0,	c2;	uWDC &larr; 0{uWDC inited by mesaInit},	c3;	Rx &larr;  ~0FD,	c1;	Rx &larr; Rx LRot8,	c2;	uBfResidualRhmask &larr; Rx{2FF},	c3;	Rx &larr;  0A0,	c1;	Rx &larr; Rx LRot8,	c2;	uFreeStackBlock &larr; Rx{0A000},	c3;	Rx &larr;  0FF + 1,	c1;	uFxNoPushReturn &larr; Rx{100h},	c2;	Rx &larr;  LShift1(Rx + Rx), SE&larr;0,	c3;	uFxInCall &larr; Rx{400h},	c1;	Rx &larr;  7F,	c2;	u7F &larr; Rx{7F},	c3;	Rx &larr;  ~0FF,	c1;{OK}	u0FF &larr; ~Rx{~0FF},	c2;	uFF00 &larr;  Q &larr; Rx{~0FF},	c3;	Rx &larr; Q{0FF00} or 1,	c1;	Rx &larr; Rx LRot8,	c2;	u1FF &larr; Rx{1FF},	c3;	Rx &larr; Q{0FF00} or 3,	c1;	Rx &larr; Rx LRot8,	c2;	uTT3FF &larr; Rx{3FF},	c3;	Rx &larr; Q{0FF00} or 3,	c1;	Rx &larr; Rx LRot8,	c2;	u3FF &larr; Rx{3FF},	c3;	Rx &larr; Q{0FF00} or 0F,	c1;	Rx &larr; Rx LRot8,	c2;	u0FFF &larr; Rx{0FFF},	c3;	Rx &larr; Q{0FF00} or 1F,	c1;	Rx &larr; Rx LRot8,	c2;	u1FFF &larr; Rx{1FFF},	c3;        uLisp1FFF {called u1FFF in lisp code} &larr; Rx, c1;	, c2;	, c3;	Rx &larr; Q{0FF00} or 3F,	c1;	Rx &larr; Rx LRot8,	c2;	uTT3FFF &larr; Rx{3FFF},	c3;	Rx &larr; Q{0FF00} or 3F,	c1;	Rx &larr; Rx LRot8,	c2;	u3FFF &larr; Rx{3FFF},	c3;	Rx &larr; Q{0FF00} or 7F,	c1;	Rx &larr; Rx LRot8,	c2;	u7FFF &larr; Rx{7FFF},	c3;	Rx &larr; Q{0FF00} or 7,	c1;	Rx &larr; Rx LRot8,	c2;	u7FF &larr; Rx{7FF},	c3;	,	c1;	Rx &larr; Rx xor 1,	c2;	u7FE &larr; Rx{7FF},	c3;	Rx &larr; 0,	c1;	uLispOptions &larr; Rx,	c2;	c3;	{	{rCount}RCnt &larr; 0,	}	c1;	{	{rY}RAdr &larr; 0,	}	c2;	Rx &larr; 80,	c3;	Rx &larr;  Rx LRot8,	c1;	Noop,	c2;	uBFmark &larr; Rx{8000},	c3;{compliance: using uSTACKspace with duplicated high byte for bind ptr}	Rx &larr; STACKspace,	c1;	Rx &larr; Rx LRot8,	c2;	Rx &larr; Rx or STACKspace,	c3;	Noop,	c1;	uSTACKspace &larr; Rx,	c2;	Rx &larr; 0C0,	c3;	Rx &larr;  Rx LRot8,	c1;	Noop,	c2;	uFXmark &larr; Rx{C000},	c3;	Set[UFNTablePageHalf, Rshift[UFNTablebase, 9]];	Rx &larr;  UFNTablePageHalf,	c1;	Rx &larr;  Rx LRot8,	c2;	uUFNTableBaseHalf &larr; Rx,	c3;	Rx &larr; 88,	c1;	Rx &larr; Rx LRot8,	c2;	Q &larr; Rx,	c3;	,	c1;	Rx &larr; 1 RRot1, rhRx &larr; 1,	c2;	Rx{4000} &larr; Rx RShift1,	c3;	{MAR &larr; [rhRx, 0EC+0],	c1;	MDR &larr; 0,	c2;	,	c3;	MAR &larr; [rhRx, 0ED+0],	c1;	MDR &larr; Q{88} or 22,	c2;	,	c3;}	Rx &larr; uRx,	c1;	Q &larr; UQSave,	c2;	rhRx &larr; UGsave, GOTO[BackFromNewInit],	c3;		{ E N D }</pre>
  </body>
</html>
