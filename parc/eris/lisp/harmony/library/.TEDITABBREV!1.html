<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <title>File [eris]&lt;Lisp>Harmony>Library>TEDITABBREV!1</title>
  </head>
  <body>
    <pre>
(FILECREATED "10-Sep-84 15:58:34" {ERIS}&lt;TEDIT&gt;TEDITABBREV.;5 2518         changes to:  (FNS \TEDIT.ABBREV.EXPAND)      previous date: "25-Jul-84 16:01:25" {ERIS}&lt;TEDIT&gt;TEDITABBREV.;4)(* Copyright (c) 1983, 1984 by John Sybalsky &amp; Xerox Corporation. All rights reserved.)(PRETTYCOMPRINT TEDITABBREVCOMS)(RPAQQ TEDITABBREVCOMS [(FILES TEDITCOMMAND)			(FNS \TEDIT.ABBREV.EXPAND)			(GLOBALVARS TEDIT.ABBREVS)			(VARS (TEDIT.ABBREVS (LIST [CONS "b" (MKSTRING (CHARACTER (CHARCODE #7]						   [CONS "n" (MKSTRING (CHARACTER (CHARCODE #&uarr;%[]						   [CONS "m" (MKSTRING (CHARACTER (CHARCODE #&uarr;\]						   (QUOTE ("%"" . "``"])(FILESLOAD TEDITCOMMAND)(DEFINEQ(\TEDIT.ABBREV.EXPAND  [LAMBDA (STREAM)                                           (* jds "14-Feb-84 16:30")                                                             (* Expand an abbvreviation)    (PROG ((TEXTOBJ (fetch (TEXTSTREAM TEXTOBJ) of STREAM))	   SEL CH# (CH NIL)	   EXPANSION)          (SETQ SEL (fetch SEL of TEXTOBJ))          (SETQ CH# (SELECTQ (fetch POINT of SEL)			     (LEFT (SUB1 (fetch CH# of SEL)))			     (RIGHT (fetch CHLIM of SEL))			     0))          [COND	    ((ZEROP CH#)                                     (* If we're off the front of the document, don't bother 							     trying.)	      (RETURN))	    ((ZEROP (fetch DCH of SEL))                      (* Point Selection, so use the character to the left)	      (\SETUPGETCH CH# TEXTOBJ)	      [SETQ CH (MKSTRING (CHARACTER (\BIN STREAM]	      (TEDIT.SETSEL STREAM CH# 1 (QUOTE LEFT)))	    (T                                               (* We have a selection that isn't just a caret.							     Use it.)	       (SETQ CH (TEDIT.SEL.AS.STRING STREAM]          (SETQ EXPANSION (SASSOC CH TEDIT.ABBREVS))         (* Find the abbreviation's expansion)          (COND	    (EXPANSION                                       (* It exists, so insert it where the abbrev used to be)		       (TEDIT.DELETE TEXTOBJ SEL)		       (TEDIT.INSERT STREAM (CDR EXPANSION)				     SEL]))(DECLARE: DOEVAL@COMPILE DONTCOPY(GLOBALVARS TEDIT.ABBREVS))(RPAQ TEDIT.ABBREVS (LIST [CONS "b" (MKSTRING (CHARACTER (CHARCODE #7]			  [CONS "n" (MKSTRING (CHARACTER (CHARCODE #&uarr;%[]			  [CONS "m" (MKSTRING (CHARACTER (CHARCODE #&uarr;\]			  (QUOTE ("%"" . "``"))))(PUTPROPS TEDITABBREV COPYRIGHT ("John Sybalsky &amp; Xerox Corporation" 1983 1984))(DECLARE: DONTCOPY  (FILEMAP (NIL (669 2143 (\TEDIT.ABBREV.EXPAND 679 . 2141)))))STOP</pre>
  </body>
</html>
