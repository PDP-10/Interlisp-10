{bxLispIO4K.mcPurcell 23-Jul-85  0:50:58created by cal:   5-Nov-84 15:59:05 }{*****************************************************************************	BITBLT*****************************************************************************}BBThru:	TOSH _ smallpl, GOTO[IB.pc1]	,c1;{*****************************************************************************	MISC	Input*****************************************************************************}@MISC1:	opcode[170'b],	L2 _ L2.0, GOTO[Misc],	c1;@MISC2:	opcode[171'b],	L2 _ L2.0,	c1;Misc:	PC _ PC + 1, Xbus _ ib, XDisp,	c2;	uTOS _ TOS, YDisp, DISP4[MiscDisp, 0C],	c3;Misc0:	Q _ 121'd, CANCELBR[sink2, 0F],	c1, at[0C,10, MiscDisp];{MP9121}Misc3:	Q _ 121'd, CANCELBR[sink2, 0F],	c1, at[0F,10, MiscDisp];{MP9121}{*****************************************************************************	INPUT	Input*****************************************************************************}INPUT:	DISP4[MiscIn],	c1, at[0D,10, MiscDisp];	TOS _ 0, L2 _ L2.0, IBDisp, GOTO[MiscInEnd], c2, at[0,10,MiscIn];  {was ¬EIData}	TOS _ 0, L2 _ L2.0, IBDisp, GOTO[MiscInEnd], c2, at[1,10,MiscIn];  {was ¬EStatus}	TOS _ 0, L2 _ L2.0, IBDisp, GOTO[MiscInEnd], c2, at[2,10,MiscIn];  {was ¬KIData}	TOS _ 0, L2 _ L2.0, IBDisp, GOTO[MiscInEnd], c2, at[3,10,MiscIn];  {was ¬KStatus}	TOS _ uSTATE, L2 _ L2.0, IBDisp, GOTO[MiscInEnd], c2, at[4,10,MiscIn];  {uSTATE}	TOS _ 0, L2 _ L2.0, IBDisp, GOTO[MiscInEnd], c2, at[5,10,MiscIn];  {was ¬MStatus}	TOS _ 0, L2 _ L2.0, IBDisp, GOTO[MiscInEnd], c2, at[6,10,MiscIn];  {was ¬KTest}	TOS _ 0, L2 _ L2.0, IBDisp, GOTO[MiscInEnd], c2, at[7,10,MiscIn];  {was ¬PPort}	TOS _ VersionHi, GOTO[MiscVers],	c2, at[8,10,MiscIn];	{Q _ 122'd, GOTO[sink3],	c2, at[09,10,MiscIn];{MP9122}}	{Q _ 122'd, GOTO[sink3],	c2, at[0A,10,MiscIn];{MP9122}}	Q _ 122'd, GOTO[sink3],	c2, at[0B,10,MiscIn];{MP9122}	Q _ 122'd, GOTO[sink3],	c2, at[0C,10,MiscIn];{MP9122}	Q _ 122'd, GOTO[sink3],	c2, at[0D,10,MiscIn];{MP9122}	Q _ 122'd, GOTO[sink3],	c2, at[0E,10,MiscIn];{MP9122}	Q _ 122'd, GOTO[sink3],	c2, at[0F,10,MiscIn];{MP9122}MiscInEnd:	TOSH _ smallpl, L2 _ L2.0, DISPNI[OpTable],	c3;MiscVers:	TOS _ TOS LRot8,	c3;	TOS _ TOS or VersionLo,	c1;	IBDisp, L2 _ L2.0, GOTO[MiscInEnd],	c2;{*****************************************************************************	OUTPUT	Output*****************************************************************************}OUTPUT:	MAR _ S _ [rhS, S + 0], Xbus _ uTOS, XDisp, CANCELBR[$, 0F],	c1, at[0E,10, MiscDisp];	S _ S - 2, DISP4[MiscOut],	c2;	{TT _ MD, GOTO[OutEnd], c3, at[0,10,MiscOut];  {was IOPOData¬}}	TT _ MD, GOTO[OutEnd], c3, at[1,10,MiscOut];  {was IOPCtl¬}	TT _ MD, GOTO[OutEnd], c3, at[2,10,MiscOut];  {was KOData¬}	TT _ MD, GOTO[OutEnd], c3, at[3,10,MiscOut];  {was KCtl¬}	TT _ MD, GOTO[OutEnd], c3, at[4,10,MiscOut];  {was EOData}	TT _ MD, GOTO[OutEnd], c3, at[5,10,MiscOut];  {was EICtl¬}	TT _ MD, GOTO[OutEnd], c3, at[6,10,MiscOut];  {was DCtl¬}	TT _ MD, GOTO[OutEnd], c3, at[7,10,MiscOut];  {was Display Refresh}	TT _ MD, GOTO[OutSetOpt],	c3, at[8,10,MiscOut];		TT _ MD, GOTO[OutEnd], c3, at[ 9,10,MiscOut]; {was PCtl¬}	TT _ MD, GOTO[OutEnd], c3, at[0A,10,MiscOut]; {was MCtl¬}{%M}	{TT _ MD, GOTO[OutEnd], c3, at[0B,10,MiscOut]; }	TT _ MD, GOTO[OutEnd], c3, at[0C,10,MiscOut]; {was EOCtl¬}	TT _ MD, GOTO[OutEnd], c3, at[0D,10,MiscOut]; {was KCmd¬}	TT _ MD, GOTO[OutEnd], c3, at[0E,10,MiscOut]; {was Out PPort}	TT _ MD, GOTO[OutEnd], c3, at[0F,10,MiscOut]; {was POData¬}OutEnd:	Noop, GOTO[IB.nop],	c1;	OutSetOpt:	uLispOptions _ TT, GOTO[IB.nop],	c1;{*******************************************************************}logout:	TT _ 55{password to mesa}, CANCELBR[$]	c2;	rhRx _ Rx _ uIOPage,	c3;Off:	MAR _ [rhRx, IOPage.ProcessorCommand+0],	c1, at[LOGOUT];	MDR _  4,	c2;	uLispBootMsg _ TT,  GOTO[Off],	c3;{*******************************************************************}{ The following code is special for the Daybreak}	{ E N D }