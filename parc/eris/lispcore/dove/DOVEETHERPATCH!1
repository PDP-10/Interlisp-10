(FILECREATED "13-Nov-85 15:19:05" {ERIS}<LISPCORE>DOVE>DOVEETHERPATCH.;1 1402         changes to:  (VARS DOVEETHERPATCHCOMS))(* Copyright (c) 1985 by Xerox Corporation. All rights reserved.)(PRETTYCOMPRINT DOVEETHERPATCHCOMS)(RPAQQ DOVEETHERPATCHCOMS ((FNS \10MB.RESTART.ETHER)))(DEFINEQ(\10MB.RESTART.ETHER  (LAMBDA (NDB)                                              (* ejs: "13-Nov-85 13:36")          (* * Kick the Ethernet receiver microcode (or Daybreak IOP) to restart the Ethernet receiver task.	  This function gets called when the 10MBDRIVER thinks the Ethernet has been accidentally disabled)    (SELECTC \MACHINETYPE	       (\DANDELION (\DEVICE.OUTPUT \DL.ENABLE.INPUT \DL.ETHERINPUTREG))	       (\DOLPHIN (\DEVICE.OUTPUT \D0.ENABLE.10MBINPUT (\D0.CONTROLLERBITS NDB 										   \D0.INPUTSTATE)))	       (\DAYBREAK (LET ((EtherQueues (\ALLOCBLOCK (CONSTANT (FOLDHI (ITIMES										  2										  (MESASIZE 										  Dove.QueueBlock))										WORDSPERCELL)))))			       (\BLT EtherQueues (fetch (Dove.EtherFCB mesaOutQueue)						      of \DoveEther.FCBPointer)				       (CONSTANT (ITIMES 2 (MESASIZE Dove.QueueBlock))))			       (\DoveEther.TurnOn \MY.NSHOSTNUMBER EtherQueues)))	       NIL))))(PUTPROPS DOVEETHERPATCH COPYRIGHT ("Xerox Corporation" 1985))(DECLARE: DONTCOPY  (FILEMAP (NIL (299 1317 (\10MB.RESTART.ETHER 309 . 1315)))))STOP