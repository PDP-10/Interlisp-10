<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <title>[eris]&lt;LispCore>Intermezzo>dlion>LispTrident.dfn!1</title>
  </head>
  <body>
    <div style="width: 435pt; margin-left: 84pt; margin-top: 0pt; text-align: justify">
<span style="font: 8pt serif">{File LispTrident.dfn -- for trident assembly<br> Lichtenberg 30-Jun-84 17:22:37<br> Edited:  7-Jul-84 20:32:47 changed regs. U0C04, U2C04 because of conflict with display registers}<br><br><br>{Trident constants}<br>Set[CCSB64k, 1];<br>Set[CCSBHi, 40]; {set addr of CSB for Device0 to be physical loc 14000}<br>Set[CCSBLo, 1];<br>Set[CNextDev, 4];<br>Set[CCSBNextDev, 4];<br>Set[CLastDev, 10];<br>Set[CDsk3, 0C];<br>Set[CDsk2, 8];<br>Set[CDsk1, 4];<br><br>Set[CDisplIOCB, 4];<br>Set[CDisplCHdSec, 1];<br>Set[CDisplDtPtr, 4];<br>Set[CDisplPgCnt, 7];<br>Set[CDisplCStat, 8];<br>Set[CDisplDStat, 9]:<br>Set[CDisplDHdr, 0A];<br>Set[CDisplBSAdr, 11];<br>Set[CDisplLblWd5, 25];<br>Set[CDisplClntLbl, 20];<br>Set[CRelDisplDskLbl, 10];<br>Set[CDisplECC, 3C];<br><br>Set[CNotRdy, 8];</span></div>
<div style="width: 435pt; margin-left: 84pt; margin-top: 0pt; text-align: justify">
<span style="font: 8pt serif">Set[CTstRecalEr, 0B];<br>Set[CTstSkEr, 0B];<br>Set[CRecal, 0A];<br>Set[CTstRecal, 1];<br>Set[CTstFirstIOCB, 10];<br>Set[CDskCheck, 1];<br>Set[CTestForVrf, 7];<br>Set[CECCXfer, 0C8];<br><br>Set[CWURdy, 60];<br>Set[CWUAnyAtt, 10];<br>Set[CWUIndxFnd, 20];</span></div>
<span style="font: 10pt serif">Set[CWUSecFnd, 30];<br>Set[CWUDtReq, 40];<br><br>Set[CHDelRdSet, 8];<br>Set[CHDelWrSet, 1];<br>Set[CLDelRdSet, 2]; <br>Set[CDDelRdSet, 2]; 		{Constants may have to  be redefined}<br>Set[CHNRDelRdRst, 2]; <br>Set[CHWVDelRdRst, 5]; <br>Set[CLWVDelRdRst, 3];<br><br>Set[CCtlTag, 20];<br>Set[CHdTag, 40];<br>Set[CCylTag, 80];<br><br>Set[CHdAdv, 1];<br>Set[CRead, 40];<br>Set[CRstAtt, 40]; 		{this is actually the Read bit}<br><br>Set[CMaxSec, 1D];<br>Set[CRetry, 5A]; 		{look at 90 headers before giving up}<br><br>Set[CMemErrorTri, 0E];<br>Set[CHdrNotFnd, 10];<br>Set[CRecalError, 20];<br><br>Set[CGoodCompl, 40];<br>Set[CInProgress, 80];<br><br><br>{*** Trident Registers ***}<br><br><br>RegDef[RHAdr,	RH,	7];	{DiskTrident}<br>RegDef[UDskAdr,	U,	7F];	{Trident}<br><br>RegDef[USvAdrHi,	U,	74];	{Trident}<br>RegDef[USvAdrLo,	U,	73];	{Trident}	<br>RegDef[USIP,	U,	71];	{Trident - Set in InitDLion to 0}	<br>RegDef[UF000,	U,	0A7];	{Trident - Sequence constant}<br><br>RegDef[UBitSignAdr,	U,	82];	{Trident}<br>RegDef[UHdOffset,	U,	84];	{Trident}<br>RegDef[UHdrOp,	U,	85];	{Trident}<br>RegDef[UHCmd,	U,	86];	{Trident}<br>RegDef[UHCntl,	U,	87];	{Trident}<br>RegDef[UHMask,	U,	88];	{Trident}<br>RegDef[ULblOp,	U,	89];	{Trident}<br>RegDef[ULCmd,	U,	8A];	{Trident}<br>RegDef[ULCntl,	U,	8B];	{Trident}<br>RegDef[ULMask,	U,	8C];	{Trident}<br>RegDef[UDtOp,	U,	8D];	{Trident}<br>RegDef[UDCmd,	U,	8E];	{Trident}<br>RegDef[UDCntl,	U,	8F];	{Trident}<br>RegDef[UCylAdr,	U,	83];	{Trident}<br><br>RegDef[U0C04,	U,	098];          {Trident} { ** Changed because of lisp/display conflict}<br>RegDef[U2C04,	U,	097];          {Trident} { ** Chagned because of lisp/display conflict}<br>RegDef[U2C05,	U,	0AF];          {Trident}<br>RegDef[UCurHdSec,	U,	7C];	{Trident}<br>RegDef[UCStat,	U,	79];	{Trident}<br>RegDef[UDtPtrLo,	U,	75];	{Trident}	<br>RegDef[UDtPtrHi,	U,	76];	{Trident}<br>RegDef[UPgCnt,	U,	78];	{Trident}<br>RegDef[ULblWd5,	U,	70];	{Trident}<br>RegDef[UDMask,	U,	80];	{Trident}<br>RegDef[URetry,	U,	7D];	{Trident}<br>RegDef[UCStatMask,	U,	72];	{Trident - Set in InitDLion to 1E07}<br>RegDef[UIOCBLink,	U,	7E];	{Trident}<br>RegDef[UScratch,	U,	77];	{Trident}<br><br>RegDef[UDStat,	U,	7A];	{Trident}<br>RegDef[UIntMask,	U,	81];	{Trident}<br><br>{** New U register constant for MCtl&larr; usage}<br><br>RegDef[U8C02,U,0CF];<br><br><br>{ E N D }<br><br></span><script>function do_tabs() { // unit = px
  var tabs = document.getElementsByClassName("tab");
  for (var i = 0; i < tabs.length; ++i) {
    var span = tabs[i];
    var val = span.getAttribute("val");
    if (val == null) console.log("Couldn't get val");
    var rect = span.getBoundingClientRect();
    var tabstop;
    if (val > 0) tabstop = Math.ceil(rect.left / val) * val;
    else tabstop = -val;
    console.log("do_tabs", val, tabstop)
    if (tabstop > 0) {
      var width = tabstop - rect.left;
      span.style.display = "inline-block";
      span.style.width = width + "px";
    }
  }
}
do_tabs();
</script>
  </body>
</html>
