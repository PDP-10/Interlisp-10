<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <title>File [eris]&lt;LispCore>Intermezzo>doc>PolyPatch.doc!1</title>
  </head>
  <body>
    <pre>
1108X Intermezzo Poly Microcode Patch 		PolyPatch.doc	21-Nov-85	This Intermezzo Patch fixes a bug in the microcode for polynomial evaluation which affects the accuracy of trigonometric function such as SIN.  This patch is valid for all 1108s but the bug only effects some (newer, faster) floating point multiply chips on the Expanded Processor Option card.PATCH KIT CONTENTSThese instructions PolyPatch.docFloppy titled: LISP SYSOUT #1 with Poly PatchFloppy titled: INSTALLATION UTILITY with Poly Patch		PATCHING THEORYLisp runtime microcode is contained in the Sysout file near the beginning.  A patched version of the Intermezzo LISP.SYSOUT differs only in the first floppy which is included in the patch kit. Interlisp-D users may have other sysout files that would be difficult or impossible to rebuild which need patching. New microcode can be spliced into old sysout files with the the NCLIP function of the SPLICE.DCOM file.  The patched Lisp with new runtime microcode requires the installation of new initial mirocode.  Ordinarily initial microcode is installed by the Installation Utility as part of Installing System Tools but may now be installed separately.  If a patched lisp is booted on a machine with old initial microcode then the number 9099 will apear in the maintenance panel indicating a version mismatch.	1. TO CHANGE THE INTERMEZZO RELEASE KIT and INSTALLATION PROCEDURESa. Substitute "INSTALLATION UTILITY with Poly" for "INSTALLATION UTILITY"b. Substitute "LISP SYSOUT #1 with Poly Patch" for "LISP SYSOUT #1"c. Retain the remaining "LISP SYSOUT #n" floppiesd. When installing Intermezzo on an 1108X with Expanded Processor Option card follow the documented procedures with the above substitutions.2. TO PATCH A LISP SYSOUT FLOPPYNote: This procedure has already been applied to the LISP SYSOUT with Poly Patch and is normally skipped.a. Boot lisp normallyb. Insert floppy "INSTALLATION UTILITY  with patch files" c. (LOAD '{FLOPPY}SPLICE.DCOM)d. (COPYFILE '{FLOPPY}dLispDomino.db '{CORE}dLispDomino.db)e. Make a copy of the application's old "LISP SYSOUT #1" floppyf. (NCLIP '{CORE}dLispDomino.db '{FLOPPY}Lisp.Sysout) g. Load and test the modified Lisp.Sysout fileh. (Make certain that patched Initial Microcode has been installed.)3. TO PATCH A LISP SYSOUT ON A RANDOM ACCESS FILE SERVERNote: A sysout file on an NS File server cannot be patched.a. Boot lisp normallyb. Insert floppy "INSTALLATION UTILITY with Poly Patch" c. (LOAD '{FLOPPY}SPLICE.DCOM)d. (NCLIP '{CORE}dLispDomino.db '{server}&lt;directory&gt;Lisp.Sysout)e. Load and test the modified Lisp.Sysout filef. (Make certain that patched Initial Microcode has been installed.)4. TO UPGRADE A MACHINE WITH PREVIOUSLY INSTALLED LISPThis procedure overwrites the installed virtual memory (sysout) file with a patched one.a. Insert "INSTALLATION UTILITY with Poly Patch" floppy in driveb. Perform Alternate 2 boot c. Select "Reinstall Initial Microcode"d. With patched Sysout files follow the 1108 Users Guide section:	"Installing Interlisp-D Software on the Lisp Volume(s)"</pre>
  </body>
</html>
