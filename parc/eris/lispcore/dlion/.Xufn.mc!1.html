<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <title>File [eris]&lt;LispCore>dlion>Xufn.mc!1</title>
  </head>
  <body>
    <pre>
{Xufn.mclast edit by cal:  31-Aug-83 10:13:58}{**************************}ufnZ2:	,	c2;ufnZ3:	,	c3;ufnZ1:	TOS &larr; uTOS,	c1;	TOSH &larr; uTOSH, GOTO[ufnX3],	c2;ufnX1:	c1;ufnX2:	c2;ufnX3:	S &larr; S + 1,	c3;	MAR &larr; [rhPC, PC + 0], XC2npcDisp,	c1, at[ufnB1];	Rx &larr; 0FF, BRANCH[ufnLoByte, ufnHiByte, 0E],	c2;ufnLoByte:	Rx &larr; MD and Rx, GOTO[UFN],	c3;ufnHiByte:	TT &larr; MD,	c3;	TT &larr; TT and ~Rx,	c1;	Rx &larr; TT LRot8,	c2;	GOTO[UFN],	c3;ufn1:	Noop, CANCELBR[ufn2, 0F],	c1;ufn2:	Noop, CANCELBR[ufn3, 0F],	c2;ufn2incS:	S &larr; S + 1, CANCELBR[ufn3],	c2;ufn2inc2S:	S &larr; S + 2, CANCELBR[ufn3],	c2;ufn2inc3S:	S &larr; S + 3, CANCELBR[ufn3],	c2;ufn3:	S &larr; S + 1,	c3;UFN: {(S) Flush top of  stack}	{S:evenEmpty}	MAR &larr; [rhS, S], S &larr; S + 1,	c1;	MDR &larr; TOSH,  rhTT &larr; UFNspace{STATSspaceReal}, CANCELBR[$, 2], WriteOK,	c2;	TT &larr; (uUFNTableBaseHalf or Rx) LShift1,	c3;	Map &larr; Q &larr; [rhTT, TT + 0],	c1;	Noop,	c2;	rhTT &larr; TT &larr; MD, {RefBr,}	c3;	MAR &larr; [rhS, S + 0],	c1;	MDR &larr; TOS, TOS &larr; ib,	c2;	S &larr; S + 2,	c3;fnUT: {fetch from ufnTable}	{S:oddEmpty}	MAR &larr; [rhTT, Q + 1],	c1;	Rx &larr; smallpl, CANCELBR[$, 2],	c2;	TOSH{ibs} &larr; rhTOSH{args} &larr; MD,	c3;	MAR &larr; [rhTT, Q + 0],	c1;	S &larr; S, Xbus &larr; TOSH{ibs} LRot8, XDisp,	c2;	TT{deflo} &larr; MD, DISP4[ufns, 0C], L3{ibs} &larr; 0C,	c3;ufnIB: {optionally, push ib or ib,ib;  TOS{ib}, Rx{smallpl}}	{S:oddEmpty}	MAR &larr; [rhS, S - 1], GOTO[ufn12],	c1, at[0D, 10, ufns];	MAR &larr; [rhS, S - 1], GOTO[ufn12],	c1, at[0E, 10, ufns];ufn12:	MDR &larr; Rx{smallpl}, PC &larr; PC, CANCELBR[$, 2],	WriteOK, c2;	Rx &larr; TOS LRot8, L3Disp,	c3;	MAR &larr; S &larr; [rhS, S + 0], BRANCH[ufn1ib, ufn2ib, 0D],	c1;ufn1ib:	MDR &larr; TOS, WriteOK, CANCELBR[ufnJoin, 2],	c2;ufn2ib:	MDR &larr; Rx or ib, WriteOK, CANCELBR[ufnJoin, 2],	c2;{%%}ufnJoin:	S &larr; S + 2,	c3;ufnIV: {iVar (new) stored as end of old frame}	{S:oddEmpty}apply1:	Noop,	c1, at[0C, 10, ufns];	Noop,	c2;	TOSH{args2} &larr; rhTOSH{args} LShift1,	c3;apply2:	MAR &larr; [rhPV, PV - 6],	c1;	MDR &larr; TOSH{iVar} &larr; S - TOSH{arg2} - 1, BRANCH[$, SCar9, 1],	c2;SC9Cont:	TT &larr; TT + TT, rhTT &larr; DEFspace, GOTO[fnMD],	c3;{except}	Q &larr; 51'd, CANCELBR[sink2, 3],	c1, at[0F, 10, ufns];{MP9051}	{ E N D }</pre>
  </body>
</html>
