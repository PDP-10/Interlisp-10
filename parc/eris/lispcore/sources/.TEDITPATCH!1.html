<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <title>File [eris]&lt;LispCore>SOURCES>TEDITPATCH!1</title>
  </head>
  <body>
    <pre>
(FILECREATED "17-Mar-86 13:18:20" {ERIS}&lt;LISPCORE&gt;SOURCES&gt;TEDITPATCH.;1 3740         changes to:  (VARS TEDITPATCHCOMS))(* Copyright (c) 1986 by Xerox Corporation. All rights reserved.)(PRETTYCOMPRINT TEDITPATCHCOMS)(RPAQQ TEDITPATCHCOMS ((FNS TEDIT.GET.OBJECT)))(DEFINEQ(TEDIT.GET.OBJECT  [LAMBDA (STREAM PIECE FILE CURCH#)                                   (* rrb                                                                            "17-Mar-86 13:17")                                                                           (* Get an object from                                                                            the file)                                                                           (* CURCH# = fileptr                                                                            within the text section                                                                            of the file where the                                                                            object's text starts.)    (PROG ((TEXTOBJ (fetch (TEXTSTREAM TEXTOBJ) of STREAM))           FILEPTRSAVE NAMELEN GETFN OBJ)          (SETQ GETFN (\ATMIN FILE))                                       (* The GETFN for this                                                                            kind of IMAGEOBJ)          (SETQ FILEPTRSAVE (GETFILEPTR FILE))                             (* Save our file                                                                            location thru the                                                                            building of the object)          (SETFILEPTR FILE CURCH#)          (SETQ OBJ (READIMAGEOBJ FILE GETFN NIL (DIFFERENCE FILEPTRSAVE CURCH#)))          (COND             ((IMAGEOBJPROP OBJ (QUOTE UNKNOWNGETFN))                      (* If the object has                                                                            an unknown getfn                                                                            property, then it's an                                                                            encapsulated object.                                                                           Warn the user)              (TEDIT.PROMPTPRINT STREAM "WARNING: Document contains unknown image objects." T)))          (SETFILEPTR FILE FILEPTRSAVE)          (replace POBJ of PIECE with OBJ)          (replace PFILE of PIECE with NIL)          (replace PSTR of PIECE with NIL)          [replace PLOOKS of PIECE with (COND                                                       ((fetch PREVPIECE of PIECE)                                                        (fetch PLOOKS                                                           of (fetch PREVPIECE of PIECE))                                                        )                                                       (T (OR (fetch DEFAULTCHARLOOKS                                                                 of TEXTOBJ)                                                              (\TEDIT.UNIQUIFY.CHARLOOKS (                                                                                  CHARLOOKS.FROM.FONT                                                                                          DEFAULTFONT                                                                                          )                                                                     TEXTOBJ]          (RETURN (fetch POBJ of PIECE]))(PUTPROPS TEDITPATCH COPYRIGHT ("Xerox Corporation" 1986))(DECLARE: DONTCOPY  (FILEMAP (NIL (283 3659 (TEDIT.GET.OBJECT 293 . 3657)))))STOP</pre>
  </body>
</html>
