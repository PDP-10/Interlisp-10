<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <title>File [eris]&lt;LispCore>SOURCES>LOADINIT.CM!22</title>
  </head>
  <body>
    <pre>
// LoadInit.cm edited: October 14, 1986 by bvm// The path given to the Lisp command below should point to the LispCore sysout cache.// Code that runs after Lisp starts up assures that the cached sysout// is the most recent, and if not, fetches a new one and restarts itself.// Edited so that the most recent patche file is loadedDelete INIT.LISP!* INIT.SAVE!* // otherwise Lisp might read INIT.LISP!2Copy INIT.SAVE &larr; INIT.LISP  // save away site file to be restored belowFTP/-E ERIS Login/C Directory/C LispCore&gt;Next Ret/&lt;&gt;A Lisp.run DoradoLispMc.eb Ret/S &lt;Lisp&gt;Current&gt;Init.NOGREET Init.LispLisp {DSK7}LispCore.Sysout;"(SETQ *DEFAULT-EXECUTIVE* 'INTERLISP)(HARDRESET)(DELFILE '{DSK}INIT.LISP)(RENAMEFILE '{DSK}INIT.SAVE '{DSK}INIT.LISP)(DIRECTORY '{DSK6}INIT.DLINIT;* '(DELETE))(LET((DATE (CAR (NLSETQ (GETFILEINFO '{Eris}&lt;LispCore&gt;Saved&gt;FULL.SYSOUT 'ICREATIONDATE)))))(IF (AND DATE (IGREATERP DATE (GETFILEINFO '{DSK7}LispCore.Sysout;1 'ICREATIONDATE)))THEN (* Get new saved sysout)(NLSETQ (PROGN(COPYFILE '{Eris}&lt;LispCore&gt;Saved&gt;FULL.SYSOUT '{DSK7}LispCore.Sysout;1)(COPYFILE '{DSK}REM.CM;1 '{CORE}REM.CM) (* Repeat current command now)(OUTFILE '{DSK}REM.CM;1)(PRIN1 %"@LoadInit.cm@%")(COPYBYTES (OPENSTREAM '{CORE}REM.CM 'INPUT))(CLOSEF)(LOGOUT T)))))(LET* ((DATE-STRING (GETFILEINFO (QUOTE {DSK7}LISPCORE.SYSOUT) (QUOTE CREATIONDATE)))(PATCH-FILE (PACK* (QUOTE {ERIS}&lt;LISPCORE&gt;NEXT&gt;FULL.PATCHES-) (SUBSTRING DATE-STRING 1 9) %"-%" (SUBSTRING DATE-STRING 11 12) %"-%" (SUBSTRING DATE-STRING 14 15) %"-%" (SUBSTRING DATE-STRING 17 18))))(IF (INFILEP PATCH-FILE) THEN (CL:LOAD (OPENSTREAM PATCH-FILE 'INPUT))))CONN {ERIS}&lt;LispCore&gt;SOURCES&gt;(SETQ DIRECTORIES '({ERIS}&lt;LISPCORE&gt;SOURCES&gt;{ERIS}&lt;LISPCORE&gt;LIBRARY&gt;))(* FILESETS has where to get things from)(LOAD 'FILESETS) (FILESLOAD RENAMEFNS MAKEINIT DLFIXINIT)(* Versions are Lisp Microcode Bcpl)(PROGN (CNDIR '{CORE}) (IDLE.SET.OPTION 'TIMEOUT 0) (IDLE.SET.OPTION 'SAVEVM 0) (DORENAME 'I) (DLFIXINIT   (MAKEINIT '(113400Q 13040Q 24400Q)     NIL NIL     '({ERIS}&lt;LISPCORE&gt;SOURCES&gt; {ERIS}&lt;LISPCORE&gt;LIBRARY&gt;))   '{DSK6}INIT.DLINIT   '{ERIS}&lt;LISPCORE&gt;NEXT&gt;LispDLion.db    300) (LOGOUT T]] " </pre>
  </body>
</html>
