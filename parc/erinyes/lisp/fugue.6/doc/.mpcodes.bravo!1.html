<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <title>[Erinyes]&lt;LISP>FUGUE.6>Doc>mpcodes.bravo!1</title>
  </head>
  <body>
    <div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span style="font: 10pt serif"> </span><span style="font: italic 8pt serif"><br>filed on [rose]&lt;lisp&gt;fugue6&gt;doc&gt;MPcodes.bravo</span><span class="tab" val="24"></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif"><br><br><br></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: center">
<span style="font: bold 10pt serif">7.  MP Code Summary</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span style="font: 10pt serif"><br>There are two types of Maintenance Panel codes: progress codes and error codes.  Progress codes are placed in the Maintenance Panel at various stages of initialization.  Error codes are traps which freeze or blink the error number in the maintenance panel.  All errors except the 9000-range errors are fatal.<br><br>All MP codes less than 9000 are generated by non-Lisp programs implemented directly in microcode or in Mesa, a high-level programming language in use at Xerox.  MP codes from 9000 to 9999 are generated by an error in the Lisp system code.<br><br><br><br></span><span style="font: bold 10pt serif">Summary of MP code ranges</span><span style="font: 10pt serif"><br>Blank MP to 0099: Pre-boot diagnostics<br>0300-0399 Boot diagnostics<br>0600-0699 Memory diagnostics<br>0400-0499 Utility (Real time clock, etc.) diagnostics<br>0700-0799 Disk diagnostics (written in microcode)<br>0900-0999 Pilot OS <br>1000-1199 Disk Fault Analysis (10MB)<br>1300-1499 Disk Fault Analysis (42MB)<br>1600-1799 Disk Fault Analysis (29MB)<br>8888-8888 MP lamp test<br>9000-9999 Lisp<br><br></span><span style="font: bold 10pt serif">Boot-time errors<br></span><span style="font: 10pt serif">0096</span><span class="tab" val="24"></span><span style="font: 10pt serif">Insufficient real memory (&lt;1MByte) for Lisp<br>0149</span><span class="tab" val="24"></span><span style="font: 10pt serif">Usually right after power-on.  Disk not ready.  Safe and effective to 0-boot from this state. <br> <br></span><span style="font: bold 10pt serif">0200-0299 Booting phase 2 (Initial microcode)<br></span><span style="font: 10pt serif">0200</span><span class="tab" val="24"></span><span style="font: 10pt serif">normal booting phase 2<br>0201</span><span class="tab" val="24"></span><span style="font: 10pt serif">CP error in reading from boot device<br>0202</span><span class="tab" val="24"></span><span style="font: 10pt serif">null Mesa germ installed in physical volume<br>0203</span><span class="tab" val="24"></span><span style="font: 10pt serif">broken rigid disk boot chain (possibly intermittent)<br>0204</span><span class="tab" val="24"></span><span style="font: 10pt serif">Illegal IOP port command<br>0205</span><span class="tab" val="24"></span><span style="font: 10pt serif">CP Trap (CS parity or double-bit memory error)<br>0206</span><span class="tab" val="24"></span><span style="font: 10pt serif">null diagnostic microcode in physical volume<br>0207</span><span class="tab" val="24"></span><span style="font: 10pt serif">null Pilot/Mesa emulator microcode in physical volume<br>0208</span><span class="tab" val="24"></span><span style="font: 10pt serif">null Mesa germ installed in physical volume<br>0217</span><span class="tab" val="24"></span><span style="font: 10pt serif">Inconsistent Virtual Memory.  Requires re-installation or try another partition.<br><br></span><span style="font: bold 10pt serif">0500-0502 Domino progress codes<br></span><span style="font: 10pt serif">0500</span><span class="tab" val="24"></span><span style="font: 10pt serif">StartDomino</span><span class="tab" val="24"></span><span style="font: 10pt serif">Domino has started<br>0501</span><span class="tab" val="24"></span><span style="font: 10pt serif">InitReadTOD</span><span class="tab" val="24"></span><span style="font: 10pt serif">Domino starting to read the TOD clock<br>0502</span><span class="tab" val="24"></span><span style="font: 10pt serif">InitReadTODdone</span><span class="tab" val="24"></span><span style="font: 10pt serif">Reading of TOD clock completed (next MP number from Lisp)<br><br></span><span style="font: bold 10pt serif">0505-0599 Domino error codes<br></span><span style="font: 10pt serif">0505</span><span class="tab" val="24"></span><span style="font: 10pt serif">CSParity</span><span class="tab" val="24"></span><span style="font: 10pt serif">CS parity error detected<br>0506</span><span class="tab" val="24"></span><span style="font: 10pt serif">BurdockCPDisabled</span><span class="tab" val="24"></span><span style="font: 10pt serif">Burdock attempted to use EtherKludge<br>0507</span><span class="tab" val="24"></span><span style="font: 10pt serif">CPBurdockDisabled</span><span class="tab" val="24"></span><span style="font: 10pt serif">CP attempted to use EtherKludge<br>0508</span><span class="tab" val="24"></span><span style="font: 10pt serif">IOPBreak</span><span class="tab" val="24"></span><span style="font: 10pt serif">An IOP break with no IOP kernel<br>0509</span><span class="tab" val="24"></span><span style="font: 10pt serif">IllegalIOPIntr</span><span class="tab" val="24"></span><span style="font: 10pt serif">Illegal IOP interrupt<br>0510</span><span class="tab" val="24"></span><span style="font: 10pt serif">BadMapEntry</span><span class="tab" val="24"></span><span style="font: 10pt serif">Incorrect vm Map entry in IOP access.<br>0511</span><span class="tab" val="24"></span><span style="font: 10pt serif">NoCPDmaComplete</span><span class="tab" val="24"></span><span style="font: 10pt serif">CP Dma operation failed to complete<br>0512</span><span class="tab" val="24"></span><span style="font: 10pt serif">NoCPDmaChannel</span><span class="tab" val="24"></span><span style="font: 10pt serif">CP Dma channel not specified<br>0513</span><span class="tab" val="24"></span><span style="font: 10pt serif">ReadCPPortDead</span><span class="tab" val="24"></span><span style="font: 10pt serif">CP not responding to Read CPPort<br>0514</span><span class="tab" val="24"></span><span style="font: 10pt serif">WriteCPPortDead</span><span class="tab" val="24"></span><span style="font: 10pt serif">CP not responding to Write CPPort<br>0520</span><span class="tab" val="24"></span><span style="font: 10pt serif">StackOverflow</span><span class="tab" val="24"></span><span style="font: 10pt serif">A task&rsquo;s stack has overflowed<br>0565</span><span class="tab" val="24"></span><span style="font: 10pt serif">InvToneCmd</span><span class="tab" val="24"></span><span style="font: 10pt serif">Invalid keyboard tone generator comnd<br>0570</span><span class="tab" val="24"></span><span style="font: 10pt serif">InvProcCmd</span><span class="tab" val="24"></span><span style="font: 10pt serif">Invalid cmd value in Processor CSB<br>0571</span><span class="tab" val="24"></span><span style="font: 10pt serif">UnImplCmd</span><span class="tab" val="24"></span><span style="font: 10pt serif">Unimplemented cmd in Processor CSB<br>0572</span><span class="tab" val="24"></span><span style="font: 10pt serif">SetTODError</span><span class="tab" val="24"></span><span style="font: 10pt serif">The Time-Of-Day could not be set <br>0576</span><span class="tab" val="24"></span><span style="font: 10pt serif">LSEPCtlOVR</span><span class="tab" val="24"></span><span style="font: 10pt serif">LSEP Control CSB overrun<br>0580</span><span class="tab" val="24"></span><span style="font: 10pt serif">NoValidCommand</span><span class="tab" val="24"></span><span style="font: 10pt serif">Invalid floppy IOCB command<br>0581</span><span class="tab" val="24"></span><span style="font: 10pt serif">UnImplFloppyCmd</span><span class="tab" val="24"></span><span style="font: 10pt serif">Unimplemented floppy IOCB cmd<br>0582</span><span class="tab" val="24"></span><span style="font: 10pt serif">InvalidEscapeCmd</span><span class="tab" val="24"></span><span style="font: 10pt serif">Invalid Escape floppy cmd<br>0583</span><span class="tab" val="24"></span><span style="font: 10pt serif">CommandTrack</span><span class="tab" val="24"></span><span style="font: 10pt serif">Floppy track register is not correct<br>0584</span><span class="tab" val="24"></span><span style="font: 10pt serif">TrackToBig</span><span class="tab" val="24"></span><span style="font: 10pt serif">Floppy track number is too large<br>0585</span><span class="tab" val="24"></span><span style="font: 10pt serif">BadDmaChannel</span><span class="tab" val="24"></span><span style="font: 10pt serif">Couldn&rsquo;t program Floppy Dma<br>0586</span><span class="tab" val="24"></span><span style="font: 10pt serif">NoDmaEndCount1</span><span class="tab" val="24"></span><span style="font: 10pt serif">External Dma End Count not set<br>0587</span><span class="tab" val="24"></span><span style="font: 10pt serif">NoDmaEndCount2</span><span class="tab" val="24"></span><span style="font: 10pt serif">Internal Dma End Count not set<br><br><br></span><span style="font: bold 10pt serif">0900-0999 Pilot codes<br></span><span style="font: 10pt serif">0915</span><span class="tab" val="24"></span><span style="font: 10pt serif">Pilot breakpoint.  If 0915 occurs during the installation of the software, the problem could be a bad page on the rigid disk, the system cannot read the floppy disk, or a hardware failure.  Try running ALAG. If ALAG passes and Media Scan shows no new bad pages, the floppy disk (software installation) is suspect.<br>0937</span><span class="tab" val="24"></span><span style="font: 10pt serif">Trying to find out the time and date.  Will hang in this state if no time server is responding, and the time has not been set on the machine since power-up.  Time can be set from within Interlisp (with SETTIME), by 2-booting the Installation Utility floppy, or by 5-booting the EI Fixed Disk Diagnostics floppy.)<br>0981</span><span class="tab" val="24"></span><span style="font: 10pt serif">Trying to discover Ethernet pup host number.  Will hang in this state if non-Lisp code tries to perform Pup operations and no Pup ID Server responds.<br><br></span><span style="font: bold 10pt serif">9000-9299 Interlisp-D microcode error detected<br></span><span style="font: 10pt serif"><br>Most of these errors are indicative of some serious problem, probably hardware, and usually fatal (but try &uarr;D if you can&rsquo;t TeleRaid).  The main exception is 9004 see description of code 9304.<br><br>9001</span><span class="tab" val="24"></span><span style="font: 10pt serif">CSParErr</span><span class="tab" val="24"></span><span style="font: 10pt serif">Control store parity error<br>9002</span><span class="tab" val="24"></span><span style="font: 10pt serif">StackErr</span><span class="tab" val="24"></span><span style="font: 10pt serif">hardware stack overflow<br>9003</span><span class="tab" val="24"></span><span style="font: 10pt serif">IBEmptyErr</span><span class="tab" val="24"></span><span style="font: 10pt serif">instruction fetch unit empty error<br>9004</span><span class="tab" val="24"></span><span style="font: 10pt serif">VirtAddrErr</span><span class="tab" val="24"></span><span style="font: 10pt serif">Attempt to reference virtual address &gt;22 bits<br>9005</span><span class="tab" val="24"></span><span style="font: 10pt serif">EmuMemErr</span><span class="tab" val="24"></span><span style="font: 10pt serif">double bit memory error or non-existent memory<br>9013</span><span class="tab" val="24"></span><span style="font: 10pt serif">NegPcError</span><span class="tab" val="24"></span><span style="font: 10pt serif">inconsistent PC at FnCall<br>9014</span><span class="tab" val="24"></span><span style="font: 10pt serif">applyUfn</span><span class="tab" val="24"></span><span style="font: 10pt serif">arg to apply not integer<br>9016</span><span class="tab" val="24"></span><span style="font: 10pt serif">notFreeTrap</span><span class="tab" val="24"></span><span style="font: 10pt serif">stack allocation error<br>9024</span><span class="tab" val="24"></span><span style="font: 10pt serif">Page fault in the page fault handler.<br>9048</span><span class="tab" val="24"></span><span style="font: 10pt serif">ReFOvr page fault under page fault<br>9049</span><span class="tab" val="24"></span><span style="font: 10pt serif">Ghost context switch<br>9051</span><span class="tab" val="24"></span><span style="font: 10pt serif">BadUfnTable <br>9120</span><span class="tab" val="24"></span><span style="font: 10pt serif">MiscErr</span><span class="tab" val="24"></span><span style="font: 10pt serif">opcode no such register<br>9121</span><span class="tab" val="24"></span><span style="font: 10pt serif">MiscErr</span><span class="tab" val="24"></span><span style="font: 10pt serif">opcode bad 2nd byte<br>9127</span><span class="tab" val="24"></span><span style="font: 10pt serif">PcNegError</span><span class="tab" val="24"></span><span style="font: 10pt serif">inconsistent PC at Punt<br>9136</span><span class="tab" val="24"></span><span style="font: 10pt serif">CycleMask</span><span class="tab" val="24"></span><span style="font: 10pt serif">bad caller<br>9129</span><span class="tab" val="24"></span><span style="font: 10pt serif">M1Loc</span><span class="tab" val="24"></span><span style="font: 10pt serif">microcode error<br>9130</span><span class="tab" val="24"></span><span style="font: 10pt serif">M2Loc</span><span class="tab" val="24"></span><span style="font: 10pt serif">microcode error<br>9131</span><span class="tab" val="24"></span><span style="font: 10pt serif">M3Loc</span><span class="tab" val="24"></span><span style="font: 10pt serif">microcode error<br><br></span><span style="font: bold 10pt serif">9300-9399 Lisp system code error (call to \MP.ERROR)<br></span><span style="font: 10pt serif">These codes generally indicate an error state in Lisp system code that cannot be handled in the break package.  Most are "should never happen" cases that indicate a serious error; but some (in particular, 9305 and 9318) may be much less serious.  If possible, use TeleRaid to find out more information (press the Undo key to enter the TeleRaid server (cursor changes into "TeleRaid"), and run the TeleRaid user from another machine).  Even if you can&rsquo;t TeleRaid from another machine, several of these codes you can convert into a Lisp break if the state of the system is reasonably consistent and the error occurred under user code (rather than, say, the garbage collector): type </span><span style="font: bold 10pt serif">&uarr;B</span><span style="font: 10pt serif"> to the TeleRaid server.<br><br> Summary of TeleRaid server commands:<br><br></span><span style="font: bold 10pt serif">&uarr;B</span><span class="tab" val="24"></span><span style="font: 10pt serif">attempt to enter Break.  If error is in a special system context, will change cursor to "CANT", indicating refusal to enter break. <br><br></span><span style="font: bold 10pt serif">&uarr;D</span><span class="tab" val="24"></span><span style="font: 10pt serif">perform Hard Reset&mdash;clear stack, flush all non-restartable processes.<br><br></span><span style="font: bold 10pt serif">&uarr;N</span><span class="tab" val="24"></span><span style="font: 10pt serif">continue from error.  This is usually not possible, except for code 9318, or when you got a 9915 error by typing &uarr;C while the Raid interrupt was enabled.<br><br></span><span style="font: bold 10pt serif">&uarr;P</span><span class="tab" val="24"></span><span style="font: 10pt serif">display Pup host number (in decimal) in maintenance panel.<br><br>9302</span><span class="tab" val="24"></span><span style="font: 10pt serif">Invalid Vmem: attempt to boot an image that is not a valid Lisp sysout, or which is inconsistent from having some, but not all, of its dirty pages written.  Can happen if you boot instead of calling LOGOUT.  Usually caught sooner as code 0217.<br>9303</span><span class="tab" val="24"></span><span style="font: 10pt serif">No place for IOCB page at startup; should never happen.<br>9304</span><span class="tab" val="24"></span><span style="font: 10pt serif">Map out of bounds: attempt to use a pointer larger than the virtual address space of the machine.  Usually means garbage was fetched from somewhere that should have contained a pointer.  This usually appears as code 9004 instead. <br>9305</span><span class="tab" val="24"></span><span style="font: 10pt serif">Invalid address: attempt to use a pointer that does not refer to an existing (allocated) part of virtual memory.  Usually means garbage was fetched from somewhere that should have contained a pointer.  This error can often be converted to a break with the &uarr;B TeleRaid command.<br>9306</span><span class="tab" val="24"></span><span style="font: 10pt serif">Invalid virtual page.  Usually caught sooner, as a 9004. <br>9307</span><span class="tab" val="24"></span><span style="font: 10pt serif">Unavailable page on real page chain: inconsistent state in page fault handler.<br>9308</span><span class="tab" val="24"></span><span style="font: 10pt serif">Loop in \SELECTREALPAGE: inconsistent state in page fault handler.<br>9309</span><span class="tab" val="24"></span><span style="font: 10pt serif">Attempt to allocate already existing page (from call to \NEWPAGE).<br>9310</span><span class="tab" val="24"></span><span style="font: 10pt serif">\DONEWPAGE failed to allocate new map page<br>9311</span><span class="tab" val="24"></span><span style="font: 10pt serif">Locked page occupies a file page needed to lock another: bad state in virtual memory system.<br>9312</span><span class="tab" val="24"></span><span style="font: 10pt serif">Arg to CLOCK0 not an integer box.<br>9313</span><span class="tab" val="24"></span><span style="font: 10pt serif">Fault on resident page: processor took a page fault for a page that appears to be resident.<br>9314</span><span class="tab" val="24"></span><span style="font: 10pt serif">PageFault on stack: shouldn&rsquo;t happen, as stack is resident.<br>9318</span><span class="tab" val="24"></span><span style="font: 10pt serif">Error in uninterruptable system code: an error that ordinarily would enter a break (e.g., a type test failure), but in a piece of code that should not be user-interruptable.  This is generally a sign that some datum used by system code has been smashed, but this is not always fatal.  Should you not have a wizard handy to diagnose the error with TeleRaid, you can type &uarr;N after entering the TeleRaid server; Lisp will go ahead and attempt to enter a the break anyway, from which (if it succeeds) you might be able to glean more information about the problem.<br><br></span><span style="font: bold 10pt serif">9400-9899 unassigned<br></span><span style="font: 10pt serif"><br></span><span style="font: bold 10pt serif">9900-9924 Attempt to call Raid or Alto O.S. <br></span><span style="font: 10pt serif"><br>The only one that is likely to ever occur is 9915, call to RAID.  Note that if you have the Raid interrupt enabled (by default on &uarr;C), you will get a 9915 error by typing that interrupt character.<br><br>9905</span><span class="tab" val="24"></span><span style="font: 10pt serif">NOOPSUBR<br>9906</span><span class="tab" val="24"></span><span style="font: 10pt serif">\BACKGROUNDSUBR<br>9907</span><span class="tab" val="24"></span><span style="font: 10pt serif">\CHECKBCPLPASSWORD<br>9908</span><span class="tab" val="24"></span><span style="font: 10pt serif">DISKPARTITION<br>9909</span><span class="tab" val="24"></span><span style="font: 10pt serif">DSPBOUT<br>9910</span><span class="tab" val="24"></span><span style="font: 10pt serif">\DSPRATE<br>9911</span><span class="tab" val="24"></span><span style="font: 10pt serif">\GATHERSTATS<br>9912</span><span class="tab" val="24"></span><span style="font: 10pt serif">\GETPACKETBUFFER <br>9913</span><span class="tab" val="24"></span><span style="font: 10pt serif">\LISPFINISH<br>9914</span><span class="tab" val="24"></span><span style="font: 10pt serif">\MOREVMEMFILE<br>9915</span><span class="tab" val="24"></span><span style="font: 10pt serif">RAID<br>9916</span><span class="tab" val="24"></span><span style="font: 10pt serif">\READRAWPBI <br>9917</span><span class="tab" val="24"></span><span style="font: 10pt serif">\WRITERAWPBI<br>9918</span><span class="tab" val="24"></span><span style="font: 10pt serif">SETSCREENCOLOR<br>9919</span><span class="tab" val="24"></span><span style="font: 10pt serif">SHOWDISPLAY<br>9920</span><span class="tab" val="24"></span><span style="font: 10pt serif">\PUPLEVEL1STATE<br>9921</span><span class="tab" val="24"></span><span style="font: 10pt serif">\WRITESTATS<br>9922</span><span class="tab" val="24"></span><span style="font: 10pt serif">\CONTEXTSWITCH<br>9923</span><span class="tab" val="24"></span><span style="font: 10pt serif">\COPYSYS0SUBR<br>9924</span><span class="tab" val="24"></span><span style="font: 10pt serif">\WRITEMAP</span></div>
<script>function do_tabs() { // unit = px
  var tabs = document.getElementsByClassName("tab");
  for (var i = 0; i < tabs.length; ++i) {
    var span = tabs[i];
    var val = span.getAttribute("val");
    if (val == null) console.log("Couldn't get val");
    var rect = span.getBoundingClientRect();
    var tabstop;
    if (val > 0) tabstop = Math.ceil(rect.left / val) * val;
    else tabstop = -val;
    console.log("do_tabs", val, tabstop)
    if (tabstop > 0) {
      var width = tabstop - rect.left;
      span.style.display = "inline-block";
      span.style.width = width + "px";
    }
  }
}
do_tabs();
</script>
  </body>
</html>
